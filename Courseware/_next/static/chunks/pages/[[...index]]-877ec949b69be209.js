(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5194:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...index]]",function(){return n(383)}])},383:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return k},default:function(){return y}});var s={};n.r(s),n.d(s,{MDXContext:function(){return i},MDXProvider:function(){return u},useMDXComponents:function(){return o},withMDXComponents:function(){return a}});var l=n(5893),r=n(7294),c=n(2746);let i=r.createContext({});function a(e){return function(t){let n=o(t.components);return r.createElement(e,{...t,allComponents:n})}}function o(e){let t=r.useContext(i);return r.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}let d={};function u({components:e,children:t,disableParentContext:n}){let s;return s=n?"function"==typeof e?e({}):e||d:o(e),r.createElement(i.Provider,{value:s},t)}function x({compiledSource:e,frontmatter:t,scope:n,components:l={},lazy:i}){let[a,o]=(0,r.useState)(!i||"undefined"==typeof window);(0,r.useEffect)(()=>{if(i){let e=window.requestIdleCallback(()=>{o(!0)});return()=>window.cancelIdleCallback(e)}},[]);let d=(0,r.useMemo)(()=>{let l=Object.assign({opts:{...s,...c.jsxRuntime}},{frontmatter:t},n),r=Object.keys(l),i=Object.values(l),a=Reflect.construct(Function,r.concat(`${e}`));return a.apply(a,i).default},[n,e]);if(!a)return r.createElement("div",{dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0});let x=r.createElement(u,{components:l},r.createElement(d,null));return i?r.createElement("div",null,x):x}"undefined"!=typeof window&&(window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)});var m=n(9008),h=n.n(m),f=n(1163);function p(e){let t=e+"=",n=decodeURIComponent(document.cookie),s=n.split(";");for(let e=0;e<s.length;e++){let n=s[e];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}function b(){let e=(0,f.useRouter)();async function t(t){t.preventDefault();let n=new FormData(t.currentTarget),s=n.get("token");!function(e,t){let n=new Date;n.setFullYear(n.getFullYear()+1),document.cookie="".concat(e,"=").concat(t,";expires=").concat(n.toUTCString(),";path=/")}("token",s),e.reload(window.location.pathname)}if("undefined"!=typeof document){var n=p("token");n||(n="TOKEN")}return(0,l.jsx)("div",{className:"sticky top-0 z-40 w-full backdrop-blur flex-none border-b border-slate-900/10 bg-white/75 supports-backdrop-blur:bg-white/60",children:(0,l.jsx)("div",{className:"max-w-8xl mx-auto",children:(0,l.jsx)("div",{className:"py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0",children:(0,l.jsxs)("div",{className:"relative flex items-center",children:[(0,l.jsx)("a",{href:"/",children:"Yanyan's wiki"}),(0,l.jsxs)("form",{onSubmit:t,className:"text-xs text-slate-500",children:["\xa0for\xa0",(0,l.jsx)("input",{type:"text",name:"token",className:"font-mono text-xs w-16",maxLength:"8",defaultValue:n,onFocus:e=>{e.target.select()}})]}),(0,l.jsx)("div",{className:"relative hidden lg:flex items-center ml-4 pl-4 border-l",children:(0,l.jsx)("nav",{className:"text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200",children:(0,l.jsx)("ul",{className:"flex space-x-8",children:(0,l.jsx)("li",{children:(0,l.jsx)("a",{className:"hover:text-sky-500 dark:hover:text-sky-400",href:"/OS/2025/",children:"操作系统 (2025 春)"})})})})})]})})})})}function j(e){let{title:t,body:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h(),{children:[(0,l.jsx)("title",{children:t||"Yanyan's Wiki"}),(0,l.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"}),(0,l.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"})]}),(0,l.jsxs)("div",{className:"bg-slate-300/10",children:[(0,l.jsx)(b,{}),(0,l.jsx)("div",{className:"container mx-auto max-w-5xl flex flex-col min-h-screen px-4",children:(0,l.jsx)("div",{className:"wiki bg-neutral-200/10",children:n})}),(0,l.jsx)("div",{className:"bg-neutral-100 text-center text-neutral-600 dark:bg-neutral-600 dark:text-neutral-200 lg:text-left",children:(0,l.jsxs)("div",{className:"bg-neutral-200 p-6 text-center dark:bg-neutral-700",children:[(0,l.jsx)("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc/4.0/",children:"Creative Commons License: BY-NC 4.0"}),(0,l.jsx)("br",{}),(0,l.jsx)("a",{href:"https://beian.miit.gov.cn/",children:"苏 ICP 备 2020049101 号"})]})})]})]})}let g=e=>{let{url:t}=e;return(0,l.jsx)("div",{className:"mx-20",children:(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("div",{className:"slideshow w-full aspect-[4/3]",children:(0,l.jsx)("iframe",{className:"w-full h-full",src:t})})})})},v=e=>{let{title:t,logo:n,children:s}=e,r=(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"float-left text-4xl mr-3 mt-2",children:n}),(0,l.jsx)("span",{className:"font-serif text-lg border-b border-slate-600",children:(0,l.jsx)("b",{children:t})}),(0,l.jsx)("div",{className:"font-serif pt-2",children:s})]});if("string"==typeof n){if(n.includes("⚠️"))return(0,l.jsx)("div",{className:"box red-box",children:r});if(n.includes("⏰"))return(0,l.jsx)("div",{className:"box yellow-box",children:r});if(n.includes("⚖️"))return(0,l.jsx)("div",{className:"box slate-box",children:r});if(n.includes("\uD83D\uDCA1"))return(0,l.jsx)("div",{className:"box purple-box",children:r})}return(0,l.jsx)("div",{className:"box blue-box",children:r})};function w(e){let{url:t,onClose:n}=e;if(!t)return null;let s=t.split("/");return s[s.length-2],(0,l.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-40 backdrop-blur-sm flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-slate-100/80 p-5 rounded-md flex flex-col items-center space-y-4",children:[(0,l.jsx)("p",{children:(0,l.jsx)("code",{className:"select-all",children:'wget -r -np -nH --cut-dirs=2 -R "index.html*" '.concat(t)})}),(0,l.jsx)("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"OK"})]})})}let N={Box:v,Quiz:e=>{let{title:t,question:n,options:s,answer:c,comment:i}=e,[a,o]=(0,r.useState)(-1),[d,u]=(0,r.useState)(!1),x=e=>{console.log(e),o(e),u(!0)},m=s.map(function(e,t){return t==c?(0,l.jsxs)("li",{className:"bg-green-300",children:[" ",e," "]}):t==a?(0,l.jsxs)("li",{className:"bg-red-300",children:[" ",e," "]}):(0,l.jsxs)("li",{children:[" ",e," "]})}),h=s.map((e,t)=>(0,l.jsx)("li",{className:"hover:cursor-pointer hover:bg-slate-200",onClick:()=>x(t),children:e},t));return(0,l.jsxs)(v,{logo:"\uD83D\uDCA1",title:t,children:[(0,l.jsx)("div",{className:"py-1",dangerouslySetInnerHTML:{__html:n}}),(0,l.jsxs)("ol",{className:"quiz-card p-0 ml-8 my-1",children:[!d&&h,d&&m]}),d&&(0,l.jsx)("div",{className:"pt-2 border-t border-slate-400 mt-2 text-purple-950",dangerouslySetInnerHTML:{__html:i}})]})},Submission:function(e){let{course:t,module:n,desc:s}=e,[c,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=p("token");e&&fetch("/api/submissions/?token=".concat(e,"&module=").concat(n,"&course=").concat(t)).then(e=>e.json()).then(e=>i(e))},[]),function(e,t){if(!e)return(0,l.jsx)(v,{title:"".concat(t),logo:"⚖️",children:(0,l.jsx)("p",{children:"请输入 Token 登录。"})});if(!e.succ)return(0,l.jsx)(v,{title:"".concat(t),logo:"⚖️",children:(0,l.jsx)("p",{children:"未登录。"})});{var n;n=0==e.submissions.length?(0,l.jsx)("div",{children:"无提交记录。"}):e.submissions.map(e=>{let t;return t="px-2 py-0 text-sm rounded badge-".concat(e.badge),(0,l.jsx)("p",{children:(0,l.jsxs)("details",{className:"open:bg-white open:ring-1 open:ring-black/5 open:shadow-lg open:my-2 open:py-1 px-2 py-0 rounded-lg mx-auto",children:[(0,l.jsxs)("summary",{className:"font-bold cursor-pointer",children:[(0,l.jsx)("span",{className:t,children:e.result}),"@",e.date]}),(0,l.jsx)("div",{className:"border-t pt-2 mt-2",dangerouslySetInnerHTML:{__html:e.desc}})]})})});let s="".concat(t," ").concat(e.name);return(0,l.jsx)(v,{title:s,logo:"⚖️",children:(0,l.jsx)("div",{children:n})})}}(c,s)},Demo:e=>{let{title:t,path:n}=e,[s,c]=(0,r.useState)("");(0,r.useEffect)(()=>{fetch("/api/localhost/?action=demo&path=".concat(n)).then(e=>e.json()).then(e=>c(e))},[]);let[i,a]=(0,r.useState)(""),o=async()=>{try{let e=await fetch("/api/localhost/?action=launch&path=".concat(n)),t=await e.text();t.includes("https://")&&a(t)}catch(e){}},d=(0,l.jsx)("button",{className:"hover:bg-blue-300 text-white font-bold px-2 rounded",onClick:o,children:(0,l.jsx)("img",{className:"w-10",src:"/OS/img/vscode.svg"})});return(0,l.jsxs)(v,{logo:d,title:t,children:[(0,l.jsx)(w,{url:i,onClose:()=>a("")}),(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})]})},Slideshow:g};var k=!0;function y(e){let{source:t,frontmatter:n,redirectTo:s,slideSource:c}=e;if(s){(0,r.useEffect)(()=>{s&&(window.location.href=s)},[s]);return}if(t){let e=(0,l.jsx)(x,{className:"wiki",...t,components:N});return(0,l.jsx)(j,{title:n.title,body:e,children:" "})}if(c)return(0,l.jsx)(g,{slideSource:c})}},9008:function(e,t,n){e.exports=n(4605)},1163:function(e,t,n){e.exports=n(8355)},2746:function(e,t,n){e.exports.jsxRuntime=n(5893)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5194)}),_N_E=e.O()}]);