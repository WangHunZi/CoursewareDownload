<!DOCTYPE html><html class="h-100">


<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com/"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../static/katex/katex.min.css">
  <script defer src="../static/katex/katex.min.js"></script>
  <script defer src="../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // • auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // • rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="../static/reveal/reveal.css">
<link rel="stylesheet" href="../static/reveal/theme/simple.css" id="theme">

<style>
.reveal .slide-number {
  font-size: 26px;
  border-radius: 5px;
  background-color: rgba(0, 0, 0, .3);
}

.reveal .full-screen {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
}

.reveal .slides {
  border: 1.5px #ddd solid;
  border-radius: 7px;
  text-align: left;
  font-weight: 300;
}

.reveal h1, .reveal h2, .reveal h3, .reveal h4 {
  font-family: 'Lato', 'SimHei', 'STXihei', 'Droid Sans';
  font-weight: 400;
}

.reveal p, .reveal li, .reveal center {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Droid Sans';
}

.reveal li + li {
  margin-top: 10px;
}

.reveal ul {
  display: block;
  margin-right: 15px;
}

.reveal p, .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5 {
  padding:  0 25px 0 25px;
}

.reveal table {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Sans Serif';
  margin-top: 15px;
  margin-bottom: 15px;
}

.reveal th {
  background-color: #eee;
}

.reveal tr:nth-child(even) {
  background-color: #efffff;
}

.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4,
.reveal h5,
.reveal h6 {
  text-align: left;
  margin: 0 0 20px 0;
 color: #222; 
  font-weight: 400;
  line-height: 1.2;
  letter-spacing: normal;
}



.reveal h1 {
  margin: 0 10 0 10;
  font-size: 60px;
}
.reveal .middle h1 {
  text-align: center;
}

.reveal h2 {
  font-size: 48px;
  border-bottom: 2px solid rgb(106, 0, 95);
  padding-bottom: 5px;
}
.reveal h3 { font-size: 1.15em; }
.reveal h4 { font-size: 1.05em; }

.reveal .center {
  text-align: center;
}

.reveal .middle {
  height: 728px;
  display: flex;
  align-items: center;
  width: 100%;
}

.reveal pre {
  font-size: 28px;
 
  background-color: #eee;

  border-radius: 3mm;
  padding: 10px 10px 10px 10px;
}

.reveal pre code {
  max-height: none;
}

.reveal code {
  font-family: 'Inconsolata', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif', Monospace;
}

.reveal .middle blockquote {
  text-align: center;
  color: rgb(106, 0, 95);
  background: none;
  box-shadow: none;
}

.reveal .middle blockquote a {
  color: inherit;
}

.reveal blockquote p, .reveal blockquote li {
  font-family: 'Lato', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif';
}

section .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.reveal .author-block {
  margin: 75px 0 35px 0;
}
.reveal .author-affiliation img {
  margin: 15px 0 0 0;
}
.reveal .author-block p, .reveal .author-affiliation p  {
  font-family: 'Kaiti', 'STKaiti', 'Serif', 'Times', 'Times New Roman';
  margin-block-start: 0em;
  margin-block-end: 0em;
}
.reveal .author-affiliation {
  display: inline-block;
  font-size: 90%;
}
.reveal hr {
  border: 10px solid rgba(0, 0, 0, 0);
}
.reveal li {
  margin-top: 10px;
}
</style>

  <title>容斥原理与组合计数</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div class="reveal">
<div class="slides">
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">容斥原理与组合计数</h1>
<p class=" font-serif my-1"><include src="Slides_Author/index.html"><div><div class="py-16">
<p class=" font-serif my-1"><a href="http://ics.nju.edu.cn/~jyy" class=" text-amber-900">蒋炎岩</a></p>
</div>
<div class="row">
<div class="author-affiliation">
    <a href="http://www.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">　　南京大学　　</p>
    <img class="inline-img h-24" src="../static/img/nju-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
   <a href="http://cs.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">计算机科学与技术系</p>
    <img class="inline-img h-24" src="../static/img/njucs-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
    <a href="https://cs.nju.edu.cn/ics/" class=" text-amber-900"><p class=" font-serif my-1">计算机软件研究所</p>
    <img class="inline-img h-24" src="../static/img/ics-logo.png" style="display: inline-block;"></a>
  </div>
</div></div></include></p></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">开场</h2>
<p class=" font-serif my-1">我已经没什么好开场的了 😂</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">数学类的课最难讲</li>
<li class=" ml-8">他们每次都甩锅给我</li>
</ul>
<hr>
<p class=" font-serif my-1">那就开幕雷击吧：你所需要的一切数学 (<del>不要再来找我了</del>)</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../pages/OI/img/PCM.jpg" width="300px"></p></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">枚举基本定理与计数</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">枚举基本定理</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">$$ |A| = \sum_{a \in A} 1 $$
</p>
</blockquote>
<hr>
<p class=" font-serif my-1">(这有用吗 😂😂😂)</p>
<hr>
<ul class=" list-disc font-serif">
<li class=" ml-8">解释了加法和乘法的本质 (加法/乘法原理)</li>
<li class=" ml-8">$\Sigma$ 是 “<a href="sigma.slides.html" class=" text-amber-900">求和程序</a>”</li>
<li class=" ml-8">提示我们寻找 $A \mapsto B$ 的一一映射，那么 $|A| = |B|$</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">计数的本质</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">计数的本质是<red>集合</red>的生成 (枚举)。</p>
</blockquote>
<p class=" font-serif my-1">$$ |A| = \sum_{a \in A} 1 $$</p>
<p class=" font-serif my-1">扩展到两个集合</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">加法原理：$|A \cup B| = |A| + |B|$ (当 $A\cap B=\varnothing$ 时成立)</li>
<li class=" ml-8">乘法原理：$|A \times B| = |A| \cdot |B|$</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">为什么是 “原理”？</h2>
<p class=" font-serif my-1">因为通用</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><del>几乎所有的计数问题都是在用加法原理</del></li>
<li class=" ml-8">不仅是 “原理”，而且是加法和乘法的 “定义”</li>
</ul>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kn">Inductive</span> <span class="n">nat</span> <span class="o">:</span> <span class="kt">Type</span> <span class="o">:=</span>
  <span class="o">|</span> <span class="n">O</span>
  <span class="o">|</span> <span class="n">S</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">).</span>
</code></pre></div>

<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kn">Fixpoint</span> <span class="n">plus</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span> <span class="o">:</span> <span class="n">nat</span><span class="o">)</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">:=</span>
  <span class="k">match</span> <span class="n">n</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">O</span> <span class="bp">⇒</span> <span class="n">m</span>
  <span class="o">|</span> <span class="n">S</span> <span class="n">n'</span> <span class="bp">⇒</span> <span class="n">S</span> <span class="o">(</span><span class="n">plus</span> <span class="n">n'</span> <span class="n">m</span><span class="o">)</span>
  <span class="k">end</span><span class="o">.</span>
</code></pre></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="0" class=" text-xl mt-2 pb-2 font-sans">二进制串计数 (0)</h2>
<p class=" font-serif my-1">$n$-bit 二进制串一共有多少个？</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">当然是 $2^n$ (乘法原理)</li>
</ul></div>
        
      
         <div class="fragment"> 
        <div><ul class=" list-disc font-serif">
<li class=" ml-8">另一种理解方法：<ul class=" list-disc font-serif">
<li class=" ml-8">我们可以把集合分成两个部分，“0” 开头的和 “1” 开头的</li>
<li class=" ml-8">剩下的部分存在一个一一对应</li>
<li class=" ml-8">$f(n) = 2f(n-1)$, $f(0)=1$</li>
</ul>
</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../pages/OI/img/dakai.jpg"></p></div>
         </div> 
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="1" class=" text-xl mt-2 pb-2 font-sans">二进制串计数 (1)</h2>
<p class=" font-serif my-1">$n$-bit 二进制串中 “0” 比 “1” 多的一共有多少个？</p></div>
        
      
         <div class="fragment"> 
        <div><p class=" font-serif my-1">“加法原理”</p>
<p class=" font-serif my-1">$$
{n \choose n} + 
{n \choose n-1} + \ldots
+
{n \choose \lfloor n/2 \rfloor + 1}
$$</p></div>
         </div> 
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="2" class=" text-xl mt-2 pb-2 font-sans">二进制串计数 (2)</h2>
<p class=" font-serif my-1">如果把 0 看作 “(”、1 看作 “)”，配对的括号序列有多少个？</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><code>(()) - 0011</code>; <code>)()()(</code> - <code>101010</code></li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="0" class=" text-xl mt-2 pb-2 font-sans">排列计数 (0)</h2>
<p class=" font-serif my-1">求 $1, 2, \ldots, n$ 所有排列的数量</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">不就是 $n!$ 吗 😂</li>
<li class=" ml-8">其实这个构造不算太显然<ul class=" list-disc font-serif">
<li class=" ml-8">例子：可以把 $n$ 个数分成 $k$ 和 $n-k$ 两组</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="1" class=" text-xl mt-2 pb-2 font-sans">排列计数 (1)</h2>
<p class=" font-serif my-1">错位排列：求所有 $1, 2, \ldots n$ 的排列中，每个数字都不在原位的排列数量</p>
<hr>
<p class=" font-serif my-1">还记得 “集合” 吗？</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">把集合写出来呀！</li>
</ul>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">permutations</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">permutations</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)),</span> <span class="n">n</span><span class="p">):</span>
  <span class="k">if</span> <span class="kc">True</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]:</span>
    <span class="nb">print</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p</span><span class="p">])</span>
</code></pre></div></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="pie" class=" text-2xl mt-2 font-sans">容斥原理 (PIE)</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">集合视角的计数</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">加法原理</p>
<p class=" font-serif my-1">$$ |A \cup B| = |A| + |B| $$</p>
<p class=" font-serif my-1">成立条件：$A\cap B=\varnothing$</p>
</blockquote>
<hr>
<p class=" font-serif my-1">“互相存在关联” 的 $|A \cup B|$ 能不能求解？</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$1, 2, \ldots 100$ 中能被 2 或 3 整除的</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">求交容易，求并难？</h2>
<p class=" font-serif my-1">$|A \cup B| = |A| + |B| - |A \cap B|$</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">有没有想到什么？</li>
<li class=" ml-8">许多问题都有 “交比并简单” 的性质<ul class=" list-disc font-serif">
<li class=" ml-8">凸多边形的交 v.s. 并</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">能不能 “用交求并”？</h2>
<p class=" font-serif my-1">这样很多麻烦的计数问题就可以求解了！</p>
<p class=" font-serif my-1">$$
(x_0\ x_1\ x_2\ x_3\ x_4\ x_5\ x_6\ x_7)
\cdot
\left(
\begin{array}{c}
|\varnothing|=0 \\
|A| \\
|B| \\
|C| \\
|A \cap B| \\
|A \cap C| \\
|B \cap C| \\
|A \cap B \cap C| \\
\end{array}
\right) = |A\cup B\cup C|
$$</p>
<hr>
<p class=" font-serif my-1"><red>这个 “方程” 能求解吗</red>？</p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">能不能 “用交求并”？</h2>
<p class=" font-serif my-1">考虑 “单个元素” 的集合 ${e}$</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$e \in A, e\notin B, e \notin C \Rightarrow x_1 = 1$</li>
<li class=" ml-8">$e \in A, e\notin B, e \in C \Rightarrow x_1 + x_3 + x_5 = 1$</li>
<li class=" ml-8">$e \in A, e\in B, e \in C \Rightarrow x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + x_7 = 1$</li>
</ul>
<p class=" font-serif my-1">$$
(x_1\ x_2\ x_3\ x_4\ x_5\ x_6\ x_7)
\cdot
\left(
\begin{array}{c}
|A| \\
|B| \\
|C| \\
|A \cap B| \\
|A \cap C| \\
|B \cap C| \\
|A \cap B \cap C| \\
\end{array}
\right) = |A\cup B\cup C|
$$</p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="n" class=" text-xl mt-2 pb-2 font-sans">推广：$n$ 个集合的关系</h2>
<p class=" font-serif my-1">解方程组的程序：<a href="../pages/OI/demos/pie.py" class=" text-amber-900">pie.py</a></p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">subsets</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">>></span> <span class="n">i</span><span class="p">)</span> <span class="o">&</span> <span class="mi">1</span> <span class="p">}</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="n">n</span><span class="p">)</span> <span class="p">]</span>

<span class="n">solver</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Solver</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="n">z3</span><span class="o">.</span><span class="n">Int</span><span class="p">(</span><span class="sa">f</span><span class="s1">'x</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subsets</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subsets</span><span class="p">):</span>
    <span class="n">cons</span> <span class="o">=</span> <span class="n">z3</span><span class="o">.</span><span class="n">Sum</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">s1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">subsets</span><span class="p">)</span> \
        <span class="k">if</span> <span class="n">s1</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">s</span><span class="p">)])</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">solver</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">cons</span><span class="p">)</span>
</code></pre></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="principle-of-inclusion-and-exclusion" class=" text-xl mt-2 pb-2 font-sans">容斥原理 (Principle of Inclusion and Exclusion)</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">用若干个集合 “覆盖” 一个不规则的集合，即可化并为交！</p>
</blockquote>
<p class=" font-serif my-1"><img alt="" class="center" src="../pages/OI/img/pie.png" width="400px"></p>
<hr>
<p class=" font-serif my-1">容 (inclusion)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$(-1)^{|I|+1} = 1 \Rightarrow |I| \in {1, 3, 5, 7, \ldots}$</li>
</ul>
<hr>
<p class=" font-serif my-1">斥 (exclusion)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$(-1)^{|I|+1} = -1 \Rightarrow |I| \in {2, 4, 6, 8, \ldots}$</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">什么问题求交容易、求并难？</h2>
<p class=" font-serif my-1">错位排列：求所有 $1, 2, \ldots $n 排列中，每个数字都不在原位的排列数量</p>
<hr>
<p class=" font-serif my-1">例子：$n=4$</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$A, B, C, D$ 表示 1, 2, 3, 4 恰好在第 1, 2, 3, 4 个位置的排列</li>
<li class=" ml-8">$n! - |A \cup B \cup C \cup D|$ 就是答案<ul class=" list-disc font-serif">
<li class=" ml-8">$|A| = (n-1)!$</li>
<li class=" ml-8">$|A \cap C \cap D| = (n-3)!$</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">容斥原理：为什么是 “原理”？</h2>
<p class=" font-serif my-1">“集合” 和 “并” 是非常具有一般性的结构</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">例子：$\phi(n)$ 是 $1, 2, \ldots, n$ 中与 $n$ 互质的数量<ul class=" list-disc font-serif">
<li class=" ml-8">如何求 $\phi(n)$？</li>
<li class=" ml-8">$\phi$ 和 $\mu$ 的关系？<ul class=" list-disc font-serif">
<li class=" ml-8">$\mu(n) = (-1)^k$ ($n$ 是 $k$ 个素数的乘积)</li>
<li class=" ml-8">$\mu(n) = 0$ (如果 $p^2$ 整除 $n$)</li>
<li class=" ml-8">例子：$n = 5\times7\times13$</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class=" font-serif my-1">$$ \phi(n) = \sum_{d \mid n} \mu(d) \cdot \frac{n}{d} $$</p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">容斥原理：为什么是 “原理”</h2>
<p class=" font-serif my-1">$$g(A) = \sum_{S \subseteq A} f(S) \Rightarrow f(A) = \sum_{S \subseteq A} \mu(A-S) g(S)$$</p>
<p class=" font-serif my-1"><img alt="" class="float-right" src="../pages/OI/img/rota.png" width="300px"></p>
<p class=" font-serif my-1">容斥原理：偏序集上 Mobius 反演在 Boolean Lattice 上的应用 (Gian-Carlo Rota, 1964)</p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="xviii-open-cup-named-after-ev-pankratiev-grand-prix-of-gomel-problem-k" class=" text-xl mt-2 pb-2 font-sans">例子 (XVIII Open Cup named after E.V. Pankratiev. Grand Prix of Gomel, Problem K)</h2>
<p class=" font-serif my-1">给定正整数 $m \le 10^{18}$，统计非空集合 $S$ 的数量，其中 $S$ 满足 $$\gcd(S) = 1 \land \textrm{lcm}(S) = m$$</p>
<hr>
<ul class=" list-disc font-serif">
<li class=" ml-8">首先，$S$ 中的数必然是 $m$ 的约数</li>
<li class=" ml-8">然后，我们应该找什么样 “集合的并”？</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">总结</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">计数与容斥原理</h2>
<p class=" font-serif my-1">枚举 (计数) 的是<red>集合</red></p>
<p class=" font-serif my-1">$$ |A| = \sum_{a \in A} 1 $$</p>
<hr>
<p class=" font-serif my-1">简化问题的钥匙：<red>化并为交</red></p>
<p class=" font-serif my-1"><img alt="" class="center" src="../pages/OI/img/pie.png" width="500px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="end" class=" text-2xl mt-2 font-sans">End.</h1></div></div></div>
        
      
      </section>
    
    </section>
  
</div>
</div>

<script src="../static/reveal/reveal.js"></script>
<script>
  Reveal.initialize({
    
    width: 1024, height: 768,
    
    slideNumber: 'c/t',
    controlsTutorial: false,
    progress: false,
    hash: true,
    center: false,
    autoAnimateUnmatched: true,
    autoAnimateEasing: 'ease-out',
    autoAnimateDuration: 0.3,
    transitionSpeed: 'fast'
  });
</script>


</body>


</html>