<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<style>
.article {
  -webkit-hyphens: auto;
}
form {
  margin-block-end: 0;
}
img {
  display: inline-block;
}
code { font-size: 85%; }
pre {
  font-size: 95%;
  line-height: 120%;
}
blockquote {
  font-size: 95%;
}
p {
  font-size: 105%;
  text-indent: 2em;
}
li {
  font-size: 105%;
}
blockquote p {
  text-indent: 0em;
}
.float-right {
  padding-left: 10px;
}
.float-left {
  padding-right: 10px;
}
a {
  color: rgb(29 78 216);
}
strong {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.box        {
  border-radius: 2px; padding: 1px 4px 2px 4px;
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
  font-size: 95%;
}
.box-blue,  .badge-primary  { background-color: rgba(66, 139, 202, 0.5); color: #1d4ed8; }
.box-green, .badge-success  { background-color: rgba(92, 184, 92, 0.5);  color: #15803d; }
.box-red,   .badge-danger   { background-color: rgba(217, 83, 79, 0.5);  color: #b91c1c; }
.box-yellow,.badge-warning  { background-color: rgba(240, 173, 78, 0.5); color: #a16207; }
.box-gray   { background-color: #a0a0a0; }

.badge {
  padding: 1 4 1 4;
  display: inline-block;
  border-radius: 0.25rem;
  border: 1px solid;
}
.message p {
  text-indent: 0em;
  margin-top: 1px;
}
.message h1, h2, h3, h4, h5 {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.message h2 {
  font-size: 120%;
  margin-top: 5px;
  margin-bottom: 2px;
}
.message li {
  list-style: disc;
  margin-left: 2em;
}
li > p {
  text-indent: 0em;
}
block-quote h4 {
  float: left;
  display: inline-block;
}
.center {
  display: block;
  margin: auto;
}
hr {
  margin-top: 20px;
  padding-bottom: 20px;
}

.fa-gradient {
	background: -webkit-gradient(linear, left top, left bottom, from(rgb(99, 27, 103)), to(#333));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

</style>


  <title>Java &#20869;&#23384;&#35775;&#38382; Trace</title>
</head>

<body class="d-flex flex-column h-100">
  <div class="watermark">DRAFT</div>
  

<div>

<div class="px-2 py-1 w-full fixed z-50 bg-gradient-to-r from-black via-purple-700 via-purple-500 shadow-lg" style="-webkit-backdrop-filter: saturate(150%) blur(4px); backdrop-filter: saturate(150%) blur(4px)">
  <form>
    <a href="../../../index.html"><span class="text-lg px-2 text-white">Yanyan's Wiki</span></a>
    <a href="../../../OS/2023/index.html"><span class="text-sm px-2 text-white">&#25805;&#20316;&#31995;&#32479; (2023)</span></a>
    <input maxlength="9" id="token-input" class="float-right appearance-none border border-transparent px-2 py-1 w-20 bg-white text-gray-700 placeholder-gray-400 shadow-md rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono" type="text" placeholder="TOKEN" oninput="login();">
  </form>
</div>

<div class="article container mx-auto md:px-8 lg:px-8 xl:px-8 2xl:px-8 shadow-lg border pb-8 pt-10 max-w-screen-md text-justify divide-y-2 divide-white">
  <div><h1 id="java-trace" class=" text-2xl mt-2 font-sans">Java &#20869;&#23384;&#35775;&#38382; Trace</h1>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_1" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#27880;&#24847;&#20107;&#39033;</h4>
<p class=" font-serif my-1"><strong>&#25130;&#27490;&#26085;&#26399;</strong>&#65306;2020 &#24180; 12 &#26376; 10 &#26085; 23:59:59 (&#20197;&#26381;&#21153;&#22120;&#26102;&#38388;&#20026;&#20934;); The deadline is firm.</p>
<p class=" font-serif my-1"><strong>&#25552;&#20132;&#26041;&#27861;</strong>&#65306;&#22312;&#21629;&#20196;&#34892;&#20013; (&#35831;&#30830;&#20445;&#25317;&#26377; curl &#21629;&#20196;) &#25191;&#34892; (&#23558;&#23398;&#21495;&#12289;&#22995;&#21517;&#12289;&#36335;&#24452;&#26367;&#25442;&#20026;&#20320;&#30340;&#20010;&#20154;&#20449;&#24687;)</p>
<p class=" font-serif my-1"><code>curl http://jyywiki.cn/upload -F course=ISER2020 -F module=PA2 -F stuid=&#23398;&#21495; -F stuname=&#20013;&#25991;&#22995;&#21517; -F file=@&#24453;&#25552;&#20132;&#30340;&#25991;&#20214;&#36335;&#24452;</code></p>
</blockquote>
<p class=" font-serif my-1"><oj-status course="ISER2020" module="PA2"><div class="divide-y divide-dashed">
    <div class="flex font-semibold">
      ISER2020-PA2 &#25552;&#20132;&#32467;&#26524;
    </div>
    
  </div>
</oj-status></p>
<h2 id="1" class=" text-xl mt-2 pb-2 font-sans">1. &#32972;&#26223;</h2>
<p class=" font-serif my-1">&#20165;&#20165;&#20381;&#38752;&#31243;&#24207;&#33258;&#36523;&#30340; log (<code>printf</code>) &#24456;&#38590;&#35786;&#26029;&#19968;&#20123;&#36816;&#34892;&#26102;&#21457;&#29983;&#30340;&#38382;&#39064;&#65292;&#20363;&#22914; GC &#36807;&#20110;&#39057;&#32321;&#31561;&#12290;&#27492;&#26102;&#65292;&#21160;&#24577;&#20998;&#26512;&#24037;&#20855;&#33021;&#22312;&#36816;&#34892;&#26102;&#25910;&#38598; (&#25110;&#25171;&#21360;) &#39069;&#22806;&#30340;&#20449;&#24687;&#20197;&#24110;&#21161;&#38382;&#39064;&#30340;&#35786;&#26029;&#12290;&#22312;&#27491;&#24335;&#36827;&#20837;&#23454;&#39564;&#20043;&#21069;&#65292;&#25512;&#33616;&#22823;&#23478;&#20102;&#35299;&#19968;&#19979; <a href="https://visualvm.github.io/" class=" text-amber-900">VisualVM</a>&#65292;&#23427;&#26159; Java &#31243;&#24207;&#30340;&#21160;&#24577;&#20998;&#26512;&#26694;&#26550;&#65292;&#24182;&#19988;&#33021;&#23558; JVM &#30340;&#29366;&#24577;&#21487;&#35270;&#21270;&#22320;&#23637;&#31034;&#20986;&#26469;&#12290;</p>
<p class=" font-serif my-1">&#22312;&#36825;&#20010;&#23454;&#39564;&#20013;&#65292;&#25105;&#20204;&#29992;&#36807;&#31243;&#24207;&#25554;&#26729;&#30340;&#26041;&#24335; hack Java &#31243;&#24207;&#65292;&#20351;&#31243;&#24207;&#22312;&#36816;&#34892;&#26102;&#65292;&#33021;&#22312;&#27599;&#27425;&#35775;&#38382;&#20849;&#20139;&#20869;&#23384;&#26102;&#65292;&#37117;&#25171;&#21360;&#19968;&#20010;&#26085;&#24535;&#12290;&#20869;&#23384;&#35775;&#38382;&#26085;&#24535;&#33021;&#29992;&#20110; race detection &#31561;&#21160;&#24577;&#20998;&#26512;&#12290;</p>
<h2 id="2" class=" text-xl mt-2 pb-2 font-sans">2. &#23454;&#39564;&#25551;&#36848;</h2>
<p class=" font-serif my-1">&#38024;&#23545;&#19968;&#20010;&#24050;&#25171;&#21253;&#20026; jar &#21253;&#30340; Java &#31243;&#24207;&#65292;&#20320;&#24076;&#26395;&#20102;&#35299;&#31243;&#24207;&#23545;&#20849;&#20139;&#20869;&#23384;&#30340;&#35835;&#20889;&#65292;&#21363;&#20026;&#27599;&#19968;&#20010;&#20849;&#20139;&#20869;&#23384;&#35775;&#38382;&#36755;&#20986;&#19968;&#26465;&#26085;&#24535;&#20449;&#24687;&#12290;&#36755;&#20986;&#19968;&#20010;&#21015;&#34920;&#65292;&#27599;&#20010;&#26465;&#30446;&#36755;&#20986;&#19968;&#34892;&#65292;&#21253;&#21547;&#29992;&#31354;&#26684;&#20998;&#24320;&#30340;&#19977;&#37096;&#20998;&#20869;&#23481;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">R/W &#34920;&#31034;&#35835;&#25110;&#20889;</li>
<li class=" ml-8">&#19968;&#20010;&#21313;&#36827;&#21046;&#34920;&#31034; 32 &#20301;&#25972;&#25968;&#65292;&#35775;&#38382;&#30340;&#32447;&#31243;&#21495;</li>
<li class=" ml-8">&#19968;&#20010;&#21313;&#20845;&#36827;&#21046;&#34920;&#31034;&#30340; 64 &#20301;&#25972;&#25968;&#65292;&#23545;&#35937;&#26631;&#35782;&#12290;&#23613;&#37327;&#20351;&#19981;&#21516;&#23545;&#35937;&#26377;&#19981;&#21516;&#26631;&#35782;&#65292;&#34429;&#28982;&#20320;&#24456;&#38590;&#23545;&#20110; long-running &#30340;&#31243;&#24207;&#32477;&#23545;&#20570;&#21040;&#36825;&#19968;&#28857; (&#24605;&#32771;&#20026;&#20160;&#20040;&#65311;)&#12290;&#31616;&#21333;&#36215;&#35265;&#65292;&#21487;&#20197;&#32771;&#34385;&#30452;&#25509;&#20351;&#29992; <code>System.identityHashCode()</code>&#12290;</li>
<li class=" ml-8">&#23545;&#35937;/&#31867;&#35775;&#38382;&#30340;&#25104;&#21592; (&#25110;&#25968;&#32452;&#30340;&#19979;&#26631;)</li>
</ul>
<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#23558;&#20320;&#30340;&#24037;&#20855;&#23454;&#29616;&#25104;&#21629;&#20196;&#34892;&#24037;&#20855;&#65292;&#29992;&#27861;&#21516; <code>java</code> (&#20320;&#20250;&#22312;&#20320;&#30340;&#21629;&#20196;&#34892;&#24037;&#20855;&#20013;&#35843;&#29992; java)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ jmtrace -jar something.jar "hello world" # jmtrace &#29992;&#27861;&#29992; java
R 1032 b026324c6904b2a9 cn.edu.nju.ics.Foo.someField
W 1031 e7df7cd2ca07f4f1 java.lang.Object[0]
W 1031 e7df7cd2ca07f4f2 java.lang.Object[1]
...
</code></pre></div>

<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#21482;&#36755;&#20986; jar &#21253;&#20013;&#31867;&#30340;&#20869;&#23384;&#35775;&#38382;&#26085;&#24535;&#65292;&#24573;&#30053;&#24211;&#20989;&#25968; (<code>java.lang</code>, <code>java.util</code> &#31561;) &#20013;&#30340;&#20869;&#23384;&#35775;&#38382;&#12290;</p>
<h2 id="3-mtrace" class=" text-xl mt-2 pb-2 font-sans">3. &#23454;&#29616; mtrace</h2>
<p class=" font-serif my-1">&#19981;&#21516;&#20110; Linux &#30340;&#21629;&#20196;&#34892;&#24037;&#20855; ltrace (&#36890;&#36807;&#21163;&#25345; GOT &#34920;&#20013;&#30340;&#36339;&#36716;&#22320;&#22336;) &#21644; strace (&#20351;&#29992;&#25805;&#20316;&#31995;&#32479;&#25552;&#20379;&#30340; ptrace &#26426;&#21046;)&#65292;&#22914;&#26524;&#24076;&#26395;&#22312;&#26356;&#32454;&#30340;&#31890;&#24230;&#19978;&#36861;&#36394;&#31243;&#24207;&#30340;&#34892;&#20026;&#65292;&#36890;&#24120;&#38656;&#35201;&#23545;&#31243;&#24207;&#36827;&#34892;&#19968;&#20123;&#25913;&#20889;&#65292;&#21363;&#25554;&#26729; (program instrumentation)&#65292;&#20363;&#22914;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;&#28304;&#20195;&#30721;&#32423;&#36827;&#34892;&#25554;&#26729;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">[</span><span class="mi">10</span><span class="o">]</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">SomeClass</span><span class="p">.</span><span class="na">staticField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="n">someObj</span><span class="p">.</span><span class="na">otherField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">someObj</span><span class="p">.</span><span class="na">field</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#36890;&#36807;&#33258;&#21160;&#21270;&#30340;&#25913;&#20889;&#24037;&#20855; (&#25913;&#20889; AST &#21518;&#20877;&#29983;&#25104;&#31243;&#24207;)&#65292;&#25105;&#20204;&#21487;&#20197;&#24471;&#21040; &#8220;&#25554;&#26729;&#8221; &#21518;&#30340;&#29256;&#26412;&#65306; </p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">[</span><span class="mi">10</span><span class="o">]</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">$t0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">$t0</span><span class="p">;</span>
<span class="w">    </span><span class="n">mtrace</span><span class="p">.</span><span class="na">traceArrayWrite</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">$t0</span><span class="p">);</span><span class="w"> </span><span class="c1">// instrument added</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">$t1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="n">SomeClass</span><span class="p">.</span><span class="na">staticField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">$t1</span><span class="p">;</span>
<span class="w">  </span><span class="n">mtrace</span><span class="p">.</span><span class="na">traceStaticWrite</span><span class="p">(</span><span class="n">SomeClass</span><span class="p">,</span><span class="w"> </span><span class="s">"staticField"</span><span class="p">,</span><span class="w"> </span><span class="n">$t1</span><span class="p">);</span><span class="w"> </span><span class="c1">// instrument added</span>

<span class="w">  </span><span class="n">SomeType</span><span class="w"> </span><span class="n">$t2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">someObj</span><span class="p">.</span><span class="na">field</span><span class="p">;</span>
<span class="w">  </span><span class="n">mtrace</span><span class="p">.</span><span class="na">traceFieldRead</span><span class="p">(</span><span class="n">someObj</span><span class="p">,</span><span class="w"> </span><span class="s">"field"</span><span class="p">,</span><span class="w"> </span><span class="n">$t2</span><span class="p">);</span><span class="w"> </span><span class="c1">// instrument add</span>

<span class="w">  </span><span class="n">someObj</span><span class="p">.</span><span class="na">otherField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">$t2</span><span class="p">;</span>
<span class="w">  </span><span class="n">mtrace</span><span class="p">.</span><span class="na">traceFieldWrite</span><span class="p">(</span><span class="n">someObj</span><span class="p">,</span><span class="w"> </span><span class="s">"otherField"</span><span class="p">,</span><span class="w"> </span><span class="n">$t2</span><span class="p">);</span><span class="w"> </span><span class="c1">// instrument add</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#21487;&#20197;&#30475;&#21040;&#65292;&#25554;&#26729;&#21069;&#21518;&#31243;&#24207;&#30340;&#34892;&#20026;&#26159;&#23436;&#20840;&#19968;&#26679;&#30340;&#65292;&#20294;&#21464;&#37327;&#35775;&#38382;&#36827;&#34892;&#20102;&#19968;&#23450;&#30340;&#25913;&#20889;&#65292;&#24182;&#19988;&#22312;&#27599;&#27425; field &#25110; array &#35835;&#20889;&#20043;&#21518;&#37117;&#25554;&#20837;&#20102;&#19968;&#26465; log&#12290;&#26412;&#36136;&#19978;&#65292;&#36825;&#26159;&#19968;&#31181;&#25991;&#26412;&#30340;&#26367;&#25442;&#65292;&#21482;&#26159;&#25105;&#20204;&#19968;&#33324;&#20511;&#21161; AST &#33021;&#31616;&#21270;&#36825;&#26679;&#30340;&#36716;&#25442;&#12290;&#25554;&#26729;&#21518;&#30340;&#31243;&#24207;&#21151;&#33021;&#19982;&#21407;&#20808;&#31243;&#24207;&#31561;&#20215;&#65292;&#20294;&#21487;&#20197;&#36755;&#20986;&#39069;&#22806;&#30340; trace log (&#22312; <code>mtrace</code> &#30340;&#26041;&#27861;&#20013;&#23454;&#29616;)&#12290;</p>
<p class=" font-serif my-1">Java &#30340;&#28304;&#20195;&#30721;&#23558;&#20250;&#34987;&#32534;&#35793;&#25104;&#23383;&#33410;&#30721; (bytecode)&#12290;Bytecode &#30340;&#24418;&#24335;&#27604;&#28304;&#20195;&#30721;&#31616;&#21333;&#30340;&#22810;&#65292;&#22240;&#27492;&#23545;&#23383;&#33410;&#30721;&#36827;&#34892;&#25554;&#26729;&#26159;&#26356;&#26041;&#20415;&#30340;&#36873;&#25321;&#12290;&#20363;&#22914;&#65292;&#23383;&#33410;&#30721;&#20998;&#26512;&#24037;&#20855; <a href="https://asm.ow2.io/" class=" text-amber-900">ASM</a> &#33021;&#38750;&#24120;&#23481;&#26131;&#22320;&#23545;&#23383;&#33410;&#30721;&#36827;&#34892;&#25913;&#20889;&#12290;&#36890;&#36807;&#22312;&#35775;&#38382;&#20869;&#23384;&#30340;&#25351;&#20196;&#20043;&#21518;&#25554;&#20837;&#30456;&#24212;&#30340;&#35760;&#24405; (&#35775;&#38382;&#20869;&#23384;&#30340;&#25351;&#20196;&#21482;&#26377; <code>getstatic</code>/<code>putstatic</code>/<code>getfield</code>/<code>putfield</code>/<code>*aload</code>/<code>*astore</code>)&#65292;&#36890;&#24120;&#26159;&#19968;&#20010;&#21521; <code>trace</code> &#26041;&#27861;&#30340;&#35843;&#29992;&#12290;&#22914;&#26524;&#32771;&#34385;&#25554;&#26729;&#20869;&#23384;&#35775;&#38382;&#65292;&#22312;&#23383;&#33410;&#30721;&#25554;&#26729;&#20250;&#31616;&#21333;&#22320;&#22810;&#12290;</p>
<p class=" font-serif my-1">&#26368;&#21518;&#65292;&#25105;&#20204;&#25512;&#33616;&#20351;&#29992; JVMTI (JVM Tool Interface) &#25429;&#33719; class loading &#26102;&#30340;&#22238;&#35843; (callback)&#12290;&#30456;&#24403;&#20110; JVMTI &#33021;&#22815;&#21163;&#25345;&#25152;&#26377; Java &#30340;&#31867;&#21152;&#36733;&#65292;&#24182;&#19988;&#22312;&#21152;&#36733;&#26102;&#33719;&#24471;&#34987;&#21152;&#36733;&#31867;&#30340;&#23383;&#33410;&#30721;&#12290;&#27492;&#26102;&#23601;&#26159;&#36827;&#34892;&#25554;&#26729;&#30340;&#26368;&#20339;&#26102;&#26426;&#8212;&#8212;&#36825;&#26679;&#29978;&#33267;&#19981;&#20250;&#38169;&#36807;&#20219;&#20309;&#21160;&#24577;&#29983;&#25104;&#30340;&#31867;&#30340;&#25554;&#26729;&#65281;</p>
<p class=" font-serif my-1">&#20320;&#20063;&#21487;&#20197;&#25628;&#32034;&#20114;&#32852;&#32593;&#65292;&#26597;&#25214;&#20854;&#20182;&#21487;&#33021;&#30340;&#35299;&#20915;&#26041;&#26696;&#12290;&#20363;&#22914;&#65292;Java &#25552;&#20379;&#20102; <code>java.lang.Instrument</code>&#65292;&#30456;&#24403;&#20110;&#26159;&#21018;&#25165;&#36807;&#31243;&#30340;&#21253;&#35013;&#8212;&#8212;&#36825;&#33021;&#30465;&#21435;&#19981;&#23569;&#20107;&#24773;&#65292;&#20294;&#20063;&#20943;&#23569;&#20102; hacking &#30340;&#20048;&#36259;&#12290;&#20320;&#21487;&#20197;&#33258;&#30001;&#36873;&#25321;&#23454;&#29616;&#30340;&#26041;&#24335;&#12290;</p>
<h2 id="4" class=" text-xl mt-2 pb-2 font-sans">4. &#25552;&#20132;&#26041;&#27861;&#19982;&#35780;&#20998;&#20934;&#21017;</h2>
<p class=" font-serif my-1">&#23558;&#20197;&#19979;&#20869;&#23481;&#25171;&#25104;&#21387;&#32553;&#21253; (zip &#25110; tar) &#19978;&#20256;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">(&#24517;&#35201;) &#24037;&#20855;&#30340;&#28304;&#20195;&#30721;&#21644;&#32534;&#35793;&#35828;&#26126;&#12290;&#21516; PA1&#65292;&#35831;&#19981;&#35201;&#19978;&#20256;&#20381;&#36182;&#12289;&#20108;&#36827;&#21046;&#25991;&#20214;&#31561;&#33021;&#22815;&#34987;&#28304;&#30721;&#29983;&#25104;&#30340;&#25991;&#20214;</li>
<li class=" ml-8">(&#24517;&#35201;) pdf &#26684;&#24335;&#30340;&#23454;&#39564;&#25253;&#21578;&#65292;&#31616;&#36848;&#20320;&#23454;&#29616; jmtrace &#26102;&#20027;&#35201;&#20351;&#29992;&#30340;&#25216;&#26415;&#21644;&#36935;&#21040;&#30340;&#25361;&#25112;&#12290;&#23454;&#39564;&#25253;&#21578;&#19981;&#23452;&#36229;&#36807; 2 &#39029; A4 &#31687;&#24133;</li>
<li class=" ml-8">(&#21487;&#36873;) &#24037;&#20855;&#30340; binary&#65292;&#21487;&#33021;&#21253;&#21547; jar &#21253;&#12289;&#21487;&#25191;&#34892;&#25991;&#20214;&#31561;</li>
</ul>
<p class=" font-serif my-1">&#26412;&#23454;&#39564;&#25353;&#29031;&#23454;&#29616;&#30340;&#27491;&#30830;&#24615;&#35780;&#20998;&#12290;&#25105;&#20204;&#20250;&#36816;&#34892;&#19968;&#20123;&#36739;&#23567; (&#25968;&#30334;&#19975;&#27425;&#20869;&#23384;&#35775;&#38382;&#20197;&#20869;) &#30340;&#22522;&#20934;&#31243;&#24207;&#65292;&#24182;&#26816;&#26597;&#31243;&#24207;&#30340;&#36755;&#20986;&#32467;&#26524;&#12290;&#27880;&#24847;&#24182;&#21457;&#26159; Java &#35821;&#35328;/&#34394;&#25311;&#26426;&#30340;&#19968;&#37096;&#20998;&#65292;&#36825;&#20123;&#31243;&#24207;&#21487;&#33021;&#21551;&#21160;&#22810;&#20010;&#32447;&#31243;&#12290;</p>
<h2 id="5-artifact" class=" text-xl mt-2 pb-2 font-sans">5. Artifact</h2>
<p class=" font-serif my-1">&#20026;&#20102;&#26356;&#22909;&#22320;&#20419;&#36827;&#21518;&#32493;&#30340;&#30740;&#31350;&#24037;&#20316;&#65292;&#23558;&#30740;&#31350;&#24037;&#20316;&#30340;&#20195;&#30721;&#20197;&#24320;&#28304;&#39033;&#30446;&#30340;&#24418;&#24335;&#21457;&#24067;&#26159;&#38750;&#24120;&#24517;&#35201;&#30340;&#12290;&#22240;&#27492;&#65292;&#22312;&#36825;&#38376;&#35838;&#31243;&#20013;&#65292;&#25105;&#20204;&#35201;&#27714;&#20320;&#36873;&#19968;&#20010; programming assignment (codesim &#25110; jmtrace)&#65292;&#24182;&#25353;&#29031;&#24320;&#28304;&#36719;&#20214;&#30340;&#36890;&#24120;&#26631;&#20934;&#32500;&#25252;&#12290;&#23545;&#20110; artifact &#26469;&#35828;&#65292;&#20320;&#35201;&#23613;&#26368;&#22823;&#30340;&#21487;&#33021;&#20026;&#36825;&#20221;&#20195;&#30721;<strong>&#36127;&#36131;</strong>&#65292;&#22240;&#20026;&#26410;&#26469;&#20854;&#20182;&#30740;&#31350;&#32773;&#21487;&#33021;&#20250;&#22522;&#20110;&#20320;&#30340;&#20195;&#30721;&#24320;&#23637;&#20854;&#20182;&#30740;&#31350;&#24037;&#20316;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">&#29305;&#21035;&#27880;&#24847;&#65306;Artifact &#20934;&#22791;&#26159;<strong>&#20108;&#36873;&#19968;</strong>&#30340;&#12290;&#20320;&#21482;&#38656;&#35201;&#25552;&#20132;&#19968;&#20221; artifact &#20379; peer-review&#12290;&#20320;&#21487;&#20197;&#20219;&#36873;&#26159; PA1 (codesim) &#25110;&#26159; PA2 (jmtrace) &#20316;&#20026; artifact&#12290;&#20851;&#20110;&#22914;&#20309;&#20934;&#22791; Artifact &#35831;&#21442;&#32771; <a href="Artifact.html" class=" text-amber-900">Artifact &#20934;&#22791;&#25351;&#21335;</a>&#12290;</p>
</blockquote></div>
</div>

<div class="container text-xs py-3">
  <span class="text-muted">
    <center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../static/img/cc-4.0.png"></a>
    &#160;&#160;&#160;<a style="color:inherit" href="https://beian.miit.gov.cn/">&#33487; ICP &#22791; 2020049101 &#21495;</a>
    </center>
  </span>
</div>

</div>

<script src="../../../static/js/jquery.min.js"></script>

<script>
function get_token() {
  var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
  if (match) return match[2];
  else return "";
}
var token = get_token();
var hint = "token", box = $("#token-input");

if (token == "") { }
else { box.val(token); }

function login() {
  var token = box.val()
  if (!token) {
    document.cookie = ''
  } else {
    document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;'
  }
}
</script>


</body>

</html>