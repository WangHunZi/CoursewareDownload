<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>《操作系统》课程概述</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css"/><meta name="next-head-count" content="5"/><link rel="preload" href="../_next/static/css/e993edd6a18ef4f0.css" as="style"/><link rel="stylesheet" href="../_next/static/css/e993edd6a18ef4f0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="../_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="../_next/static/chunks/webpack-f73d82589f972e7d.js" defer=""></script><script src="../_next/static/chunks/framework-66d32731bdd20e83.js" defer=""></script><script src="../_next/static/chunks/main-3929bf55b0f13a18.js" defer=""></script><script src="../_next/static/chunks/pages/_app-00b06920b385caf1.js" defer=""></script><script src="../_next/static/chunks/pages/[[...index]]-877ec949b69be209.js" defer=""></script><script src="../_next/static/a2FwJzUPGFGc0QcwaUr13/_buildManifest.js" defer=""></script><script src="../_next/static/a2FwJzUPGFGc0QcwaUr13/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="bg-slate-300/10"><div class="sticky top-0 z-40 w-full backdrop-blur flex-none border-b border-slate-900/10 bg-white/75 supports-backdrop-blur:bg-white/60"><div class="max-w-8xl mx-auto"><div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0"><div class="relative flex items-center"><a href="../index.html">Yanyan&#x27;s wiki</a><form class="text-xs text-slate-500"> for <input type="text" name="token" class="font-mono text-xs w-16" maxLength="8"/></form><div class="relative hidden lg:flex items-center ml-4 pl-4 border-l"><nav class="text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200"><ul class="flex space-x-8"><li><a class="hover:text-sky-500 dark:hover:text-sky-400" href="2025/index.html">操作系统 (2025 春)</a></li></ul></nav></div></div></div></div></div><div class="container mx-auto max-w-5xl flex flex-col min-h-screen px-4"><div class="wiki bg-neutral-200/10"><h1>《操作系统》课程概述</h1>
<p>操作系统是一个典型的 “system”——它完成对计算机硬件系统的<red>抽象</red>，为应用程序提供运行的支持。我们的课程从三个视角观察操作系统：</p>
<ul>
<li>从应用程序的视角看，操作系统定义了<red>一系列的对象</red> (进程/线程、地址空间、文件、设备……) 和<red>操纵它们的 API</red> (系统调用)。这组强大的 API 把一台计算机的硬件资源分享给操作系统中的所有应用程序。我们看到的一切程序，不限于浏览器、游戏，甚至还包括容器、虚拟机、调试器、游戏外挂，都是在系统调用 API 上实现的
<widget>在课程中，我们使用操作系统 API 实现一系列 “黑科技”，包括在 Linux 中复刻三类经典游戏外挂：金山游侠、按键精灵、变速齿轮，并用它们修改真正的游戏</widget></li>
<li>从硬件的视角看，操作系统是一个<red>拥有访问全部硬件功能的程序</red> (操作系统就是个 C 程序，不用怕)。硬件会帮助操作系统完成最初的初始化和加载，之后，操作系统加载完第一个程序后，从此作为 “中断处理程序” 在后台管理整个计算机系统
<widget>在课堂中，我们会调试真实的操作系统内核。同学们也会编写属于自己的迷你操作系统内核，并实现简化的系统调用</widget></li>
<li>从数学的视角看，一切计算机系统都是如同 “1 + 1 = 2” 一样 “well-defined” 的<red>数学对象</red>，这包括机器、程序，当然也包括操作系统。计算机系统的行为是可以用数学函数 (当然，也可以用代码) 表示的
<widget>在课堂中，我们会构建操作系统的可执行模型，并用形式化方法 “暴力枚举” 操作系统上程序的所有可能行为以更好地理解操作系统 (<a href="https://www.usenix.org/conference/atc23/presentation/jiang-yanyan">USENIX ATC&#x27;23 Paper</a>)</widget></li>
</ul>
<h2>课程组织</h2>
<p>我们会在课程中交替地从三个视角观察操作系统，最终建立对 “操作系统” 的正确认识。</p>
<ul>
<li>原理课：以教科书内容为主线，但从三个视角交替观察操作系统。课堂上将会展示许多代码示例，确保同学们理解真实的程序是如何在真实的操作系统上运行的</li>
<li>课后阅读：“Operating System: Three Easy Pieces” 的思路 (<box class="box-blue">并发</box>/<box class="box-green">虚拟化</box>/<box class="box-violet">持久化</box>) 和课堂略有不同，但无论如何，OSTEP 都是一本非常棒的课后读物，藏着许多惊喜，推荐每一位同学参考原理课内容阅读</li>
<li>折磨实验<!-- -->
<ul>
<li>Mini labs (应用程序视角；设计)：通过实现一系列有趣的 (<del>黑科技</del>) 代码理解操作系统中对象存在的意义和操作系统 API 的使用方法、设计理念</li>
<li>OS labs (计算机硬件视角；实现)：基于一个简化的硬件抽象层实现多处理器操作系统内核，向应用程序提供一些基础操作系统 API</li>
</ul>
</li>
</ul>
<p>我们会在课程中讲授一些相对深刻和本质的内容，不要求同学们掌握，用 🌶️ 标记。同时，这些深刻的思考也体现在方方面面，例如历年的试卷多多少少都会有一些 “彩蛋”。2023 年期末试题中提问 “如何在没有 MMU，不支持虚拟地址空间的计算机系统上实现 fork？” 课堂和课后的思考都将指向严肃的研究工作 (<a href="https://dl.acm.org/doi/abs/10.1145/3385412.3385987">PLDI&#x27;20 Paper</a>)。如果你知道进程地址空间中存储的指针是问题的难点，就能想到合理的解决思路。</p>
<h2>前导知识</h2>
<p>这是一门强调 “编程” 的硬核课程。不畏惧且能够写出能够正确工作的代码对理解操作系统来说至关重要：</p>
<blockquote>
<p><em>Talk is cheap. Show me the code.</em> ——Linus Torvalds</p>
</blockquote>
<p>因此，我们预期这门课的听众已经能够在操作系统上利用 API 编程，并对计算机硬件提供的机制有一定了解。具体来说，我们假设课程的听众：</p>
<ol>
<li>掌握 C 语言编程的技术和技巧，能够驾驭一定规模 (数千行) 的代码，并且能为你自己的 “负责”，使用正确的工具完成测试、调试</li>
<li>熟悉至少一个指令集体系架构 (包括应用和系统指令)，如 x86/MIPS/RISC-V 中的一个</li>
</ol>
<p>注意我们对上述两个要求是真正的 “严格” 的，例如独立完成《计算机系统基础》课程中附带的 NEMU 模拟器实验实现可以满足此要求。同时，这意味着你应该有相当的代码能力，包括独立排查问题和在互联网查阅资料的能力。如果你觉得自己的编程基础还没能过关 (例如调试中等规模代码时找不到头绪)，请参考我们准备的<a href="Guide.md">生存指南</a>。</p></div></div><div class="bg-neutral-100 text-center text-neutral-600 dark:bg-neutral-600 dark:text-neutral-200 lg:text-left"><div class="bg-neutral-200 p-6 text-center dark:bg-neutral-700"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons License: BY-NC 4.0</a><br/><a href="https://beian.miit.gov.cn/">苏 ICP 备 2020049101 号</a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    p: \"p\",\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    blockquote: \"blockquote\",\n    em: \"em\",\n    ol: \"ol\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h1, {\n      children: \"《操作系统》课程概述\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"操作系统是一个典型的 “system”——它完成对计算机硬件系统的\", _jsx(\"red\", {\n        children: \"抽象\"\n      }), \"，为应用程序提供运行的支持。我们的课程从三个视角观察操作系统：\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"从应用程序的视角看，操作系统定义了\", _jsx(\"red\", {\n          children: \"一系列的对象\"\n        }), \" (进程/线程、地址空间、文件、设备……) 和\", _jsx(\"red\", {\n          children: \"操纵它们的 API\"\n        }), \" (系统调用)。这组强大的 API 把一台计算机的硬件资源分享给操作系统中的所有应用程序。我们看到的一切程序，不限于浏览器、游戏，甚至还包括容器、虚拟机、调试器、游戏外挂，都是在系统调用 API 上实现的\\n\", _jsx(\"widget\", {\n          children: \"在课程中，我们使用操作系统 API 实现一系列 “黑科技”，包括在 Linux 中复刻三类经典游戏外挂：金山游侠、按键精灵、变速齿轮，并用它们修改真正的游戏\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"从硬件的视角看，操作系统是一个\", _jsx(\"red\", {\n          children: \"拥有访问全部硬件功能的程序\"\n        }), \" (操作系统就是个 C 程序，不用怕)。硬件会帮助操作系统完成最初的初始化和加载，之后，操作系统加载完第一个程序后，从此作为 “中断处理程序” 在后台管理整个计算机系统\\n\", _jsx(\"widget\", {\n          children: \"在课堂中，我们会调试真实的操作系统内核。同学们也会编写属于自己的迷你操作系统内核，并实现简化的系统调用\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"从数学的视角看，一切计算机系统都是如同 “1 + 1 = 2” 一样 “well-defined” 的\", _jsx(\"red\", {\n          children: \"数学对象\"\n        }), \"，这包括机器、程序，当然也包括操作系统。计算机系统的行为是可以用数学函数 (当然，也可以用代码) 表示的\\n\", _jsxs(\"widget\", {\n          children: [\"在课堂中，我们会构建操作系统的可执行模型，并用形式化方法 “暴力枚举” 操作系统上程序的所有可能行为以更好地理解操作系统 (\", _jsx(_components.a, {\n            href: \"https://www.usenix.org/conference/atc23/presentation/jiang-yanyan\",\n            children: \"USENIX ATC'23 Paper\"\n          }), \")\"]\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"课程组织\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"我们会在课程中交替地从三个视角观察操作系统，最终建立对 “操作系统” 的正确认识。\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"原理课：以教科书内容为主线，但从三个视角交替观察操作系统。课堂上将会展示许多代码示例，确保同学们理解真实的程序是如何在真实的操作系统上运行的\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"课后阅读：“Operating System: Three Easy Pieces” 的思路 (\", _jsx(\"box\", {\n          className: \"box-blue\",\n          children: \"并发\"\n        }), \"/\", _jsx(\"box\", {\n          className: \"box-green\",\n          children: \"虚拟化\"\n        }), \"/\", _jsx(\"box\", {\n          className: \"box-violet\",\n          children: \"持久化\"\n        }), \") 和课堂略有不同，但无论如何，OSTEP 都是一本非常棒的课后读物，藏着许多惊喜，推荐每一位同学参考原理课内容阅读\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"折磨实验\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"Mini labs (应用程序视角；设计)：通过实现一系列有趣的 (\", _jsx(\"del\", {\n              children: \"黑科技\"\n            }), \") 代码理解操作系统中对象存在的意义和操作系统 API 的使用方法、设计理念\"]\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"OS labs (计算机硬件视角；实现)：基于一个简化的硬件抽象层实现多处理器操作系统内核，向应用程序提供一些基础操作系统 API\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"我们会在课程中讲授一些相对深刻和本质的内容，不要求同学们掌握，用 🌶️ 标记。同时，这些深刻的思考也体现在方方面面，例如历年的试卷多多少少都会有一些 “彩蛋”。2023 年期末试题中提问 “如何在没有 MMU，不支持虚拟地址空间的计算机系统上实现 fork？” 课堂和课后的思考都将指向严肃的研究工作 (\", _jsx(_components.a, {\n        href: \"https://dl.acm.org/doi/abs/10.1145/3385412.3385987\",\n        children: \"PLDI'20 Paper\"\n      }), \")。如果你知道进程地址空间中存储的指针是问题的难点，就能想到合理的解决思路。\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"前导知识\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"这是一门强调 “编程” 的硬核课程。不畏惧且能够写出能够正确工作的代码对理解操作系统来说至关重要：\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.em, {\n          children: \"Talk is cheap. Show me the code.\"\n        }), \" ——Linus Torvalds\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"因此，我们预期这门课的听众已经能够在操作系统上利用 API 编程，并对计算机硬件提供的机制有一定了解。具体来说，我们假设课程的听众：\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"掌握 C 语言编程的技术和技巧，能够驾驭一定规模 (数千行) 的代码，并且能为你自己的 “负责”，使用正确的工具完成测试、调试\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"熟悉至少一个指令集体系架构 (包括应用和系统指令)，如 x86/MIPS/RISC-V 中的一个\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"注意我们对上述两个要求是真正的 “严格” 的，例如独立完成《计算机系统基础》课程中附带的 NEMU 模拟器实验实现可以满足此要求。同时，这意味着你应该有相当的代码能力，包括独立排查问题和在互联网查阅资料的能力。如果你觉得自己的编程基础还没能过关 (例如调试中等规模代码时找不到头绪)，请参考我们准备的\", _jsx(_components.a, {\n        href: \"Guide.md\",\n        children: \"生存指南\"\n      }), \"。\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"frontmatter":{"title":"《操作系统》课程概述"}},"__N_SSG":true},"page":"/[[...index]]","query":{"index":["OS","Overview.md"]},"buildId":"a2FwJzUPGFGc0QcwaUr13","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>