<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<style>
.article {
  -webkit-hyphens: auto;
}
form {
  margin-block-end: 0;
}
img {
  display: inline-block;
}
code { font-size: 85%; }
pre {
  font-size: 95%;
  line-height: 120%;
}
blockquote {
  font-size: 95%;
}
p {
  font-size: 105%;
  text-indent: 2em;
}
li {
  font-size: 105%;
}
blockquote p {
  text-indent: 0em;
}
.float-right {
  padding-left: 10px;
}
.float-left {
  padding-right: 10px;
}
a {
  color: rgb(29 78 216);
}
strong {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.box        {
  border-radius: 2px; padding: 1px 4px 2px 4px;
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
  font-size: 95%;
}
.box-blue,  .badge-primary  { background-color: rgba(66, 139, 202, 0.5); color: #1d4ed8; }
.box-green, .badge-success  { background-color: rgba(92, 184, 92, 0.5);  color: #15803d; }
.box-red,   .badge-danger   { background-color: rgba(217, 83, 79, 0.5);  color: #b91c1c; }
.box-yellow,.badge-warning  { background-color: rgba(240, 173, 78, 0.5); color: #a16207; }
.box-gray   { background-color: #a0a0a0; }

.badge {
  padding: 1 4 1 4;
  display: inline-block;
  border-radius: 0.25rem;
  border: 1px solid;
}
.message p {
  text-indent: 0em;
  margin-top: 1px;
}
.message h1, h2, h3, h4, h5 {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.message h2 {
  font-size: 120%;
  margin-top: 5px;
  margin-bottom: 2px;
}
.message li {
  list-style: disc;
  margin-left: 2em;
}
li > p {
  text-indent: 0em;
}
block-quote h4 {
  float: left;
  display: inline-block;
}
.center {
  display: block;
  margin: auto;
}
hr {
  margin-top: 20px;
  padding-bottom: 20px;
}

.fa-gradient {
	background: -webkit-gradient(linear, left top, left bottom, from(rgb(99, 27, 103)), to(#333));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

</style>


  <title>&#25805;&#20316;&#31995;&#32479;&#27010;&#36848;</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div>

<div class="px-2 py-1 w-full fixed z-50 bg-gradient-to-r from-black via-purple-700 via-purple-500 shadow-lg" style="-webkit-backdrop-filter: saturate(150%) blur(4px); backdrop-filter: saturate(150%) blur(4px)">
  <form>
    <a href="../../../index.html"><span class="text-lg px-2 text-white">Yanyan's Wiki</span></a>
    <a href="../../2023/index.html"><span class="text-sm px-2 text-white">&#25805;&#20316;&#31995;&#32479; (2023)</span></a>
    <input maxlength="9" id="token-input" class="float-right appearance-none border border-transparent px-2 py-1 w-20 bg-white text-gray-700 placeholder-gray-400 shadow-md rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono" type="text" placeholder="TOKEN" oninput="login();">
  </form>
</div>

<div class="article container mx-auto md:px-8 lg:px-8 xl:px-8 2xl:px-8 shadow-lg border pb-8 pt-10 max-w-screen-md text-justify divide-y-2 divide-white">
  <div><h1 id="_1" class=" text-2xl mt-2 font-sans">&#25805;&#20316;&#31995;&#32479;&#27010;&#36848;</h1>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_2" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#26412;&#35762;&#38405;&#35835;&#26448;&#26009;</h4>
<p class=" font-serif my-1"><a href="http://pages.cs.wisc.edu/~remzi/OSTEP/" class=" text-amber-900">&#25945;&#31185;&#20070; (Operating Systems: Three Easy Pieces, OSTEP)</a> &#31532; 1-2 &#31456;&#12290;</p>
</blockquote>
<h2 id="1-operating-systems-yet-another-three-easy-pieces" class=" text-xl mt-2 pb-2 font-sans">1. Operating Systems: Yet Another Three Easy Pieces</h2>
<p class=" font-serif my-1">&#25945;&#31185;&#20070;&#19978;&#32473; &#8220;&#25805;&#20316;&#31995;&#32479;&#8221; &#30340;&#23450;&#20041;&#65306;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">A body of software, in fact, that is responsible for making it easy to run programs (even allowing you to seemingly run many at the same time), allowing programs to share memory, enabling programs to interact with devices, and other fun stuff like that. (OSTEP)</p>
</blockquote>
<p class=" font-serif my-1">&#29983;&#30828;&#22320;&#35828;&#65292;&#25805;&#20316;&#31995;&#32479;&#26159; &#8220;&#32479;&#19968;&#31649;&#29702;&#21644;&#35843;&#24230;&#35745;&#31639;&#26426;&#30828;&#20214;&#20013;&#30340;&#21508;&#31867;&#36164;&#28304;&#12289;&#20026;&#21508;&#31867;&#24212;&#29992;&#31243;&#24207;&#21644;&#31995;&#32479;&#36719;&#20214;&#25552;&#20379;&#26381;&#21153;&#8221; &#30340;&#36719;&#20214;&#12290;&#31867;&#20284;&#30340;&#23450;&#20041;&#21487;&#20197;&#22312;&#19968;&#19975;&#26412;&#21442;&#32771;&#20070;&#19978;&#30475;&#21040;&#12290;&#20854;&#23454;&#25105;&#35748;&#20026;&#26368;&#37325;&#35201;&#30340;&#26159;&#36825;&#21477;&#35805;&#20013; &#8220;&#36164;&#28304;&#8221;&#12289;&#8220;&#31243;&#24207;&#8221; &#37117;&#26159;&#21253;&#32599;&#19975;&#35937;&#30340;&#25277;&#35937;&#27010;&#24565;&#65292;&#20854;&#23454;&#24456;&#38590;&#29702;&#35299;&#12290;</p>
<p class=" font-serif my-1">&#35201; &#8220;&#27010;&#25324;&#8221; &#22320;&#24110;&#21161;&#22823;&#23478;&#29702;&#35299;&#25805;&#20316;&#31995;&#32479;&#65292;&#25105;&#20204;&#23601;&#24517;&#39035;&#22238;&#21040;&#25805;&#20316;&#31995;&#32479;&#25903;&#25345;&#30340;&#23545;&#35937;&#65306;&#8220;&#31243;&#24207;&#8221;&#65292;&#36890;&#36807;&#8220;&#31243;&#24207;&#8221;-&#8220;&#25805;&#20316;&#31995;&#32479;API&#8221;-&#8220;&#35745;&#31639;&#26426;&#30828;&#20214;&#8221; &#19977;&#32773;&#20043;&#38388;&#30340;&#20851;&#31995;&#21435;&#29702;&#35299;&#25805;&#20316;&#31995;&#32479;&#26159;&#20160;&#20040;&#12290;</p>
<h3 id="11" class=" text-lg mt-2 pb-2 font-sans">1.1 &#31243;&#24207;</h3>
<p class=" font-serif my-1">&#20320;&#20204;&#21487;&#33021;&#35273;&#24471;&#31243;&#24207;&#24456;&#31616;&#21333;&#65292;&#38543;&#25163;&#23601;&#33021;&#20889;&#19968;&#20010;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">"Hello, World</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#24403;&#28982;&#65292;&#22914;&#26524;&#20320;&#29992; objdump &#21629;&#20196;&#26597;&#30475;&#25105;&#20204;&#30340;&#31243;&#24207;&#21040;&#24213;&#32534;&#35793;&#20986;&#20102;&#20160;&#20040;&#26679;&#30340;&#25351;&#20196;&#24207;&#21015;&#65292;&#20320;&#20250;&#21457;&#29616;&#36828;&#27809;&#26377;&#20320;&#24819;&#35937;&#24471;&#37027;&#20040;&#31616;&#21333; (&#22914;&#26524;&#20320;&#19981;&#30693;&#36947;&#36825;&#37324;&#22312;&#20570;&#20160;&#20040;&#65292;&#35831;&#36873;&#20462;&#12298;&#35745;&#31639;&#26426;&#31995;&#32479;&#22522;&#30784;&#12299;&#25110;&#38405;&#35835;&#25512;&#33616;&#30340; CSAPP &#21442;&#32771;&#20070;)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ objdump -d a.out # &#21453;&#27719;&#32534;
a.out:     file format elf64-x86-64

Disassembly of section .init:

0000000000001000 &lt;_init&gt;:
    1000:       f3 0f 1e fa             endbr64 
    1004:       48 83 ec 08             sub    $0x8,%rsp
    1008:       48 8b 05 d9 2f 00 00    mov    0x2fd9(%rip),%rax        # 3fe8 &lt;__gmon_start__&gt;
    100f:       48 85 c0                test   %rax,%rax
    1012:       74 02                   je     1016 &lt;_init+0x16&gt;
    1014:       ff d0                   callq  *%rax
    1016:       48 83 c4 08             add    $0x8,%rsp
    101a:       c3                      retq   

Disassembly of section .plt:

0000000000001020 &lt;.plt&gt;:
    1020:       ff 35 9a 2f 00 00       pushq  0x2f9a(%rip)        # 3fc0 &lt;_GLOBAL_OFFSET_TABLE_+0x8&gt;
    1026:       f2 ff 25 9b 2f 00 00    bnd jmpq *0x2f9b(%rip)        # 3fc8 &lt;_GLOBAL_OFFSET_TABLE_+0x10&gt;
    102d:       0f 1f 00                nopl   (%rax)
    1030:       f3 0f 1e fa             endbr64 
    1034:       68 00 00 00 00          pushq  $0x0
    1039:       f2 e9 e1 ff ff ff       bnd jmpq 1020 &lt;.plt&gt;
    103f:       90                      nop

...
</code></pre></div>

<p class=" font-serif my-1">&#27492;&#22788;&#30465;&#30053; nnn &#34892;&#12290;&#22909;&#20687;&#36827;&#20837;&#20102;&#26410;&#30693;&#39046;&#22495;&#8230;&#8230;&#27809;&#20851;&#31995;&#65292;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#29992;&#27719;&#32534;&#35821;&#35328;&#20889;&#19968;&#20010; <code>main</code> &#20989;&#25968;&#65292;&#30452;&#25509;&#36820;&#22238;&#19981;&#23601;&#22909;&#21862;&#65281;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="na">.globl</span><span class="w"> </span><span class="no">main</span>
<span class="nl">main:</span>
<span class="w">  </span><span class="nf">ret</span>
</code></pre></div>

<p class=" font-serif my-1">&#25226;&#36825;&#19968;&#27573;&#20195;&#30721;&#20445;&#23384;&#25104; <code>a.S</code>&#65292;&#28982;&#21518;&#20351;&#29992; gcc &#32534;&#35793;&#12289;ld &#38142;&#25509;&#65292;&#36825;&#26679;&#23601;&#24471;&#21040;&#20102;&#19968;&#20010; &#8220;&#32477;&#23545;&#24178;&#20928;&#8221; &#30340;&#21487;&#25191;&#34892;&#25991;&#20214;&#65292;&#21482;&#26377;&#19968;&#26465;&#25351;&#20196; (&#19978;&#36807;&#12298;&#35745;&#31639;&#26426;&#31995;&#32479;&#22522;&#30784;&#12299;&#30340;&#21516;&#23398;&#30475;&#21040;&#29087;&#24713;&#30340; <code>c3</code> &#20102;)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ gcc -c a.S       # &#32534;&#35793;
$ ld -e main a.o   # &#38142;&#25509; (-e &#25351;&#23450;&#20837;&#21475;)
$ objdump -d a.out # &#21453;&#27719;&#32534;
a.out:     file format elf64-x86-64

Disassembly of section .text:

0000000000401000 &lt;main&gt;:
  401000:   c3                      retq
</code></pre></div>

<p class=" font-serif my-1">&#20294;&#26159;&#36816;&#34892;&#23427;&#20250;&#21457;&#29983;&#20160;&#20040;&#21602;&#65311;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ ./a.out
Segmentation fault (core dumped)
</code></pre></div>

<p class=" font-serif my-1">&#27627;&#19981;&#23458;&#27668;&#30340;&#27573;&#38169;&#35823;&#12290;&#20026;&#20160;&#20040;&#21602;&#65311;&#22823;&#23478;&#21487;&#20197;&#29992; gdb &#24037;&#20855;&#35843;&#35797;&#19968;&#19979;&#12290;&#25552;&#31034;&#65306;&#21487;&#20197;&#20351;&#29992; gdb &#26597;&#30475;&#21508;&#20010;&#23492;&#23384;&#22120;&#21644;&#20869;&#23384;&#30340;&#29366;&#24577;&#12290;&#22238;&#39038; ret &#25351;&#20196;&#30340;&#35821;&#20041;&#8212;&#8212;&#23427;&#23558; <code>$rsp</code> &#23492;&#23384;&#22120;&#25152;&#25351;&#21521;&#30340;&#20869;&#23384;&#22320;&#22336;&#30340; 8 &#20010;&#23383;&#33410;&#36171;&#20540;&#32473; PC (<code>$rip</code>)&#65292;&#28982;&#21518; <code>$rsp</code> &#30340;&#25968;&#20540;&#22686;&#21152; 8&#65292;&#36825;&#26102;&#20505;&#65292;&#20320;&#33021;&#28165;&#26970;&#22320;&#30475;&#21040; ret &#25351;&#20196;&#25191;&#34892;&#20102;&#20160;&#20040;&#65292;&#24182;&#19988;&#20026;&#20160;&#20040;&#20250;&#21457;&#29983; segmentation fault&#8212;&#8212;&#23613;&#31649;&#20320;&#24182;&#19981;&#30693;&#36947;&#26632;&#19978;&#20250;&#26377;&#37027;&#20010;&#25968;&#23383;&#65292;&#36825;&#20250;&#38543;&#30528;&#35838;&#31243;&#30340;&#36827;&#31243;&#20026;&#22823;&#23478;&#25581;&#26195;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_3" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#20160;&#20040;&#26159;&#31243;&#24207;&#65311;</h4>
<p class=" font-serif my-1">&#23545;&#20110;&#25805;&#20316;&#31995;&#32479;&#19978;&#25191;&#34892;&#30340;&#31243;&#24207; (&#20063;&#23601;&#26159;&#25105;&#20204;&#19968;&#33324;&#24847;&#20041;&#19978;&#30340;&#31243;&#24207;&#65292;&#19981;&#21253;&#25324;&#25805;&#20316;&#31995;&#32479;&#36825;&#31181;&#29305;&#27530;&#30340;&#31243;&#24207;) &#26469;&#35828;&#65292;&#23427;&#19968;&#26086;&#22312; CPU &#19978;&#24320;&#22987;&#25191;&#34892;&#65292;&#23601;&#36827;&#20837;&#20102;&#21462;&#25351;&#20196;-&#35793;&#30721;-&#25191;&#34892;&#30340;&#24490;&#29615;&#12290;&#32780;&#23427;&#25152;&#33021;&#20570;&#30340;&#20165;&#20165;&#26159;&#32431;&#31929;&#30340; &#8220;&#35745;&#31639;&#8221;&#8212;&#8212;&#26681;&#25454;&#24403;&#21069;&#30340;&#20869;&#23384;/&#23492;&#23384;&#22120;&#65292;&#31639;&#20986;&#19968;&#20123;&#26032;&#30340;&#25968;&#20540;&#65292;&#20889;&#20837;&#20869;&#23384;/&#23492;&#23384;&#22120;&#20013;&#12290;&#25152;&#26377;&#30340;&#31243;&#24207;&#8212;&#8212;&#19981;&#31649;&#26159;&#20320;&#21018;&#25165;&#32534;&#20889;&#30340; Hello World&#65292;&#36824;&#26159;&#32456;&#31471;&#12289;Shell&#12289;&#26700;&#38754;&#31649;&#29702;&#22120;&#12289;&#28216;&#25103;&#12289;&#28216;&#25103;&#22806;&#25346;&#8230;&#8230;&#32479;&#32479;&#37117;&#26159;&#22914;&#27492;&#65292;&#21482;&#33021;&#25191;&#34892;&#32431;&#31929;&#30340;&#35745;&#31639;&#12290;</p>
<p class=" font-serif my-1">&#36825;&#37324;&#20165;&#26377;&#19968;&#20010;&#20363;&#22806;&#65292;&#25105;&#20204;&#39532;&#19978;&#23601;&#35299;&#37322;&#12290;</p>
</blockquote>
<h3 id="12-api" class=" text-lg mt-2 pb-2 font-sans">1.2 &#25805;&#20316;&#31995;&#32479;&#65306;&#19968;&#32452; API</h3>
<p class=" font-serif my-1">&#22914;&#26524;&#19981;&#24076;&#26395;&#19978;&#38754;&#30340;&#31243;&#24207;&#21457;&#29983; segmentation fault&#65292;&#20063;&#19981;&#24819;&#35753;&#31243;&#24207;&#38519;&#20837;&#27515;&#24490;&#29615; (<code>jmp .</code>)&#65292;&#25105;&#20204;&#21487;&#20197;&#31245;&#24494;&#21152;&#19968;&#28857;&#20195;&#30721;&#65292;&#23601;&#21487;&#20197;&#36864;&#20986;&#31243;&#24207;&#24182;&#36820;&#22238;&#20320;&#24819;&#35201;&#30340;&#25968;&#20540;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="na">.globl</span><span class="w"> </span><span class="no">main</span>
<span class="nl">main:</span>
<span class="w">  </span><span class="nf">movq</span><span class="w"> </span><span class="no">$60</span><span class="p">,</span><span class="w"> </span><span class="nv">%rax</span><span class="w">    </span><span class="c1"># exit(</span>
<span class="w">  </span><span class="nf">movq</span><span class="w"> </span><span class="no">$42</span><span class="p">,</span><span class="w"> </span><span class="nv">%rdi</span><span class="w">    </span><span class="c1">#   &#21487;&#20197;&#25226; 42 &#25442;&#25104;&#20219;&#24847;&#20320;&#24076;&#26395;&#30340;&#36820;&#22238;&#20540;</span>
<span class="w">  </span><span class="nf">syscall</span><span class="w">           </span><span class="c1"># );</span>
</code></pre></div>

<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ gcc a.S -c &amp;&amp; ld -e main a.o &amp;&amp; ./a.out
$ echo $?  # &#25171;&#21360;&#19978;&#19968;&#20010;&#21629;&#20196;&#30340;&#36820;&#22238;&#20540;
42
</code></pre></div>

<p class=" font-serif my-1">&#21018;&#25165;&#25105;&#20204;&#25152;&#35828;&#31243;&#24207; &#8220;&#21462;&#25351;&#20196;-&#35793;&#30721;-&#25191;&#34892;&#24490;&#29615;&#8221; &#20013;&#65292;&#25152;&#26377;&#30340;&#25351;&#20196;&#37117;&#21482;&#33021;&#29992;&#20110;&#20869;&#23384;/&#23492;&#23384;&#22120;&#19978;&#30340;&#35745;&#31639;&#65292;&#21807;&#29420;&#26377;&#19968;&#31867;&#25351;&#20196;&#24456;&#29305;&#27530; (&#22914; syscall)&#65292;&#23427;&#26159;&#30041;&#32473;&#25805;&#20316;&#31995;&#32479;&#30340; &#8220;&#31995;&#32479;&#35843;&#29992;&#8221; &#38519;&#38449; (trap) &#25351;&#20196;&#12290;&#23427;&#20250;&#20572;&#27490;&#29616;&#22312;&#31243;&#24207;&#30340;&#25191;&#34892;&#65292;&#20999;&#25442;&#22788;&#29702;&#22120;&#21040;&#39640;&#26435;&#38480; (&#24456;&#22810;&#29992;&#25143;&#31243;&#24207;&#26080;&#27861;&#25191;&#34892;&#30340;&#25351;&#20196;&#65292;&#20363;&#22914;&#20851;&#20013;&#26029;&#31561;&#22312;&#39640;&#26435;&#38480;&#19979;&#21487;&#20197;&#25191;&#34892;)&#65292;&#24182;&#23436;&#25104;&#21521;&#25805;&#20316;&#31995;&#32479;&#20195;&#30721;&#30340;&#36339;&#36716;&#12290;</p>
<p class=" font-serif my-1">&#31995;&#32479;&#35843;&#29992; (&#19968;&#31181;&#20856;&#22411;&#30340;&#35843;&#29992;&#26041;&#27861;&#26159;&#36890;&#36807;&#21018;&#25165;&#30340; syscall &#25351;&#20196;&#23454;&#29616;&#12290;&#20005;&#35880;&#22320;&#35828;&#65292;&#31995;&#32479;&#35843;&#29992;&#20063;&#21487;&#33021;&#36890;&#36807;&#20854;&#20182;&#36884;&#24452;&#23454;&#29616;&#65292;&#20363;&#22914;&#25805;&#20316;&#31995;&#32479;&#21644;&#36827;&#31243;&#20043;&#38388;&#20849;&#20139;&#30340;&#20869;&#23384;) &#26159;&#25805;&#20316;&#31995;&#32479;&#21644;&#31243;&#24207;&#20043;&#38388;&#30340;&#21807;&#19968;&#25509;&#21475;&#12290;&#22914;&#26524;&#31243;&#24207;&#24819;&#35201;&#23436;&#25104;<strong>&#20219;&#20309;</strong>&#38750;&#32431;&#31929;&#35745;&#31639;&#30340;&#20219;&#21153;&#65292;&#37117;&#24517;&#39035;&#36890;&#36807;&#31995;&#32479;&#35843;&#29992;&#12290;&#21253;&#25324;&#20294;&#19981;&#38480;&#20110;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#32467;&#26463;&#33258;&#24049; (<code>exit</code>) &#25110;&#20182;&#20154; (<code>kill</code>)&#12290;</li>
<li class=" ml-8">&#35775;&#38382;&#25805;&#20316;&#31995;&#32479;&#20013;&#30340;&#20219;&#20309;&#23545;&#35937; (&#20363;&#22914;&#36890;&#36807; <code>write</code> &#25171;&#21360; Hello World)&#12290;</li>
<li class=" ml-8">&#21019;&#24314;&#26032;&#30340;&#36827;&#31243; (<code>fork</code>)&#12290;</li>
<li class=" ml-8">&#30003;&#35831;&#19968;&#27573;&#20869;&#23384; (<code>mmap</code>)&#12290;</li>
</ul>
<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#26597;&#30475;&#25163;&#20876; syscall (2) &#21644; syscalls (2) &#26597;&#30475; Linux &#31995;&#32479;&#35843;&#29992;&#30340; ABI (Application Binary Interface) &#21644; API&#12290;&#20320;&#21487;&#20197;&#23545;&#29031;&#36825;&#20221;&#25163;&#20876;&#35299;&#35835;&#21018;&#25165;&#30340;&#20195;&#30721;&#65306;<code>rax</code> &#23492;&#23384;&#22120;&#25918;&#32622;&#20102;&#31995;&#32479;&#35843;&#29992;&#30340;&#32534;&#21495; (60&#65292;&#23545;&#24212; <code>exit</code>)&#65292;<code>rdi</code> &#23492;&#23384;&#22120;&#26159;&#31995;&#32479;&#35843;&#29992;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968; (42&#65292;&#20195;&#34920;&#31243;&#24207;&#36864;&#20986;&#26102;&#30340; exit code)&#12290;&#24182;&#19988;&#36890;&#36807;&#38405;&#35835;&#25163;&#20876;&#65292;&#20320;&#36824;&#21487;&#20197;&#25214;&#21040;&#21018;&#25165;&#20195;&#30721;&#30340;&#26356;&#22909;&#20889;&#27861;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="c1">#include &lt;sys/syscall.h&gt;  # gcc &#21487;&#20197;&#20026;&#27719;&#32534;&#20195;&#30721;&#23436;&#25104;&#39044;&#32534;&#35793;&#65281;</span>
<span class="w">                          </span><span class="c1"># &#23567;&#20064;&#39064;&#65306;&#20320;&#33021;&#25214;&#21040;&#36825;&#20010;&#25991;&#20214;&#30340;&#36335;&#24452;&#21527;&#65311;&#25552;&#31034;&#65306;&#20351;&#29992; gcc &#30340;&#32534;&#35793;&#36873;&#39033;</span>
<span class="na">.globl</span><span class="w"> </span><span class="no">main</span>
<span class="nl">main:</span>
<span class="w">  </span><span class="nf">movq</span><span class="w"> </span><span class="no">$SYS_exit</span><span class="p">,</span><span class="w"> </span><span class="nv">%rax</span><span class="w">    </span><span class="c1"># &#22836;&#25991;&#20214;&#20013;&#23450;&#20041;&#30340;&#23439;&#20250;&#34987;&#39044;&#32534;&#35793;&#22120;&#26367;&#25442;</span>
<span class="w">  </span><span class="nf">movq</span><span class="w"> </span><span class="no">$42</span><span class="p">,</span><span class="w">       </span><span class="nv">%rdi</span>
<span class="w">  </span><span class="nf">syscall</span>
</code></pre></div>

<p class=" font-serif my-1">&#20320;&#21018;&#24320;&#22987;&#21487;&#33021;&#26377;&#28857;&#38590;&#20197;&#25509;&#21463;&#65292;&#20320;&#30475;&#21040;&#30340; &#8220;&#35745;&#31639;&#26426;&#8221; &#20013;&#30340;&#19968;&#20999; (&#21253;&#25324; Android &#25163;&#26426;&#19978;&#30340;&#19968;&#20999;)&#65292;&#30475;&#21040;&#30340;&#22270;&#20687;&#12289;&#21548;&#21040;&#30340;&#22768;&#38899;&#12289;&#31227;&#21160;&#30340;&#40736;&#26631;&#20809;&#26631;&#8230;&#8230;&#19968;&#20999;&#30340;&#19968;&#20999;&#37117;&#26159;&#22312;&#36825;&#19968;&#32452; API &#19978;&#23454;&#29616;&#30340;&#12290;&#25105;&#20204;&#23558;&#29992;&#19968;&#20010;&#23398;&#26399;&#30340;&#20869;&#23481;&#24110;&#21161;&#22823;&#23478;&#29702;&#35299;&#37325;&#35201;&#30340; Linux &#25805;&#20316;&#31995;&#32479; API&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_4" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25805;&#20316;&#31995;&#32479;&#65306;&#35774;&#35745;</h4>
<p class=" font-serif my-1">&#24456;&#33258;&#28982;&#22320;&#25105;&#20204;&#20250;&#38382;&#65306;&#25805;&#20316;&#31995;&#32479;&#37324;&#24212;&#35813;&#26377;&#20160;&#20040;&#23545;&#35937;&#12289;&#24212;&#35813;&#25552;&#20379;&#20160;&#20040;&#26679;&#30340; API &#32473;&#31243;&#24207;&#35775;&#38382;&#36825;&#20123;&#23545;&#35937;&#65292;&#20197;&#36171;&#20104;&#31243;&#24207;&#20351;&#29992;&#35745;&#31639;&#26426;&#31995;&#32479;&#30828;&#20214;&#36164;&#28304;&#30340;&#33021;&#21147;&#65311;&#25105;&#20204;&#30452;&#25509;&#25226; I/O &#35774;&#22791;&#26292;&#38706;&#32473;&#31243;&#24207;&#21487;&#19981;&#22826;&#22909;&#8212;&#8212;&#35797;&#24819;&#65306;&#22914;&#26524;&#25805;&#20316;&#31995;&#32479;&#37324;&#30340;&#31243;&#24207;&#37117;&#33719;&#24471;&#23545;&#30913;&#30424;&#30340;&#25511;&#21046;&#26435;&#65292;&#24403;&#20004;&#20010;&#31243;&#24207;&#37117;&#24819;&#21521;&#30913;&#30424;&#20013;&#20889;&#20837;&#25968;&#25454;&#26102;&#65292;&#23427;&#20204;&#24590;&#20040;&#30456;&#20114;&#21327;&#35843;&#20445;&#35777;&#20889;&#20837;&#30340;&#20301;&#32622;&#19981;&#20914;&#31361;&#65311;</p>
<p class=" font-serif my-1">&#20026;&#20102;&#35299;&#20915;&#36825;&#20123;&#38382;&#39064;&#65292;&#25805;&#20316;&#31995;&#32479;&#37324;&#19968;&#20010;&#38750;&#24120;&#24120;&#35265;&#30340;&#35774;&#35745;&#26159; &#8220;&#34394;&#25311;&#21270;&#8221;&#12290;&#20363;&#22914;&#65292;&#30913;&#30424;&#19981;&#36866;&#21512;&#30452;&#25509;&#25552;&#20379;&#32473;&#31243;&#24207;&#20351;&#29992;&#65292;&#37027;&#25105;&#20204;&#21487;&#20197;&#22312;&#31995;&#32479;&#20013;&#35774;&#32622;&#24456;&#22810;&#24456;&#22810;&#20010; &#8220;&#34394;&#25311;&#8221; &#30913;&#30424;&#65292;&#27599;&#20010;&#34394;&#25311;&#30913;&#30424;&#26377;&#23427;&#30340;&#21517;&#23383;&#65292;&#24182;&#19988;&#21487;&#20197;&#20687;&#30913;&#30424;&#19968;&#26679;&#38543;&#26426;&#35775;&#38382;&#8212;&#8212;&#20320;&#24050;&#32463;&#29468;&#21040;&#20102;&#65292;&#34394;&#25311;&#30340;&#30913;&#30424;&#23601;&#26159; &#8220;&#25991;&#20214;&#8221;&#12290;&#23454;&#38469;&#19978;&#65292;&#25991;&#20214;&#20316;&#20026; &#8220;&#19968;&#27573;&#23383;&#33410;&#24207;&#21015;&#8221;&#65292;&#20855;&#26377;&#35835;/&#20889;&#20004;&#31181;&#25805;&#20316;&#65292;&#26159;&#19968;&#31181;&#38750;&#24120;&#36890;&#29992;&#30340;&#25277;&#35937;&#65292;&#20063;&#20419;&#25104;&#20102;&#20043;&#21518; UNIX &#31995;&#32479;&#30340; &#8220;Everything is a file&#8221; &#35774;&#35745;&#12290;&#22312; Linux &#20013;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;&#25991;&#20214;&#31995;&#32479; API &#35775;&#38382;&#35774;&#22791;&#12289;&#31995;&#32479;&#37197;&#32622;&#12289;&#36827;&#31243;&#29366;&#24577;&#20449;&#24687;&#31561;&#12290;</p>
</blockquote>
<h3 id="13-c" class=" text-lg mt-2 pb-2 font-sans">1.3 &#25805;&#20316;&#31995;&#32479;&#65306;&#19968;&#20010; C &#31243;&#24207;</h3>
<p class=" font-serif my-1">&#26368;&#21518;&#65292;&#25805;&#20316;&#31995;&#32479;&#33258;&#36523;&#20063;&#26159;&#19968;&#20010;&#31243;&#24207;&#8212;&#8212;&#21482;&#19981;&#36807;&#23427;&#36816;&#34892;&#22312;&#30828;&#20214;&#30340; &#8220;&#39640;&#29305;&#26435;&#32423;&#8221;&#65292;&#33021;&#22815;&#25191;&#34892;&#19968;&#33324;&#29992;&#25143;&#31243;&#24207;&#26080;&#27861;&#25191;&#34892;&#30340;&#25351;&#20196;&#12290;&#24635;&#20307;&#26469;&#35828;&#65292;&#25805;&#20316;&#31995;&#32479;&#26159;&#35745;&#31639;&#26426;&#30828;&#20214;&#21551;&#21160;&#21518;&#21363;&#22312;&#35745;&#31639;&#26426;&#19978;&#25191;&#34892;&#65292;&#30452;&#21040;&#23436;&#25104;&#31532;&#19968;&#20010;&#36827;&#31243;&#30340;&#21152;&#36733;&#20043;&#21518;&#65292;&#23601; &#8220;&#36864;&#21270;&#8221; &#20026;&#19968;&#20010; &#8220;&#20013;&#26029;&#22788;&#29702;&#31243;&#24207;&#8221;&#8212;&#8212;&#21482;&#22312;&#22806;&#37096;&#30828;&#20214;&#20013;&#26029; (&#26102;&#38047;&#12289;&#38190;&#30424;&#12289;&#32593;&#32476;&#31561;)&#12289;&#31243;&#24207;&#24322;&#24120; (trap/fault&#65292;&#20363;&#22914; syscall &#25351;&#20196;&#12289;page fault) &#26102;&#25165;&#20250;&#25191;&#34892;&#12290;&#25805;&#20316;&#31995;&#32479;&#20250;&#21253;&#21547;&#31995;&#32479;&#35843;&#29992;&#30340;&#22788;&#29702;&#20195;&#30721;&#65292;&#23454;&#29616;&#21018;&#25165;&#25152;&#35828;&#30340;&#19968;&#31995;&#21015; API&#12290;</p>
<p class=" font-serif my-1">&#31616;&#21333;&#22320;&#35828;&#65292;&#8220;&#25805;&#20316;&#31995;&#32479;&#23601;&#26159;&#20010; C &#31243;&#24207;&#8221;&#12290;&#27809;&#20160;&#20040;&#21487;&#24597;&#30340;&#65292;&#25105;&#20204;&#20250;&#22312;&#36825;&#19968;&#23398;&#26399;&#30340;&#35838;&#31243;&#20013;&#21521;&#22823;&#23478;&#35777;&#26126;&#36825;&#19968;&#28857;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_5" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25805;&#20316;&#31995;&#32479;&#65306;&#23454;&#29616;</h4>
<p class=" font-serif my-1">&#22312;&#30693;&#36947;&#25805;&#20316;&#31995;&#32479; API &#30340;&#23450;&#20041;&#21518;&#65292;&#21478;&#19968;&#20010;&#38382;&#39064;&#26159;&#25105;&#20204;&#24212;&#35813;&#22914;&#20309;&#29992;&#20195;&#30721;&#23454;&#29616;&#23427;&#20204;&#8212;&#8212;&#36866;&#24403;&#22320;&#20511;&#21161;&#30828;&#20214;&#25552;&#20379;&#30340;&#26426;&#21046;&#65292;&#39640;&#25928;&#12289;&#27491;&#30830;&#22320;&#23454;&#29616;&#36825;&#32452; API&#12290;&#36825;&#32477;&#38750;&#26131;&#20107;&#8212;&#8212;&#25805;&#20316;&#31995;&#32479;&#26159;&#19990;&#30028;&#19978;&#26368;&#26089;&#30340;&#24182;&#21457;&#31243;&#24207;&#20043;&#19968;&#65292;&#21482;&#35201;&#35753;&#22823;&#23478;&#20889;&#28857;&#24182;&#21457;&#31243;&#24207;&#65292;&#20320;&#20204;&#23601;&#30693;&#36947;&#21385;&#23475;&#20102;&#12290;</p>
<p class=" font-serif my-1">&#25805;&#20316;&#31995;&#32479;&#23454;&#29616;&#36824;&#26377;&#24456;&#22810;&#25361;&#25112;&#65292;&#25805;&#20316;&#31995;&#32479;&#30340;&#35774;&#35745;&#21644;&#23454;&#29616;&#26159;&#20114;&#30456;&#21046;&#32422;&#30340;&#65292;&#26377;&#26102;&#20320;&#33021;&#25552;&#20986;&#19968;&#20010;&#22909;&#30340;&#35774;&#35745;&#65292;&#21364;&#26080;&#27861;&#39640;&#25928;&#23454;&#29616;&#65292;&#23601;&#21482;&#33021;&#25918;&#24323;&#65307;&#30828;&#20214;&#25552;&#20379;&#30340;&#26032;&#26426;&#21046;&#21487;&#33021;&#23548;&#33268;&#26032;&#30340; API &#20986;&#29616;&#12290;&#25105;&#20204;&#23558;&#20250;&#22312;&#36825;&#38376;&#35838;&#20013;&#23613;&#21487;&#33021;&#22320;&#35753;&#22823;&#23478;&#39046;&#30053;&#35745;&#31639;&#26426;&#31995;&#32479;&#23454;&#29616;&#20013;&#21508;&#31181; &#8220;&#40657;&#31185;&#25216;&#8221; &#30340;&#39749;&#21147;&#12290;</p>
</blockquote>
<h2 id="2-api-" class=" text-xl mt-2 pb-2 font-sans">2. &#8220;&#31243;&#24207;-API-&#30828;&#20214;&#8221; &#30340;&#20849;&#21516;&#36827;&#21270;</h2>
<p class=" font-serif my-1">&#22312;&#24314;&#31435;&#20102;&#25805;&#20316;&#31995;&#32479; &#8220;&#31243;&#24207;-API-&#30828;&#20214;&#8221; &#30340;&#23439;&#35266;&#35266;&#24565;&#20197;&#21518;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#24490;&#24207;&#28176;&#36827;&#23637;&#24320; &#8220;&#20160;&#20040;&#26159;&#25805;&#20316;&#31995;&#32479;&#8221; &#30340;&#22238;&#31572;&#20102;&#12290;&#39318;&#20808;&#65292;&#22914;&#26524;&#35753;&#20320;&#35774;&#35745;&#19968;&#20010; &#8220;&#26368;&#23567;&#8221; &#30340;&#25805;&#20316;&#31995;&#32479;&#65292;&#20320;&#24471;&#26377;&#21738;&#20123;&#23545;&#35937;&#21644; API &#21602;&#65311;&#25805;&#20316;&#31995;&#32479;&#24819;&#35201;&#36890;&#29992;&#65292;&#20320;&#23601;&#24471;&#26377;&#19968;&#20123; &#8220;&#31243;&#24207;&#8221; (&#23545;&#35937;) &#24182;&#19988;&#21487;&#20197;&#36816;&#34892;&#23427;&#20204;&#12290;&#24403;&#28982;&#20320;&#36824;&#35201;&#32473;&#31243;&#24207;&#19968;&#20010; &#8220;&#36864;&#20986;&#8221; &#30340;&#26426;&#21046;&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;&#20320;&#20063;&#21487;&#20197;&#23454;&#29616;&#24471;&#31616;&#21333;&#19968;&#28857;&#65292;&#20801;&#35768;&#31243;&#24207;&#33021;&#35775;&#38382;&#30828;&#20214;&#30340;&#25152;&#26377;&#36164;&#28304; (&#20363;&#22914;&#35835;&#21462; I/O &#35774;&#22791;)&#12290;&#20110;&#26159;&#65292;&#25105;&#20204;&#21487;&#20197;&#24471;&#21040;&#19968;&#20010;&#21482;&#26377;&#19968;&#20010; API &#30340; &#8220;&#25805;&#20316;&#31995;&#32479;&#8221;&#12290;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">exec</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">program</span><span class="p">);</span>
</code></pre></div>

<p class=" font-serif my-1">&#36824;&#26377;&#36825;&#31181;&#25805;&#20316;&#31995;&#32479;&#65311;&#36824;&#30495;&#26377;&#12290;&#36825;&#26159; NES &#30340; XX-in-1 &#8220;&#28216;&#25103;&#21512;&#38598;&#8221;&#65306;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/2021/notes/img/64-in-1.png" width="320px"></p>
<p class=" font-serif my-1">&#25105;&#20204;&#30340;&#25805;&#20316;&#31995;&#32479;&#30340; ROM &#37324;&#30828;&#32534;&#30721;&#20102; &#8220;UI&#8221;&#12289;&#8220;01&#8221;&#12289;&#8220;02&#8221;&#12289;&#8230;&#8230;&#36825;&#20123;&#31243;&#24207; (&#25805;&#20316;&#31995;&#32479;&#20013;&#30340;&#23545;&#35937;)&#12290;UI &#31243;&#24207;&#20250;&#25552;&#20379;&#19968;&#20010;&#30028;&#38754;&#65292;&#30452;&#25509;&#36890;&#36807;&#35775;&#38382; I/O &#35774;&#22791;&#30340;&#26041;&#24335;&#20351;&#29992;&#25143;&#36873;&#25321;&#28216;&#25103; (&#23398;&#20064;&#36807;&#12298;&#35745;&#31639;&#26426;&#31995;&#32479;&#22522;&#30784;&#12299;&#30340;&#21516;&#23398;&#24212;&#35813;&#19981;&#20250;&#23545;&#23454;&#29616;&#36825;&#19968;&#20195;&#30721;&#24863;&#21040;&#22256;&#38590;)&#12290;&#24403;&#28982;&#25105;&#20204;&#30693;&#36947; NES &#28216;&#25103;&#27809;&#26377;&#36864;&#20986;&#26426;&#21046; (&#22797;&#20301;&#28216;&#25103;&#26426;&#22238;&#21040;&#20027;&#30028;&#38754;)&#65307;&#19981;&#36807;&#22914;&#26524;&#28216;&#25103;&#26377;&#36864;&#20986;&#26426;&#21046;&#30340;&#35805;&#65292;&#23427;&#20204;&#21487;&#20197;&#22312;&#36864;&#20986;&#30340;&#26102;&#20505;&#25191;&#34892; <code>exec("UI")</code> &#36820;&#22238;&#21040;&#33756;&#21333;&#30028;&#38754;&#12290;</p>
<p class=" font-serif my-1">&#25152;&#20197;&#65292;&#22914;&#26524;&#25105;&#20204;&#25226;&#35270;&#35282;&#22238;&#21040;&#25805;&#20316;&#31995;&#32479;&#35806;&#29983;&#21644;&#21457;&#23637;&#30340;&#26102;&#26399;&#65292;&#25105;&#20204;&#23601;&#19981;&#38590;&#29702;&#35299;&#20170;&#22825;&#25805;&#20316;&#31995;&#32479;&#20013;&#30340;&#21508;&#31181;&#35774;&#35745;&#21644;&#23454;&#29616;&#8212;&#8212;&#26356;&#24555;&#30340;&#22788;&#29702;&#22120;&#12289;&#26356;&#22823;&#30340;&#20869;&#23384;&#12289;&#26032;&#30340;&#30828;&#20214;&#26426;&#21046;&#37117;&#20250;&#24102;&#26469;&#25805;&#20316;&#31995;&#32479;&#35774;&#35745;&#30340;&#21464;&#38761;&#65292;&#20197;&#25903;&#25345;&#26032;&#30340;&#24212;&#29992;&#65292;&#20877;&#21453;&#36807;&#26469;&#23545;&#30828;&#20214;&#35774;&#35745;&#32773;&#25552;&#20986;&#26032;&#30340;&#35201;&#27714;&#8230;&#8230;</p>
<h3 id="21" class=" text-lg mt-2 pb-2 font-sans">2.1 &#25209;&#22788;&#29702;&#31995;&#32479;</h3>
<p class=" font-serif my-1">&#22914;&#26524;&#25226;&#26102;&#38388;&#22238;&#21040; 1950s&#65292;&#24403;&#25105;&#20204; &#8220;&#29992;&#8221; &#19968;&#21488;&#35745;&#31639;&#26426;&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#24635;&#26159;&#38656;&#35201;&#31649;&#29702;&#31995;&#32479;&#20013;&#36816;&#34892;&#30340;&#31243;&#24207;&#65292;&#32780;&#36825;&#20123;&#31243;&#24207;&#21448;&#38656;&#35201;&#35775;&#38382;&#35745;&#31639;&#26426;&#20013;&#30340;&#30828;&#20214;&#36164;&#28304;&#65306;&#30913;&#30424;&#12289;&#32456;&#31471; (&#23631;&#24149;&#21644;&#38190;&#30424;) &#31561;&#31561;&#12290;&#20026;&#20102;&#35299;&#20915;&#36825;&#20004;&#20010;&#38382;&#39064;&#65292;&#23588;&#20854;&#26159;&#22312;&#35745;&#31639;&#26426;&#30340;&#36164;&#28304;&#38750;&#24120;&#26377;&#38480; (&#21482;&#26377;&#24456;&#23569;&#30340;&#20869;&#23384;&#65292;&#22240;&#27492;&#26080;&#27861;&#23558;&#22810;&#20010;&#31243;&#24207;&#21516;&#26102;&#21152;&#36733;&#21040;&#20869;&#23384;&#20013;)&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25552;&#20986;&#19968;&#20010;&#35821;&#35328; <a href="https://en.wikipedia.org/wiki/Job_Control_Language" class=" text-amber-900">Job Control Language</a> (JCL) &#21435;&#25551;&#36848;&#31243;&#24207;&#24212;&#35813;&#24590;&#26679;&#34987;&#25191;&#34892;&#12290;</li>
<li class=" ml-8">&#25226;&#35745;&#31639;&#26426;&#31995;&#32479;&#20013;&#30340;&#20849;&#20139;&#36164;&#28304;&#25277;&#35937;&#25104;&#23545;&#35937; (&#20363;&#22914;&#30913;&#30424;&#25277;&#35937;&#25104;&#25991;&#20214;/&#30446;&#24405;&#30340;&#38598;&#21512;)&#65292;&#25552;&#20379;&#24211;&#20989;&#25968;&#32473;&#24212;&#29992;&#31243;&#24207;&#35843;&#29992;&#12290;</li>
</ul>
<p class=" font-serif my-1">&#36825;&#23601;&#26159; &#8220;&#25805;&#20316;&#31995;&#32479;&#8221; &#36825;&#20010;&#21517;&#23383;&#35806;&#29983;&#30340;&#26102;&#26399;&#65306;&#25805;&#20316; (operate) &#20219;&#21153; (jobs) &#30340;&#31995;&#32479; (system)&#12290;DOS (Disk Operating System) &#23601;&#26159;&#22312;&#30913;&#30424;&#20986;&#29616;&#21518;&#30456;&#24212;&#30340;&#25209;&#22788;&#29702;&#31995;&#32479;&#65292;&#20363;&#22914; DOS/360 (1964&#24180;)&#12290;&#25105;&#20204;&#25152;&#29087;&#30693;&#30340; MS-DOS (&#20185;&#21073;&#22855;&#20384;&#20256;&#36816;&#34892;&#30340;&#24179;&#21488;) &#21017;&#26159;&#24494;&#36719;&#24456;&#20037;&#20197;&#21518;&#30340;&#20135;&#21697;&#20102;&#8212;&#8212;&#23427;&#21487;&#20197;&#30475;&#20316;&#26159;&#19968;&#20010;&#21629;&#20196;&#34892;&#33050;&#26412;&#35299;&#37322;&#22120;&#65292;&#21152;&#19978;&#19968;&#32452;<a href="https://en.wikipedia.org/wiki/MS-DOS_API" class=" text-amber-900">&#22522;&#20110;&#20013;&#26029;&#30340;&#25805;&#20316;&#31995;&#32479; API</a>&#65292;&#31216;&#20026; MS-DOS API&#12290;</p>
<p class=" font-serif my-1">&#34429;&#28982;&#30475;&#36215;&#26469;&#24456;&#31616;&#38475;&#8212;&#8212;&#29978;&#33267;&#26080;&#27861; &#8220;&#21516;&#26102;&#8221; &#25171;&#24320;&#22810;&#20010;&#31243;&#24207; (BASIC &#35821;&#21477;&#30001; IDE &#30452;&#25509;&#35299;&#37322;&#25191;&#34892;)&#65292;&#20294; MS-DOS API &#28085;&#30422;&#20102;&#36755;&#20837;&#36755;&#20986;&#35774;&#22791;&#25511;&#21046; (&#38190;&#30424;&#12289;&#23631;&#24149;&#31561;)&#12289;&#25991;&#20214;&#31649;&#29702;&#12289;&#31243;&#24207;&#25191;&#34892;&#12289;&#20869;&#23384;&#20998;&#37197;&#31561;&#65292;&#20174;&#26377;&#36259;&#30340;&#28216;&#25103;&#21040;&#32534;&#36753;&#31243;&#24207;&#37117;&#26159;&#27809;&#38382;&#39064;&#30340;&#12290;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/2021/notes/img/quickbasic.jpg" width="400px"></p>
<p class=" font-serif my-1"></p><center>Quick BASIC IDE (&#38750;&#24120;&#36866;&#21512;&#21021;&#23398;&#32773;&#30340;&#35821;&#35328;&#65292;&#31616;&#21333;&#20960;&#26465;&#35821;&#21477;&#23601;&#21487;&#20197;&#32472;&#21046;&#22270;&#24418;)</center>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/2021/notes/img/ra95.jpg" width="400px"></p>
<p class=" font-serif my-1"></p><center>Red Alert 95 (320 x 200 x 256 &#24425;&#33394;&#65292;&#38750;&#24120;&#24778;&#33395;&#30340;&#34920;&#29616;&#21147;)</center>
<h3 id="22" class=" text-lg mt-2 pb-2 font-sans">2.2 &#26356;&#24555;&#30340;&#22788;&#29702;&#22120;&#12289;&#26356;&#22823;&#30340;&#20869;&#23384;&#24102;&#26469;&#20102;&#20160;&#20040;&#65311;</h3>
<p class=" font-serif my-1">&#24403;&#25105;&#20204;&#30340;&#20869;&#23384;&#22810;&#21040;&#21487;&#20197;&#21516;&#26102;&#23481;&#32435;&#22810;&#20010;&#31243;&#24207;&#30340;&#26102;&#20505;&#65292;&#35753;&#22810;&#20010;&#31243;&#24207;&#21516;&#26102;&#39547;&#30041;&#20869;&#23384;&#20849;&#20139;&#22788;&#29702;&#22120;&#23601;&#25104;&#20026;&#24456;&#33258;&#28982;&#30340;&#38656;&#27714;&#65292;&#20363;&#22914;&#26377;&#20004;&#20010;&#31243;&#24207;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">A</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &#31243;&#24207; A</span>
<span class="w">  </span><span class="n">compute_A</span><span class="p">();</span><span class="w">       </span><span class="c1">// 10ms</span>
<span class="w">  </span><span class="n">write_to_disk</span><span class="p">();</span><span class="w">   </span><span class="c1">// 10s</span>
<span class="p">}</span>
</code></pre></div>

<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">B</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &#31243;&#24207; B</span>
<span class="w">  </span><span class="n">compute_B</span><span class="p">();</span><span class="w">       </span><span class="c1">// 10ms</span>
<span class="w">  </span><span class="n">send_to_printer</span><span class="p">();</span><span class="w"> </span><span class="c1">// 60s</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#22312; DOS &#36825;&#26679;&#30340;&#21333;&#20219;&#21153;&#31995;&#32479;&#19978;&#65292;&#25105;&#20204;&#21482;&#33021;&#25353;&#29031; A &#8594; B &#25110;&#32773; B &#8594; A &#30340;&#39034;&#24207;&#25191;&#34892;&#12290;&#20294;&#23454;&#38469;&#19978;&#65292;&#25105;&#20204;&#30340;&#31243;&#24207;&#21482;&#20250;&#20351;&#29992; 20ms &#30340; CPU &#26102;&#38388;&#65292;&#20854;&#20313;&#30340;&#26102;&#38388; I/O &#35774;&#22791;&#22312;&#24037;&#20316;&#65292;&#20294;&#25972;&#20010;&#35745;&#31639;&#26426;&#37117;&#26159;&#38386;&#32622;&#30340;&#65281;&#22914;&#26524; B &#20808;&#25191;&#34892;&#65292;&#37027; A &#23601;&#35201;&#31561;&#19968;&#20998;&#22810;&#38047;&#25165;&#33021;&#24320;&#22987;&#25191;&#34892;&#65292;&#30495;&#26159;&#20010;&#24040;&#22823;&#30340;&#28010;&#36153;&#12290;</p>
<p class=" font-serif my-1">&#22914;&#26524;&#25105;&#20204;&#33021;&#25226;&#20004;&#20010;&#31243;&#24207;&#37117;&#36733;&#20837;&#20869;&#23384;&#65292;&#24182;&#19988;&#33021;&#22312;&#31243;&#24207;&#20043;&#21069; &#8220;&#20999;&#25442;&#8221;&#65292;&#23601;&#33021;&#20351; CPU &#21644; I/O &#35774;&#22791;&#24182;&#34892;&#24037;&#20316;&#65292;&#31243;&#24207;&#30340;&#25191;&#34892;&#25928;&#29575;&#19981;&#23601;&#39640;&#24471;&#22810;&#20102;&#21527;&#65311;&#26356;&#36827;&#19968;&#27493;&#65292;&#22914;&#26524;&#22312;&#31243;&#24207;&#20043;&#21069; &#8220;&#20999;&#25442;&#8221; &#30340;&#20195;&#20215;&#36275;&#22815;&#23567;&#65292;&#22914;&#26524;&#25105;&#20204;&#33021;&#27599;&#38548;&#19968;&#27573;&#26102;&#38388; (&#22914; 10ms) &#23601;&#20999;&#25442;&#19968;&#27425;&#65292;&#37027;&#36733;&#20837;&#20869;&#23384;&#30340;&#22810;&#20010;&#31243;&#24207;&#22312;&#19968;&#27573;&#26102;&#38388;&#37324;&#30475;&#36215;&#26469;&#19981;&#23601; &#8220;&#21516;&#26102;&#8221; &#36816;&#34892;&#20102;&#21527;&#65311;</p>
<p class=" font-serif my-1">&#19968;&#28857;&#37117;&#19981;&#38169;&#8212;&#8212;&#36825;&#23601;&#26159;&#29616;&#20195;&#25805;&#20316;&#31995;&#32479;&#30340;&#22522;&#26412;&#21407;&#29702;&#65306;&#25805;&#20316;&#31995;&#32479;&#20195;&#30721;&#20250;&#22312;&#20013;&#26029;/&#24322;&#24120; (&#31995;&#32479;&#35843;&#29992;) &#26102;&#36827;&#34892;&#36827;&#31243;&#30340;&#20999;&#25442;&#65292;&#20174;&#32780;&#21363;&#20415;&#21482;&#26377;&#19968;&#20010;&#22788;&#29702;&#22120;&#65292;&#21482;&#35201;&#31243;&#24207; (&#29978;&#33267;&#21482;&#38656;&#35201;&#37096;&#20998;) &#36733;&#20837;&#20869;&#23384;&#65292;&#20063;&#21487;&#20197;&#36896;&#25104;&#24456;&#22810;&#31243;&#24207;&#21516;&#26102;&#36816;&#34892;&#30340; &#8220;&#20551;&#35937;&#8221;&#12290;&#22312;&#36825;&#37324;&#65292;&#25105;&#20204;&#30475;&#21040; &#8220;&#24212;&#29992;&#31243;&#24207;-&#25805;&#20316;&#31995;&#32479;API-&#35745;&#31639;&#26426;&#30828;&#20214;&#8221; &#20043;&#38388;&#20849;&#21516;&#30340;&#21457;&#23637;&#36807;&#31243;&#20013;&#65292;&#25805;&#20316;&#31995;&#32479;&#20511;&#21161;&#20102;&#20247;&#22810;&#22788;&#29702;&#22120;&#25552;&#20379;&#30340;&#26426;&#21046;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20013;&#26029;&#26426;&#21046;&#65292;&#22312;&#26102;&#38047;&#20013;&#26029;&#21040;&#26469;&#26102;&#36827;&#31243;&#20999;&#25442;&#23454;&#29616;&#22788;&#29702;&#22120;&#30340;&#20998;&#26102;&#20849;&#20139;&#12290;</li>
<li class=" ml-8">&#34394;&#25311;&#23384;&#20648;&#65292;&#20351;&#31243;&#24207;&#22312;&#36816;&#34892;&#26102;&#21482;&#33021;&#35775;&#38382;&#34394;&#25311;&#22320;&#22336;&#31354;&#38388;&#20013;&#30340;&#25968;&#25454;&#65292;&#36896;&#25104;&#33258;&#24049;&#29420;&#21344;&#35745;&#31639;&#26426;&#31995;&#32479;&#36816;&#34892;&#30340;&#8220;&#20551;&#20687;&#8221; (&#34394;&#25311;&#21270;)&#12290;</li>
<li class=" ml-8">&#20445;&#25252;&#26426;&#21046;&#65292;&#20351;&#31243;&#24207;&#22312;&#36816;&#34892;&#26102;&#19981;&#33021;&#20219;&#24847;&#35775;&#38382;&#31995;&#32479;&#36164;&#28304; (&#20363;&#22914;I/O&#35774;&#22791;)&#65292;&#36234;&#26435;&#35775;&#38382;&#24341;&#21457;&#24322;&#24120;&#65292;&#20174;&#32780;&#31995;&#32479;&#20013;&#26377;&#32570;&#38519;&#30340;&#36827;&#31243;&#19981;&#20250;&#20351;&#25972;&#20010;&#31995;&#32479;&#23849;&#28291;&#8212;&#8212;&#19968;&#20010;&#20363;&#23376;&#26159;&#27515;&#24490;&#29615;&#12290;&#22914;&#26524;&#22312;&#20851;&#38381;&#20013;&#26029;&#30340;&#24773;&#20917;&#19979;&#27515;&#24490;&#29615;&#65292;&#25972;&#20010;&#31995;&#32479;&#23558;&#34987;&#21345;&#27515;&#65292;&#20294;&#22240;&#20026;&#24212;&#29992;&#31243;&#24207;&#26080;&#26435;&#31649;&#29702;&#20013;&#26029;&#65292;&#25152;&#20197;&#25805;&#20316;&#31995;&#32479;&#24635;&#33021;&#22312;&#20013;&#26029;&#21040;&#26469;&#26102;&#34987;&#8220;&#24378;&#21046;&#8221;&#36816;&#34892;&#65292;&#35843;&#24230;&#20854;&#20182;&#31243;&#24207;&#25191;&#34892;&#12290;</li>
</ul>
<p class=" font-serif my-1">&#22312;&#27492;&#22522;&#30784;&#19978;&#65292;UNIX &#23436;&#25104;&#20102;&#19968;&#20123;&#38750;&#24120;&#32463;&#20856;&#30340;&#35774;&#35745;&#65292;&#21253;&#25324; UNIX &#25991;&#20214;&#31995;&#32479;&#12289;&#20449;&#21495;&#21644;&#31649;&#36947;&#8230;&#8230;&#25104;&#20026;&#20102;&#24403;&#20170;&#25805;&#20316;&#31995;&#32479;&#23478;&#26063;&#26641;&#20013;&#26368;&#37325;&#35201;&#30340;&#31062;&#20808;&#65292;&#20063;&#26159; POSIX (Portable Operating System Interface of UNIX) &#30340;&#22522;&#30784;&#12290;&#26377;&#20852;&#36259;&#30340;&#21516;&#23398;&#19981;&#22952;&#23581;&#35797;&#19968;&#19979;<a href="https://pdos.csail.mit.edu/6.828/2020/xv6.html" class=" text-amber-900">&#25945;&#23398;&#25805;&#20316;&#31995;&#32479; xv6</a>&#65292;&#23427;&#19968;&#20849;&#26377; 21 &#20010;&#31995;&#32479;&#35843;&#29992;&#65292;&#23601;&#21487;&#20197;&#21551;&#21160;&#23436;&#25972;&#30340; Shell (<code>user.h</code>)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="c1">// &#36827;&#31243;&#31649;&#29702;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">fork</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">getpid</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">exec</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">exit</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="k">noreturn</span><span class="p">));</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">wait</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">);</span>

<span class="c1">// &#20869;&#23384;&#31649;&#29702;</span>
<span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">sbrk</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>

<span class="c1">// &#25991;&#20214; (&#21644;&#35774;&#22791;) &#31649;&#29702;&#65306;Everything is a file</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">close</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">mknod</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">short</span><span class="p">,</span><span class="w"> </span><span class="kt">short</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">unlink</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">fstat</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">stat</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">link</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">mkdir</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">chdir</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">dup</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>

<span class="c1">// &#36827;&#31243;&#38388;&#36890;&#20449;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">pipe</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">kill</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>

<span class="c1">// &#26102;&#38388;&#31649;&#29702;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">sleep</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">uptime</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre></div>

<p class=" font-serif my-1">&#22914;&#26524;&#22823;&#23478;&#23545;&#21018;&#25165; man syscalls &#30340;&#32467;&#26524;&#36824;&#26377;&#21360;&#35937;&#65292;&#20320;&#20250;&#22312; Linux &#30340;&#31995;&#32479;&#35843;&#29992;&#20013;&#25214;&#21040;&#23427;&#20204;&#30340;&#20840;&#37096;&#65281;Linux &#20170;&#22825;&#30340;&#31995;&#32479;&#35843;&#29992;&#25903;&#25745;&#20102;&#20010;&#20154;&#30005;&#33041;&#12289;&#26234;&#33021;&#25163;&#26426;&#12289;&#38598;&#32676;&#26381;&#21153;&#22120;&#19978;&#30340; &#8220;&#20219;&#20309;&#8221; &#24212;&#29992;&#31243;&#24207;&#12290;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/2021/notes/img/plasma-dark.webp" width="640px"></p>
<p class=" font-serif my-1"></p><center>&#36816;&#34892;&#22312; Linux Kernel &#19978;&#30340; KDE Plasma Desktop</center>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_6" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25805;&#20316;&#31995;&#32479;&#65306;&#35774;&#35745;&#19982;&#23454;&#29616;</h4>
<p class=" font-serif my-1">&#24403;&#28982;&#20102;&#65292;&#20170;&#22825;&#30340;&#24212;&#29992;&#31243;&#24207;&#21487;&#19981;&#26159; 21 &#20010; API &#23601;&#33021;&#28385;&#36275;&#30340;&#20102;&#30340;&#12290;&#20320;&#33021;&#20030;&#20986;&#19968;&#20123;&#26356;&#22797;&#26434;&#30340;&#20363;&#23376;&#65292;&#23427;&#20204;&#26159;&#21542;&#38656;&#35201; &#8220;&#29305;&#21035;&#8221; &#30340; API&#65311;&#36825;&#20123; API &#24212;&#35813;&#22914;&#20309;&#23454;&#29616;&#65311;&#20320;&#21487;&#20197;&#24819;&#21040;&#30340;&#20363;&#23376;&#26377;&#65306;&#27983;&#35272;&#22120;&#12289;&#25171;&#21360;&#36827;&#31243;&#26641;&#12289;&#35843;&#35797;&#22120;&#12289;&#36861;&#36394;&#22120; (trace)&#12289;&#34394;&#25311;&#26426;&#12289;&#25968;&#25454;&#24211;&#12289;&#26432;&#27602;&#36719;&#20214;&#8230;&#8230;</p>
<p class=" font-serif my-1">&#25105;&#20204;&#23558;&#22312;&#36825;&#20010;&#23398;&#26399;&#37324;&#35762;&#35299;&#29616;&#20195;&#25805;&#20316;&#31995;&#32479;&#30340;&#35774;&#35745;&#19982;&#23454;&#29616;&#12290;</p>
</blockquote></div>
</div>

<div class="container text-xs py-3">
  <span class="text-muted">
    <center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../static/img/cc-4.0.png"></a>
    &#160;&#160;&#160;<a style="color:inherit" href="https://beian.miit.gov.cn/">&#33487; ICP &#22791; 2020049101 &#21495;</a>
    </center>
  </span>
</div>

</div>

<script src="../../../static/js/jquery.min.js"></script>

<script>
function get_token() {
  var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
  if (match) return match[2];
  else return "";
}
var token = get_token();
var hint = "token", box = $("#token-input");

if (token == "") { }
else { box.val(token); }

function login() {
  var token = box.val()
  if (!token) {
    document.cookie = ''
  } else {
    document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;'
  }
}
</script>


</body>

</html>