<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<style>
.article {
  -webkit-hyphens: auto;
}
form {
  margin-block-end: 0;
}
img {
  display: inline-block;
}
code { font-size: 85%; }
pre {
  font-size: 95%;
  line-height: 120%;
}
blockquote {
  font-size: 95%;
}
p {
  font-size: 105%;
  text-indent: 2em;
}
li {
  font-size: 105%;
}
blockquote p {
  text-indent: 0em;
}
.float-right {
  padding-left: 10px;
}
.float-left {
  padding-right: 10px;
}
a {
  color: rgb(29 78 216);
}
strong {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.box        {
  border-radius: 2px; padding: 1px 4px 2px 4px;
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
  font-size: 95%;
}
.box-blue,  .badge-primary  { background-color: rgba(66, 139, 202, 0.5); color: #1d4ed8; }
.box-green, .badge-success  { background-color: rgba(92, 184, 92, 0.5);  color: #15803d; }
.box-red,   .badge-danger   { background-color: rgba(217, 83, 79, 0.5);  color: #b91c1c; }
.box-yellow,.badge-warning  { background-color: rgba(240, 173, 78, 0.5); color: #a16207; }
.box-gray   { background-color: #a0a0a0; }

.badge {
  padding: 1 4 1 4;
  display: inline-block;
  border-radius: 0.25rem;
  border: 1px solid;
}
.message p {
  text-indent: 0em;
  margin-top: 1px;
}
.message h1, h2, h3, h4, h5 {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.message h2 {
  font-size: 120%;
  margin-top: 5px;
  margin-bottom: 2px;
}
.message li {
  list-style: disc;
  margin-left: 2em;
}
li > p {
  text-indent: 0em;
}
block-quote h4 {
  float: left;
  display: inline-block;
}
.center {
  display: block;
  margin: auto;
}
hr {
  margin-top: 20px;
  padding-bottom: 20px;
}

.fa-gradient {
	background: -webkit-gradient(linear, left top, left bottom, from(rgb(99, 27, 103)), to(#333));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

</style>


  <title>L0: &#30452;&#25509;&#36816;&#34892;&#22312;&#30828;&#20214;&#19978;&#30340;&#23567;&#28216;&#25103; (amgame)</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div>

<div class="px-2 py-1 w-full fixed z-50 bg-gradient-to-r from-black via-purple-700 via-purple-500 shadow-lg" style="-webkit-backdrop-filter: saturate(150%) blur(4px); backdrop-filter: saturate(150%) blur(4px)">
  <form>
    <a href="../../../index.html"><span class="text-lg px-2 text-white">Yanyan's Wiki</span></a>
    <a href="../../2023/index.html"><span class="text-sm px-2 text-white">&#25805;&#20316;&#31995;&#32479; (2023)</span></a>
    <input maxlength="9" id="token-input" class="float-right appearance-none border border-transparent px-2 py-1 w-20 bg-white text-gray-700 placeholder-gray-400 shadow-md rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono" type="text" placeholder="TOKEN" oninput="login();">
  </form>
</div>

<div class="article container mx-auto md:px-8 lg:px-8 xl:px-8 2xl:px-8 shadow-lg border pb-8 pt-10 max-w-screen-md text-justify divide-y-2 divide-white">
  <div><h1 id="l0-amgame" class=" text-2xl mt-2 font-sans">L0: &#30452;&#25509;&#36816;&#34892;&#22312;&#30828;&#20214;&#19978;&#30340;&#23567;&#28216;&#25103; (amgame)</h1>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_1" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9200; &#25130;&#27490;&#26085;&#26399;</h4>
<p class=" font-serif my-1"><strong>Soft Deadline: 2022 &#24180; 3 &#26376; 6 &#26085; 23:59:59&#12290;</strong></p>
<p class=" font-serif my-1">&#20320;&#38656;&#35201;&#39318;&#20808;&#38405;&#35835;<a href="Labs.html" class=" text-amber-900">&#23454;&#39564;&#39035;&#30693;</a>&#12290;</p>
<p class=" font-serif my-1">&#22312;&#21629;&#20196;&#34892;&#20013; <code>git pull origin L0</code> &#19979;&#36733;&#26694;&#26550;&#20195;&#30721;&#12290;</p>
<p class=" font-serif my-1">&#27880;&#24847;&#26412;&#23454;&#39564;&#38656;&#35201;&#25552;&#20132;&#23454;&#39564;&#25253;&#21578; (&#21442;&#32771;&#23454;&#39564;&#39035;&#30693;)&#65307;&#22312; Soft Deadline &#20043;&#21069; Accept/Partial Accept &#30340;&#21516;&#23398;&#21487;&#20197;&#34917;&#20132;&#23454;&#39564;&#25253;&#21578;&#65292;&#19981;&#24433;&#21709;&#22870;&#21169;&#25104;&#32489;&#12290;</p>
</blockquote>
<p class=" font-serif my-1"><oj-status course="OS2022" module="L0"><div class="divide-y divide-dashed">
    <div class="flex font-semibold">
      OS2022-L0 &#25552;&#20132;&#32467;&#26524;
    </div>
    
  </div>
</oj-status></p>
<h2 id="1" class=" text-xl mt-2 pb-2 font-sans">1. &#32972;&#26223;</h2>
<p class=" font-serif my-1">&#20320;&#24819;&#25317;&#26377;&#33258;&#24049;&#30340;&#25805;&#20316;&#31995;&#32479;&#21527;&#65311;&#20320;&#21448;&#24863;&#21040;&#30031;&#24807;&#21527;&#65311;&#26377;&#20256;&#35828;&#34920;&#31034;&#65292;&#20889;&#25805;&#20316;&#31995;&#32479;&#23601;&#26159; &#8220;&#36319;&#24213;&#23618;&#30828;&#20214;&#25171;&#20132;&#36947;&#8221;&#12290;&#22914;&#26524;&#21435;&#32593;&#19978;&#30475; Tutorial (&#21644;&#24456;&#22810;&#20070;&#31821;)&#65292;&#24320;&#31687;&#23601;&#26159;&#24213;&#23618;&#30828;&#20214;&#65306;&#20363;&#22914; x86 &#30340; GDT, IDT, TSS&#12289;&#31995;&#32479;&#21551;&#21160;&#30340;&#36807;&#31243;&#65292;&#21313;&#20998;&#20196;&#20154;&#23475;&#24597;&#12290;</p>
<p class=" font-serif my-1">&#20294;&#23454;&#38469;&#19978;&#65292;<strong>&#25805;&#20316;&#31995;&#32479;&#21644;&#30828;&#20214;&#20043;&#38388;&#30340;&#20851;&#31995;&#34987;&#22840;&#22823;&#20102;</strong>&#12290;&#30828;&#20214;&#30340;&#30830;&#25552;&#20379;&#20102;&#24517;&#35201;&#30340;&#26426;&#21046;&#20351;&#25105;&#20204;&#33021;&#23454;&#29616;&#35832;&#22914;&#36827;&#31243;/&#32447;&#31243;&#20999;&#25442;&#65292;&#20294;&#24182;&#19981;&#24847;&#21619;&#30528;&#38500;&#38750;&#25105;&#20204;&#30693;&#36947;&#26377;&#20851;&#30828;&#20214;&#25351;&#20196;&#30340;&#19968;&#20999;&#25165;&#33021;&#32534;&#20889;&#25805;&#20316;&#31995;&#32479;&#12290;&#21482;&#35201;&#33021;&#20570;&#20986;&#36866;&#24403;&#30340;&#25277;&#35937;&#65292;&#25105;&#20204;&#32534;&#31243;&#30340;&#38590;&#24230;&#23601;&#20250;&#22823;&#22823;&#38477;&#20302;&#12290;&#23454;&#38469;&#19978;&#65292;&#31867;&#20284;&#30340;&#25277;&#35937;&#23384;&#22312;&#20110;&#20219;&#20309;&#30495;&#23454;&#30340;&#25805;&#20316;&#31995;&#32479;&#20013;&#12290;</p>
<p class=" font-serif my-1">&#25105;&#20204;&#39318;&#20808;&#35201;&#26641;&#31435;&#27491;&#30830;&#30340;&#35266;&#24565;&#65306;&#25805;&#20316;&#31995;&#32479;<strong>&#22312; 99.99% &#30340;&#26102;&#20505;&#37117;&#26159;&#36981;&#24490; C &#35821;&#35328;&#24418;&#24335;&#35821;&#20041;&#30340;&#26222;&#36890;&#31243;&#24207;</strong>&#65292;&#21482;&#26159;&#20598;&#23572;&#20250;&#24178;&#19968;&#20123; &#8220;&#20986;&#26684;&#8221; &#30340;&#20107;&#24773;&#12290;&#25105;&#20204;&#24403;&#28982;&#20250;&#22312;&#36866;&#24403;&#30340;&#26102;&#20505;&#24341;&#20837;&#36825;&#20123;&#39578; (&#40657;) &#25805; (&#31185;) &#20316; (&#25216;)&#65292;&#20197;&#21450;&#23427;&#20204;&#26159;&#22914;&#20309;&#20511;&#21161;&#30828;&#20214;&#25351;&#20196;&#21644;&#26426;&#21046;&#23454;&#29616;&#30340;&#12290;&#20294;&#25105;&#20204;&#39318;&#20808;&#35201;&#20351;&#20320;&#30456;&#20449;&#65292;&#32463;&#36807;&#36866;&#24403;&#30340;&#37197;&#32622;&#65292;&#20320;&#23436;&#20840;&#21487;&#20197;&#29992;&#20320;&#29087;&#24713;&#30340;&#26041;&#24335;&#32534;&#20889;&#25805;&#20316;&#31995;&#32479;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Hello, OS World!</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">s</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">putch</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#32780;&#36825;&#27573;&#20195;&#30721;&#21487;&#20197;&#23436;&#32654;&#22320;&#20197;&#26368;&#39640;&#26435;&#38480;&#36816;&#34892;&#22312;&#35745;&#31639;&#26426;&#30828;&#20214;&#19978;&#65292;&#20110;&#26159;&#23427;&#23601;&#20855;&#22791;&#20102; &#8220;&#25805;&#20316;&#31995;&#32479;&#8221; &#30340;&#31532;&#19968;&#27493;&#65306;&#25317;&#26377;&#31995;&#32479;&#30340;&#32477;&#23545;&#25511;&#21046;&#26435;&#12290;&#21516;&#26679;&#65292;&#20320;&#24212;&#35813;&#19981;&#20250;&#24576;&#30097; <code>putch(ch)</code> &#30340;&#24418;&#24335;&#35821;&#20041;&#26159;&#22312;&#35843;&#35797;&#32456;&#31471;&#19978;&#25171;&#21360;&#19968;&#20010;&#23383;&#31526;&#65292;&#25152;&#20197;&#65292;&#23454;&#29616;&#25805;&#20316;&#31995;&#32479;&#20063;&#27809;&#26377;&#37027;&#20040;&#22256;&#38590;&#22043;&#65281;</p>
<h2 id="2" class=" text-xl mt-2 pb-2 font-sans">2. &#23454;&#39564;&#25551;&#36848;</h2>
<h3 id="21-abstractmachine" class=" text-lg mt-2 pb-2 font-sans">2.1. &#38405;&#35835; AbstractMachine &#25991;&#26723;</h3>
<p class=" font-serif my-1">&#24819;&#30693;&#36947;&#20026;&#20160;&#20040;&#33021;&#29992;&#20320;&#29087;&#24713;&#30340;&#26041;&#24335;&#32534;&#20889;&#25805;&#20316;&#31995;&#32479;&#65311;<a href="../../../AbstractMachine/index.html" class=" text-amber-900">&#38405;&#35835; AbstractMachine &#30340;&#25991;&#26723;</a>&#12290;&#24403;&#28982;&#65292;&#25991;&#26723;&#24456;&#22810;&#65292;&#20320;&#19981;&#24517;&#19968;&#27425;&#30475;&#23436;&#65292;&#24314;&#31435;&#20102;&#19968;&#20123;&#22522;&#26412;&#27010;&#24565;&#21518;&#65292;&#23601;&#21487;&#20197;&#35797;&#30528;&#20174;&#26679;&#20363;&#20195;&#30721;&#20986;&#21457;&#24320;&#22987;&#32534;&#31243;&#20102;&#12290;&#21478;&#19968;&#20010;&#22909;&#28040;&#24687;&#26159;&#25105;&#20204;&#30340;&#23454;&#39564;&#26694;&#26550;&#20013;&#30452;&#25509;&#21253;&#21547;&#20102; AbstractMachine &#30340;&#20195;&#30721;&#24182;&#22312; Makefile &#20013;&#23436;&#25104;&#20102;&#37197;&#32622; (RTFSC)&#65292;&#20174;&#32780;&#20320;&#26080;&#38656;&#39069;&#22806;&#37197;&#32622;/&#19979;&#36733;&#12290;</p>
<h3 id="21-abstractmachine-klib" class=" text-lg mt-2 pb-2 font-sans">2.1.&#23454;&#29616; AbstractMachine &#20013; klib &#20013;&#32570;&#22833;&#30340;&#20989;&#25968;</h3>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_2" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9888;&#65039; &#26412;&#39033;&#30446;&#20026;&#36873;&#20570;</h4>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#23545;&#32534;&#31243;&#24863;&#21040;&#24456;&#33510;&#24700;&#65292;&#19981;&#22952;&#21482;&#23454;&#29616;&#19968;&#20123;&#31616;&#21270;&#29256;&#26412;&#30340;&#24211;&#65292;&#26080;&#38656;&#20840;&#37096;&#23454;&#29616;&#65307;&#38543;&#30528;&#23454;&#39564;&#30340;&#36827;&#23637;&#21518;&#32493;&#34917;&#40784;&#12290;</p>
</blockquote>
<p class=" font-serif my-1">&#34429;&#28982;&#25105;&#20204;&#24050;&#32463;&#20026;&#22823;&#23478;&#25645;&#24314;&#22909;&#20102; C &#35821;&#35328;&#20195;&#30721;&#22312; bare-metal &#19978;&#25191;&#34892;&#30340;&#29615;&#22659;&#65292;&#20294;&#20320;&#19968;&#23450;&#19981;&#24819;&#21482;&#29992; <code>putch</code> &#25171;&#21360;&#21543;&#65281;&#36825;&#20250;&#20351;&#20320;&#36830;&#25171;&#21360;&#19968;&#20010;&#25972;&#25968;&#37117;&#40635;&#28902;&#21040;&#24576;&#30097;&#20154;&#29983;&#12290;&#23454;&#38469;&#19978;&#65292;AbstractMachine &#26694;&#26550;&#20195;&#30721;&#20013;&#21253;&#21547;&#19968;&#20010;&#22522;&#30784;&#36816;&#34892;&#24211;&#30340;&#26694;&#26550; klib&#65292;&#20854;&#20013;&#21253;&#21547;&#20102;&#26041;&#20415;&#20320;&#32534;&#20889; &#8220;bare-metal&#8221; &#31243;&#24207;&#30340;&#31995;&#21015;&#24211;&#20989;&#25968;&#65292;&#20363;&#22914; <code>assert</code>, <code>printf</code>, <code>memcpy</code> &#31561;&#12290;&#25105;&#20204;&#19981;&#24378;&#21046;&#20320;&#23454;&#29616;&#25152;&#26377; klib &#20989;&#25968;&#65292;&#20294;&#38543;&#30528;&#25805;&#20316;&#31995;&#32479;&#23454;&#39564;&#30340;&#36827;&#23637;&#65292;&#20320;&#20250;&#20307;&#20250;&#21040;&#19981;&#23454;&#29616;&#24211;&#20989;&#25968;&#30340;&#33510;&#22836;&#12290;</p>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#22312;&#12298;&#35745;&#31639;&#26426;&#31995;&#32479;&#22522;&#30784;&#12299;&#20013;&#24050;&#32463;&#23436;&#25104;&#20102;&#23454;&#29616;&#65292;&#20320;&#21487;&#20197;&#30452;&#25509;&#22797;&#21046;&#20320;&#30340;&#23454;&#29616; (&#20294;&#35201;&#23567;&#24515;&#65281;&#20320;&#30340;&#24211;&#23454;&#29616;&#21487;&#33021;&#26377; bug&#65292;&#25110;&#26159;&#19981;&#33021;&#22312;<strong>&#22810;&#22788;&#29702;&#22120;</strong>&#30340;&#24773;&#20917;&#19979;&#24037;&#20316;)&#12290;&#36825;&#37096;&#20998;&#20195;&#30721;&#38750;&#24120;&#37325;&#35201;&#8212;&#8212;&#20250;&#19968;&#30452;&#20351;&#29992;&#21040;&#36825;&#23398;&#26399;&#30340;&#26368;&#21518;&#65292;&#22240;&#27492;&#20063;&#35831;&#20320;&#38750;&#24120;&#23567;&#24515;&#22320;&#32534;&#20889;&#20195;&#30721;&#65292;&#20363;&#22914;&#32534;&#20889;&#30456;&#24403;&#22810;&#30340; assertions&#65307;klib &#20013;&#30340; bug &#20250;&#20351;&#21407;&#26412;&#23601;&#24050;&#24456;&#22256;&#38590;&#30340;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#35843;&#35797;&#26356;&#21152;&#20196;&#20154;&#27822;&#20007;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="assertions" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-green" style=" padding-bottom: 0;">&#10067; Assertions?</h4>
<p class=" font-serif my-1">&#24211;&#20989;&#25968;&#37324;&#36824;&#33021;&#32473;&#20160;&#20040; assertions&#65311;&#36825;&#37324;&#30340;&#23398;&#38382;&#21487;&#22823;&#20102;&#12290;&#23454;&#38469;&#19978;&#65292;C &#35821;&#35328;&#37324;&#30340;&#27599;&#19968;&#20010;&#21464;&#37327;&#37117;&#26377;&#23427;&#30340; &#8220;&#21547;&#20041;&#8221;&#65292;&#20363;&#22914;&#37117;&#26159;&#25351;&#38024;&#65292;&#29978;&#33267;&#26159; <code>void *</code> &#31867;&#22411;&#30340;&#25351;&#38024;&#65292;&#26377;&#20123;&#21487;&#33021;&#26159;&#25351;&#21521;&#23545;&#35937;&#30340;&#65292;&#26377;&#20123;&#21017;&#26159;&#25351;&#21521;&#20195;&#30721;&#30340;&#12290;&#22312; &#8220;&#19981;&#35813;&#21457;&#29983;&#8221; (&#20363;&#22914;&#19968;&#20010;&#26412;&#24212;&#35813;&#20026;&#27491;&#25968;&#30340;&#20540;&#32473;&#25104;&#20102;&#36127;&#25968;&#65292;&#25110;&#26159; <code>memcpy</code> &#22797;&#21046;&#20102;&#36229;&#36807; 16 MB &#30340;&#25968;&#25454;&#31561;) &#30340;&#20107;&#24773;&#19978;&#32473;&#20986;&#35686;&#21578;&#25110; assert &#38169;&#35823;&#65292;&#33021;&#26497;&#22823;&#22320;&#24110;&#21161;&#20320;&#23613;&#26089;&#21457;&#29616;&#38382;&#39064;&#12290;</p>
<p class=" font-serif my-1">&#24403;&#28982;&#65292;&#36825;&#20214;&#20107;&#26089;&#24050;&#34987;&#23398;&#26415;&#30028;&#27880;&#24847;&#21040;&#65292;&#20363;&#22914; <a href="https://arxiv.org/abs/2010.07763" class=" text-amber-900">refinement type</a> &#21644; <a href="http://plse.cs.washington.edu/daikon/" class=" text-amber-900">Daikon invariant detector</a>&#12290;&#34429;&#28982;&#20320;&#26410;&#24517;&#20250;&#29992;&#36825;&#20123;&#30740;&#31350;&#24037;&#20855;&#65292;&#20294;&#20854;&#20013;&#30340;&#24605;&#24819;&#20250;&#26497;&#22823;&#22320;&#24433;&#21709;&#20320;&#30340;&#32534;&#31243;&#26041;&#24335;&#12290;</p>
</blockquote>
<h3 id="22" class=" text-lg mt-2 pb-2 font-sans">2.2. &#23454;&#29616;&#21487;&#31227;&#26893;&#30340;&#12289;&#30452;&#25509;&#36816;&#34892;&#22312;&#35745;&#31639;&#26426;&#30828;&#20214;&#19978;&#30340;&#23567;&#28216;&#25103; (&#24517;&#20570;)</h3>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_3" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9888;&#65039; &#36825;&#26159;&#19968;&#20010;&#36865;&#20998;&#23454;&#39564;</h4>
<p class=" font-serif my-1">&#21482;&#35201;&#31243;&#24207;&#19981;&#23849;&#28291;&#65292;&#21738;&#24597;&#21482;&#26377;&#20960;&#20010;&#20687;&#32032;&#28857;&#22312;&#23631;&#24149;&#19978;&#20081;&#21160;&#20063;&#21487;&#20197; (&#23601;&#21487;&#20197;&#36890;&#36807; Online Judge)&#12290;&#20294;&#22823;&#23478;&#20063;&#21487;&#20197;&#26681;&#25454;&#33258;&#24049;&#30340;&#20852;&#36259;&#23454;&#29616;&#19968;&#20123;&#31616;&#21333;&#30340;&#28216;&#25103;&#12290;<red>&#35797;&#22270;&#20869;&#21367; (&#23454;&#29616;&#31934;&#32654;&#30340;&#28216;&#25103;) &#19981;&#20250;&#20351;&#20320;&#24471;&#21040;&#26356;&#22810;&#30340;&#20998;&#25968;</red>&#12290;</p>
</blockquote>
<p class=" font-serif my-1">&#20320;&#38656;&#35201;&#32534;&#20889;&#19968;&#20010;&#30452;&#25509;&#36816;&#34892;&#22312; AbstractMachine &#19978; (&#20165;&#20165;&#21551;&#29992; IOE &#25193;&#23637;&#65292;&#19981;&#20351;&#29992;&#20854;&#20182;&#30828;&#20214;&#26426;&#21046;&#22914;&#20013;&#26029;/&#24322;&#24120;/&#34394;&#25311;&#23384;&#20648;/&#22810;&#22788;&#29702;&#22120;) &#30340;&#23567;&#28216;&#25103;&#65307;&#28385;&#36275;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#26377;&#32905;&#30524;&#21487;&#36776;&#35748;&#30340;&#22270;&#24418;&#36755;&#20986;&#65307;</li>
<li class=" ml-8">&#33021;&#20351;&#29992;&#38190;&#30424;&#19982;&#28216;&#25103;&#20132;&#20114;&#65307;</li>
<li class=" ml-8">&#28216;&#25103;&#20351;&#29992;&#30340;&#20869;&#23384; (&#20195;&#30721;&#12289;&#38745;&#24577;&#25968;&#25454;&#24635;&#21644;&#19981;&#36229;&#36807; 1 MiB&#12289;&#22534;&#21306; <code>heap</code> &#20351;&#29992;&#19981;&#36229;&#36807; 1 MiB)&#65292;&#22240;&#27492;&#20320;&#19981;&#24517;&#32771;&#34385;&#22797;&#26434;&#30340;&#22270;&#24418;&#65307;</li>
<li class=" ml-8">&#25353; ESC &#38190;&#21518;&#35843;&#29992; <code>halt()</code> &#36864;&#20986;&#65307;&#38500;&#27492;&#20043;&#22806;&#28216;&#25103;&#31243;&#24207;&#27704;&#19981;&#35843;&#29992; <code>halt()</code> &#32467;&#26463;&#65292;Game Over &#21518;&#25353;&#38190;&#37325;&#26032;&#24320;&#22987;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#34429;&#28982;&#19981;&#38480;&#23454;&#29616;&#20160;&#20040;&#28216;&#25103; (&#31616;&#21333;&#21040;&#24377;&#29699;&#12289;&#36138;&#21507;&#34503;&#31561; 100 &#34892;&#20197;&#20869;&#25630;&#23450;&#30340;&#28216;&#25103;)&#65292;&#20294;&#20320;&#20381;&#28982;&#38656;&#35201;&#22312;&#21487;&#31227;&#26893;&#24615;/&#36890;&#29992;&#24615;&#19978;&#23545;&#20320;&#30340;&#20195;&#30721;&#20570;&#20986;&#19968;&#23450;&#30340;&#20445;&#35777;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20860;&#23481;&#24456;&#31616;&#21333;&#30340;&#22788;&#29702;&#22120;&#65306;&#21363;&#23567;&#28216;&#25103;&#36816;&#34892;&#20013;&#21482;&#35843;&#29992; TRM &#21644; IOE API&#65292;&#32780;&#19981;&#20351;&#29992;&#20854;&#20182; API&#65292;&#19988;&#8212;&#8212;&#36825;&#26679;&#22823;&#23478;&#30340;&#28216;&#25103;&#23601;&#21487;&#20197;&#22312;&#21508;&#20010; CPU &#19978;&#24191;&#20026;&#27969;&#20256;&#19979;&#21435;&#21862;&#65281;</li>
<li class=" ml-8">&#20320;&#30340;&#28216;&#25103;&#24212;&#24403;&#26159;&#21487;&#20197;&#22312;&#22810;&#20010;&#30828;&#20214;&#20307;&#31995;&#32467;&#26500;&#20043;&#38388;&#31227;&#26893;&#30340;&#65292;&#32771;&#34385;&#20860;&#23481;&#20197;&#19979;&#24773;&#20917;&#65306;<ul class=" list-disc font-serif">
<li class=" ml-8">&#36866;&#37197;&#19981;&#21516;&#30340;&#23631;&#24149;&#22823;&#23567;&#12290;&#19981;&#21516;&#30340;&#20307;&#31995;&#32467;&#26500;&#20013;&#65292;&#23631;&#24149;&#22823;&#23567;&#21487;&#33021;&#26159; $320\times 200$&#12289;$640 \times 480$&#12289;$800 \times 600$ &#31561;&#65292;&#20320;&#30340;&#28216;&#25103;&#26368;&#22909;&#33021;&#22312;&#25152;&#26377;&#20998;&#36776;&#29575;&#19979;&#37117;&#33719;&#24471;&#19981;&#38169;&#30340;&#20307;&#39564;&#65307;</li>
<li class=" ml-8">&#21516; minilabs &#19968;&#26679;&#65292;&#20320;&#30340;&#31243;&#24207;&#21487;&#33021;&#36816;&#34892;&#22312; 32/64-bit &#24179;&#21488;&#65292;&#22240;&#27492;&#20320;&#24212;&#24403;&#20351;&#29992; <code>intptr_t</code> &#25110; <code>uintptr_t</code> &#26469;&#20445;&#23384;&#25351;&#38024;&#25968;&#20540;&#65307;</li>
<li class=" ml-8">&#20860;&#23481;&#22823;/&#23567;&#31471;&#65292;&#22240;&#27492;&#31105;&#27490;&#25226;&#19981;&#21516;&#22823;&#23567;&#30340;&#25351;&#38024;&#31867;&#22411;&#24378;&#21046;&#36716;&#25442;&#65307;</li>
</ul>
</li>
</ul>
<p class=" font-serif my-1">&#25105;&#20204;&#20250;&#22312; x86_64-qemu (64-bit) &#21644; x86-qemu (32-bit) &#20004;&#20010;&#29615;&#22659;&#19979;&#36816;&#34892;&#20320;&#30340;&#28216;&#25103;&#65292;&#20320;&#30340;&#28216;&#25103;&#24517;&#39035;&#22312;&#20004;&#20010;&#29615;&#22659;&#19979;&#37117;&#33021;&#27491;&#30830;&#32534;&#35793;&#24182;&#36816;&#34892;&#33391;&#22909;&#12290;&#27492;&#22806;&#65292;AbstractMachine &#20551;&#35774; bare-metal &#19981;&#25903;&#25345;&#28014;&#28857;&#25968;&#25351;&#20196;&#12290;&#22312; x86_64 &#30340;&#32534;&#35793;&#36873;&#39033;&#20013;&#65292;&#25105;&#20204;&#28155;&#21152;&#20102; <code>-mno-sse</code>&#12290;&#23613;&#31649;&#26377;&#28014;&#28857;&#25968;&#30340;&#31243;&#24207;&#22312; <code>ARCH=native</code> &#19979;&#21487;&#20197;&#27491;&#30830;&#32534;&#35793;&#36816;&#34892;&#65292;&#20294;&#21487;&#33021;&#22312;&#20854;&#20182;&#26550;&#26500;&#19979;&#22833;&#25928;&#12290;&#36825;&#20040;&#20570;&#30340;&#30446;&#30340;&#26159;&#20351; AbstractMachine &#31243;&#24207;&#33021;&#36816;&#34892;&#22312;&#21508;&#31181; (&#31616;&#21270;) &#30340;&#22788;&#29702;&#22120;&#19978;&#65307;&#23588;&#20854;&#26159;&#21516;&#23398;&#20204;&#33258;&#24049;&#32534;&#20889;&#30340;&#22788;&#29702;&#22120;&#8212;&#8212;&#20063;&#35768;&#19979;&#20010;&#23398;&#26399;&#20320;&#23601;&#21487;&#20197;&#22312;&#33258;&#24049;&#30340; CPU &#19978;&#36816;&#34892;&#20320;&#33258;&#24049;&#30340;&#28216;&#25103;&#20102;&#65281;</p>
<p class=" font-serif my-1">&#22312;&#25105;&#20204;&#30340; <a href="https://github.com/NJU-ProjectN/am-kernels" class=" text-amber-900">am-kernels</a> &#39033;&#30446;&#20013;&#21253;&#21547;&#20102;&#19968;&#20123;&#36816;&#34892;&#22312; AbstractMachine &#19978;&#30340;&#20195;&#30721;&#65292;&#20363;&#22914; NES &#27169;&#25311;&#22120; LiteNES&#65292;&#27426;&#36814;&#22823;&#23478;&#21442;&#32771;&#8212;&#8212;LiteNES &#21482;&#20351;&#29992;&#20102; IOE &#30340; API&#65292;&#21644;&#36825;&#20010;&#23454;&#39564;&#20013;&#20320;&#20204;&#25152;&#38656;&#35201;&#23454;&#29616;&#30340;&#31867;&#20284;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_4" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#21487;&#36873;&#39033;&#65306;&#32771;&#34385;&#28216;&#25103;&#24615;&#33021;</h4>
<p class=" font-serif my-1">&#20320;&#30340;&#28216;&#25103;&#21487;&#33021;&#36816;&#34892;&#22312;&#39057;&#29575;&#20165;&#26377; 10MHz &#30340;&#33258;&#21046;&#22788;&#29702;&#22120;&#19978;&#12290;&#22240;&#27492;&#65292;&#22914;&#26524;&#20320;&#24076;&#26395;&#20320;&#30340;&#28216;&#25103;&#33021;&#22312;&#26410;&#26469;&#20320;&#33258;&#24049;&#20889;&#30340;&#22788;&#29702;&#22120;&#19978;&#27969;&#30021;&#36816;&#34892;&#65292;&#20943;&#23569;&#27599;&#19968;&#24103;&#30340;&#36816;&#31639;&#37327;&#21644;&#22270;&#24418;&#32472;&#21046;&#23601;&#26174;&#24471;&#27604;&#36739;&#37325;&#35201;&#20102;&#12290;&#20320;&#21487;&#20197;&#35745;&#31639;&#20986;&#19968;&#20010;&#26102;&#38047;&#21608;&#26399;&#22823;&#33268;&#20801;&#35768;&#36816;&#34892;&#30340;&#20195;&#30721;&#37327; (&#20551;&#35774;&#32472;&#21046;&#19968;&#20010;&#20687;&#32032;&#20063;&#38656;&#35201;&#33509;&#24178;&#26465;&#25351;&#20196;)&#65292;&#30456;&#24212;&#35774;&#35745;&#28216;&#25103;&#30340;&#36923;&#36753;&#12290;</p>
<p class=" font-serif my-1">&#25105;&#20204;&#35748;&#20026;&#20248;&#31168;&#30340;&#28216;&#25103;&#20250;&#34987;&#25910;&#24405;&#21040;&#28216;&#25103;&#27744;&#20013;&#65292;&#27704;&#20037;&#20445;&#23384;&#19979;&#26469;&#65281;</p>
</blockquote>
<h2 id="3" class=" text-xl mt-2 pb-2 font-sans">3. &#27491;&#30830;&#24615;&#26631;&#20934;</h2>
<p class=" font-serif my-1">&#26412;&#23454;&#39564;&#23545;&#28216;&#25103;&#19981;&#20570;&#20219;&#20309;&#35201;&#27714;&#65306;&#20320;&#21482;&#38656;&#35201;&#21709;&#24212;&#38190;&#30424;&#36755;&#20837;&#12289;&#36755;&#20986;&#21464;&#21270;&#30340;&#22270;&#24418;&#21363;&#21487;&#12290;&#20294; Online Judge &#20250;&#20005;&#26684;&#25353;&#29031;&#19978;&#38754;&#30340;&#35201;&#27714;&#26469;&#35780;&#27979;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#36890;&#36807; qemu &#30340; <code>-m</code> &#36873;&#39033;&#38480;&#21046;&#20869;&#23384;&#30340;&#22823;&#23567;&#65307;&#20351;&#29992;&#36229;&#36807;&#35268;&#23450;&#30340;&#20869;&#23384;&#21487;&#33021;&#23548;&#33268;&#31243;&#24207; crash&#65307;</li>
<li class=" ml-8">&#22312;&#19981;&#21516;&#30340;&#29615;&#22659;&#19979; (x86-qemu &#25110; x86_64-qemu, native) &#36816;&#34892;&#20320;&#30340;&#31243;&#24207;&#65292;&#24182;&#19988;&#21487;&#33021;&#20462;&#25913;&#23631;&#24149;&#30340;&#20998;&#36776;&#29575;&#65307;</li>
<li class=" ml-8">&#38543;&#26426;&#21457;&#36865;&#19968;&#23450;&#30340;&#38190;&#30424;&#20107;&#20214;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#20294; Online Judge &#19981;&#35797;&#22270;&#29702;&#35299;&#28216;&#25103;&#30340;&#36923;&#36753;&#65292;&#21482;&#20570;&#22522;&#26412;&#30340;&#27491;&#30830;&#24615;&#26816;&#26597;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#38500;&#38750;&#25353; ESC &#38190;&#65292;&#25105;&#20204;&#20551;&#35774;&#28216;&#25103;&#31243;&#24207;&#19981;&#32467;&#26463;&#65307;&#22914;&#26524;&#26816;&#27979;&#21040; <code>halt()</code> &#30340;&#35843;&#29992; (&#21253;&#25324; assert &#22833;&#36133;&#65292;&#25105;&#20204;&#21487;&#33021;&#20250;&#22686;&#21152;&#19968;&#20123;&#39069;&#22806;&#30340;&#21512;&#27861;&#24615;&#26816;&#26597;)&#65292;&#23558;&#21028;&#23450;&#20026;&#38169; (Runtime Error &#25110; Wrong Answer)&#65307;</li>
<li class=" ml-8">&#22914;&#26524;&#25353; ESC &#38190;&#21518;&#28216;&#25103;&#19981; <code>halt()</code>&#65292;&#23558;&#21028;&#23450;&#20026;&#38169;&#65307;</li>
<li class=" ml-8">&#22914;&#26524;&#34394;&#25311;&#26426;&#25110;&#36827;&#31243;&#21457;&#29983;&#23849;&#28291;&#12289;&#38750;&#39044;&#26399;&#30340;&#37325;&#21551;&#31561; (&#30001; undefined behavior &#23548;&#33268;&#65292;&#20363;&#22914;&#35775;&#38382;&#26576;&#38750;&#27861;&#20869;&#23384;&#21487;&#33021;&#23548;&#33268;&#24322;&#24120;&#25110; CPU Reset)&#65292;&#21017;&#34987;&#21028;&#23450;&#20026;&#38169;&#65307;</li>
<li class=" ml-8">&#20854;&#20182;&#36829;&#21453; specifications &#30340;&#38382;&#39064;&#65292;&#22914;&#22312; <code>ioe_init()</code> &#20043;&#21069;&#35843;&#29992; <code>io_read</code>/<code>io_write</code>&#65292;&#23558;&#34987;&#21028;&#23450;&#20026;&#38169;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#27492;&#22806;&#65292;&#25105;&#20204;&#20250;&#38142;&#25509;&#25105;&#20204; klib &#30340;&#21442;&#32771;&#23454;&#29616;&#65292;&#22240;&#27492;&#20320;&#19981;&#24517;&#25285;&#24515;&#20320;&#30340; klib &#26377;&#20123;&#35768;&#38382;&#39064;&#65307;&#20294;&#20320;&#35201;&#20445;&#25345; klib &#24211;&#20989;&#25968;&#30340;&#34892;&#20026;&#19982; libc &#19968;&#33268;&#12290;&#27880;&#24847; native &#20250;&#38142;&#25509;&#31995;&#32479;&#26412;&#22320;&#30340; glibc (&#32780;&#38750; klib)&#12290;</p>
<h2 id="4" class=" text-xl mt-2 pb-2 font-sans">4. &#23454;&#39564;&#25351;&#21335;</h2>
<h3 id="41" class=" text-lg mt-2 pb-2 font-sans">4.1. &#23454;&#29616;&#24211;&#20989;&#25968;</h3>
<p class=" font-serif my-1">&#23454;&#29616;&#24211;&#20989;&#25968;&#26159;&#26222;&#36890;&#30340; C &#35821;&#35328;&#32451;&#20064;&#39064;&#65307;&#20114;&#32852;&#32593;&#19978;&#20063;&#26377;&#24456;&#22810;&#20195;&#30721;&#21487;&#20197;&#21442;&#32771;&#65292;&#20294;&#19981;&#35201;&#29031;&#25220;&#21734;&#65281;&#20540;&#24471;&#27880;&#24847;&#30340;&#26159;&#65292;&#32534;&#20889;&#21487;&#31227;&#26893;&#20195;&#30721;&#26102;&#65292;&#23613;&#37327;&#20351;&#29992; C &#26631;&#20934;&#25552;&#20379;&#30340;&#26426;&#21046;&#65292;&#32780;&#19981;&#26159;&#20570;&#19968;&#20123;&#23545;&#30828;&#20214;&#30340;&#20551;&#35774;&#65292;&#20363;&#22914;&#22312; i386 &#24179;&#21488;&#19978;&#30340; printf &#26377;&#20197;&#19979; &#8220;&#39640;&#26126;&#8221; (&#20854;&#23454;&#24182;&#19981;&#39640;&#26126;) &#30340;&#23454;&#29616;&#26041;&#27861; (&#35831;&#20320;&#33457;&#26102;&#38388;&#29702;&#35299;&#19968;&#19979;)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">printf</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">fmt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="c1">//          (int *)(&amp;fmt + 1) also works; why?</span>
<span class="w">  </span><span class="c1">// args[0], args[1], ... &#20998;&#21035;&#26159;&#31532; 1, 2, ... &#20010;&#21487;&#21464;&#21442;&#25968;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#19978;&#36848;&#20195;&#30721;&#20854;&#23454;&#20570;&#20102;&#19968;&#20123; i386 &#29305;&#23450;&#30340;&#20551;&#35774;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#25152;&#26377;&#21442;&#25968;&#26500;&#25104;&#19968;&#20010; (&#22534;&#26632;&#19978;&#30340;) &#8220;&#25968;&#32452;&#8221;&#65292;&#22240;&#27492;&#21487;&#20197;&#29992; <code>&amp;fmt + 1</code> &#24471;&#21040;&#21097;&#20313;&#21442;&#25968;&#30340;&#36215;&#22987;&#22320;&#22336;&#65307;</li>
<li class=" ml-8"><code>int</code> &#31867;&#22411;&#30340;&#38271;&#24230;&#19982;&#25351;&#38024;&#30340;&#38271;&#24230;&#30456;&#21516;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#20294;&#22312; x86-64 &#19978;&#65292;&#19978;&#36848;&#20004;&#20010;&#20551;&#35774;&#37117;&#19981;&#20877;&#25104;&#31435;&#65292;&#21069; 6 &#20010;&#21442;&#25968;&#29992;&#23492;&#23384;&#22120;&#20256;&#36882;&#65292;&#19988; <code>sizeof(int)</code> &#36890;&#24120;&#26159; <code>4</code>&#12290;&#21487;&#31227;&#26893;&#30340;&#26041;&#24335;&#26159;&#20351;&#29992; <code>stdarg.h</code> &#20013;&#30340; <code>va_list</code>, <code>va_start</code>, <code>va_arg</code>&#12290;&#26426;&#22120;&#30456;&#20851;&#30340;&#20551;&#35774;&#12289;&#25968;&#25454;&#31867;&#22411;&#22823;&#23567;&#30340;&#20551;&#35774; (<code>(int *)ptr</code> &#22312; 64-bit &#24179;&#21488;&#19978;&#23558;&#20250;&#25253;&#38169;) &#31561;&#37117;&#21487;&#33021;&#24341;&#36215;&#31227;&#26893;&#24615;&#38382;&#39064;&#12290;</p>
<p class=" font-serif my-1">&#27880;&#24847;&#20320;&#21487;&#20197;&#22312;&#26412;&#22320;&#36890;&#36807;&#20462;&#25913; Makefile &#32469;&#36807;&#26576;&#20123; warnings&#65292;&#20351;&#20320;&#30340;&#31243;&#24207;&#30475;&#36215;&#26469;&#27491;&#30830;&#22320;&#22312;&#22810;&#20010;&#24179;&#21488;&#19978;&#36816;&#34892;&#65307;&#20294; Online Judge &#20250;&#20351;&#29992;&#25105;&#20204;&#30340; Makefile &#21644; AbstractMachine &#23454;&#29616;&#65292;&#24182;&#19988;&#21487;&#33021;&#32463;&#36807;&#19968;&#23450;&#30340;&#20462;&#25913; (&#20363;&#22914;&#35774;&#32622;&#20026;&#19981;&#21516;&#30340;&#23631;&#24149;&#20998;&#36776;&#29575;)&#12290;</p>
<h3 id="42-io" class=" text-lg mt-2 pb-2 font-sans">4.2. &#35775;&#38382; I/O &#35774;&#22791;</h3>
<p class=" font-serif my-1">&#27809;&#26377;&#24211;&#20989;&#25968;&#30340; C &#35821;&#35328;&#31243;&#24207;&#31867;&#20284;&#20110;&#29366;&#24577;&#26426;&#65292;&#21482;&#33021;&#23436;&#25104;&#32431;&#31929;&#30340; &#8220;&#35745;&#31639;&#8221;&#12290;TRM &#20013;&#21807;&#19968;&#33021;&#22815;&#21644;&#22806;&#30028;&#20132;&#20114;&#30340;&#25163;&#27573;&#26159; <code>putch()</code> &#22312;&#35843;&#35797;&#32456;&#31471;&#19978;&#25171;&#21360;&#23383;&#31526;&#21644; <code>halt()</code> &#32456;&#27490;&#31243;&#24207;&#12290;&#25105;&#20204;&#30340;&#30828;&#20214;&#25552;&#20379;&#20102;&#33509;&#24178; I/O &#35774;&#22791;&#65292;AbstractMachine &#21487;&#20197;&#36890;&#36807; IOE &#35775;&#38382;&#23427;&#20204;&#12290;&#22312;&#35843;&#29992; I/O &#35774;&#22791;&#20043;&#21069;&#65292;&#38656;&#35201;&#35843;&#29992; <code>ioe_init()</code> &#21021;&#22987;&#21270;&#65292;&#28982;&#21518;&#23601;&#21487;&#20197;&#29992;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">ioe_read</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">reg</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">ioe_write</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">reg</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">);</span>
</code></pre></div>

<p class=" font-serif my-1">&#20004;&#20010;&#20989;&#25968;&#35775;&#38382; AbstractMachine &#20013;&#30340; I/O &#8220;&#23492;&#23384;&#22120;&#8221; &#20102;&#12290;&#35814;&#24773;&#35831;&#21442;&#32771; AbstractMachine &#25991;&#26723;&#21644; amgame &#26694;&#26550;&#20195;&#30721;&#12290;&#22312; <code>klib-macros.h</code> &#20013;&#21253;&#21547;&#20102;&#26356;&#31616;&#21270;&#30340; I/O &#23492;&#23384;&#22120;&#35775;&#38382;&#26041;&#27861; <code>io_read</code> &#21644; <code>io_write</code>&#65292;&#35831;&#22823;&#23478;&#26597;&#30475;&#12290;&#29992;&#36825;&#32452; API &#20320;&#23601;&#21487;&#20197;&#30465;&#21435;&#25163;&#24037;&#23450;&#20041;&#21464;&#37327;&#30340;&#40635;&#28902;&#65292;&#20363;&#22914;&#30452;&#25509;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">io_read</span><span class="p">(</span><span class="n">AM_GPU_CONFIG</span><span class="p">).</span><span class="n">width</span><span class="p">;</span>
</code></pre></div>

<p class=" font-serif my-1">&#21040;&#36825;&#37324;&#65292;&#22823;&#23478;&#21487;&#33021;&#20250;&#20135;&#29983;&#30340;&#19968;&#20010;&#30097;&#38382;&#26159;&#65306;&#36816;&#34892;&#22312; &#8220;&#35064;&#26426;&#8221; &#19978;&#30340;&#31243;&#24207;&#21487;&#20197;&#29992;&#21738;&#20123;&#26631;&#20934;&#24211;&#65311;&#25105;&#20204;&#30693;&#36947;&#65292;libc &#20013;&#30456;&#24403;&#19968;&#37096;&#20998;&#20989;&#25968;&#37117;&#35843;&#29992;&#25805;&#20316;&#31995;&#32479;&#65292;&#20363;&#22914; <code>printf</code>, <code>malloc</code> &#31561;&#65292;&#21363;&#20415;&#24341;&#29992;&#20102; <code>stdio.h</code> &#36825;&#26679;&#30340;&#22836;&#25991;&#20214;&#65292;&#23427;&#20204;&#30340;&#23454;&#29616;&#20381;&#28982;&#26159;&#32570;&#22833;&#30340;&#65307;&#21478;&#19968;&#26041;&#38754;&#65292;&#25105;&#20204;&#24341;&#29992;&#20102;&#19968;&#20123;&#24211;&#30340;&#22836;&#25991;&#20214;&#65292;&#20363;&#22914; <code>stdint.h</code> (&#21253;&#21547;&#35832;&#22914; <code>int32_t</code> &#36825;&#20123;&#31867;&#22411;&#30340;&#23450;&#20041;)&#12289;<code>stdarg.h</code> &#31561;&#65292;&#21364;&#21487;&#20197;&#27491;&#24120;&#24037;&#20316;&#12290;&#36825;&#26159;&#20026;&#20160;&#20040;&#65311;</p>
<p class=" font-serif my-1">&#20107;&#23454;&#19978;&#65292;AbstractMachine &#30340;&#31243;&#24207;&#36816;&#34892;&#22312; <a href="https://wiki.osdev.org/C_Library" class=" text-amber-900">freestanding &#30340;&#29615;&#22659;&#19979;</a> (&#25805;&#20316;&#31995;&#32479;&#19978;&#30340; C &#31243;&#24207;&#36816;&#34892;&#22312; hosted &#29615;&#22659;&#19979;)&#65306;The <code>__STDC_HOSTED__</code> macro expands to <code>1</code> on hosted implementations, or 0 on freestanding ones. The freestanding headers are: <code>float.h</code>, <code>iso646.h</code>, <code>limits.h</code>, <code>stdalign.h</code>, <code>stdarg.h</code>, <code>stdbool.h</code>, <code>stddef.h</code>, <code>stdint.h</code>, and <code>stdnoreturn.h</code>. You should be familiar with these headers as they contain useful declarations you shouldn't do yourself. GCC also comes with additional freestanding headers for CPUID, SSE and such.</p>
<p class=" font-serif my-1">&#36825;&#20123;&#22836;&#25991;&#20214;&#20013;&#21253;&#21547;&#20102; freestanding &#31243;&#24207;&#20063;&#21487;&#20351;&#29992;&#30340;&#22768;&#26126;&#12290;&#26377;&#20852;&#36259;&#30340;&#21516;&#23398;&#21487;&#20197;&#21457;&#29616;&#65292;&#21487;&#21464;&#21442;&#25968;&#32463;&#36807;&#39044;&#32534;&#35793;&#21518;&#29983;&#25104;&#20102;&#31867;&#20284; <code>__builtin_va_arg</code> &#30340; builtin &#35843;&#29992;&#65292;&#30001;&#32534;&#35793;&#22120;&#32763;&#35793;&#25104;&#20102;&#29305;&#23450;&#30340;&#27719;&#32534;&#20195;&#30721;&#12290;</p>
<h3 id="43" class=" text-lg mt-2 pb-2 font-sans">4.3. &#23454;&#29616;&#28216;&#25103;</h3>
<p class=" font-serif my-1">&#22312;&#36825;&#37324;&#65292;&#25105;&#20204;&#25552;&#20379;&#19968;&#20010;&#19982; amgame &#19981;&#21516;&#30340;&#26694;&#26550;&#20195;&#30721;&#65292;&#20027;&#24490;&#29615;&#20351;&#29992;&#36718;&#35810; (polling) &#20013;&#19981;&#26029;&#31561;&#24453;&#19979;&#19968;&#24103;&#26102;&#21051;&#30340;&#21040;&#26469;&#65292;&#19968;&#26086;&#21040;&#26469;&#65292;&#23601;&#35835;&#21462;&#38190;&#30424;&#25353;&#38190;&#24182;&#22788;&#29702;&#65292;&#28982;&#21518;&#27169;&#25311;&#36825;&#19968;&#24103;&#20013;&#28216;&#25103;&#21457;&#29983;&#30340;&#20107;&#24773;&#12290;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">next_frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">uptime</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">next_frame</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="c1">// &#31561;&#24453;&#19968;&#24103;&#30340;&#21040;&#26469;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">readkey</span><span class="p">())</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">AM_KEY_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">kbd_event</span><span class="p">(</span><span class="n">key</span><span class="p">);</span><span class="w">         </span><span class="c1">// &#22788;&#29702;&#38190;&#30424;&#20107;&#20214;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">game_progress</span><span class="p">();</span><span class="w">          </span><span class="c1">// &#22788;&#29702;&#19968;&#24103;&#28216;&#25103;&#36923;&#36753;&#65292;&#26356;&#26032;&#29289;&#20307;&#30340;&#20301;&#32622;&#31561;</span>
<span class="w">  </span><span class="n">screen_update</span><span class="p">();</span><span class="w">          </span><span class="c1">// &#37325;&#26032;&#32472;&#21046;&#23631;&#24149;</span>
<span class="w">  </span><span class="n">next_frame</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">FPS</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#35745;&#31639;&#19979;&#19968;&#24103;&#30340;&#26102;&#38388;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#22823;&#23478;&#35265;&#36807;&#30340; LiteNES &#21644;&#20185;&#21073;&#22855;&#20384;&#20256;&#65292;&#37117;&#26159;&#36825;&#26679;&#30340;&#24490;&#29615;&#12290;&#25105;&#20204;&#20197;&#24377;&#29699;&#28216;&#25103;&#20026;&#20363;&#65292;&#20320;&#21482;&#38656;&#35201;&#32500;&#25252;&#24377;&#29699;&#30340;&#22352;&#26631; $(x,y)$ &#21644;&#24377;&#29699;&#20004;&#20010;&#26041;&#21521;&#30340;&#36895;&#24230; $(v_x, v_y)$ (&#20197; pixel/&#31186;&#20026;&#21333;&#20301;)&#65292;&#28982;&#21518;&#27599;&#19968;&#24103;&#26102;&#26356;&#26032;&#22352;&#26631;
$$(x', y') \leftarrow (x + v_x/\textrm{FPS}, y + v_y/\textrm{FPS})$$ 
&#21363;&#21487;&#65292;&#21152;&#19978;&#20197;&#19979;&#20004;&#28857;&#23601;&#26159;&#24456;&#37239;&#30340;&#24377;&#29699;&#28216;&#25103;&#21862;&#65281;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#20351;&#29992;&#38190;&#30424; (&#22914;&#19978;&#19979;&#24038;&#21491;) &#21487;&#20197;&#20462;&#25913; $(v_x, v_y)$&#65307;</li>
<li class=" ml-8">&#24377;&#29699;&#21040;&#23631;&#24149;&#36793;&#32536;&#26102;&#65292;&#30456;&#24212;&#26041;&#21521;&#30340;&#36895;&#24230;&#31526;&#21495;&#21462;&#21453;&#65292;&#21363; &#8220;&#23436;&#20840;&#24377;&#24615;&#21453;&#23556;&#8221;&#12290;</li>
</ol>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_5" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9888;&#65039; &#20877;&#27425;&#25552;&#31034;</h4>
<p class=" font-serif my-1">&#36825;&#20010;&#23454;&#39564;&#30340;&#30446;&#30340;&#26159;&#35753;&#22823;&#23478;&#29087;&#24713; AbstractMachine &#32534;&#31243;&#29615;&#22659; (&#23558;&#20250;&#20351;&#29992;&#19968;&#25972;&#20010;&#23398;&#26399;)&#12290;&#21482;&#35201;&#20320;&#30340;&#28216;&#25103;&#28385;&#36275;&#26368;&#20302;&#26631;&#20934; (&#38468;&#26377;&#27491;&#24120;&#30340;&#23454;&#39564;&#25253;&#21578;)&#65292;&#23601;&#21487;&#20197;&#24471;&#21040;&#28385;&#20998;&#12290;&#20294;&#35831;&#20320;&#21153;&#24517;&#29420;&#31435;&#23436;&#25104;&#23454;&#39564;&#65292;&#20363;&#22914;&#25214;&#21040; Online Judge &#25253;&#21578;&#30340;&#38169;&#35823;&#12290;</p>
</blockquote>
<h3 id="44" class=" text-lg mt-2 pb-2 font-sans">4.4. &#23567;&#28216;&#25103;&#21644;&#25805;&#20316;&#31995;&#32479;</h3>
<p class=" font-serif my-1">&#26368;&#21518;&#65292;&#20026;&#20160;&#20040;&#25105;&#20204;&#35201;&#22312;&#31532;&#19968;&#20010;&#23454;&#39564;&#37324;&#20570;&#19968;&#20010;&#28216;&#25103;&#65311;&#39318;&#20808;&#65292;<strike>&#36825;&#26159;&#20026;&#20102;&#26377;&#19968;&#20010;&#32473;&#20998;&#30340;&#29702;&#30001;&#65292;&#33021;&#35753;&#22823;&#23478;&#37117;&#36890;&#36807;</strike>&#12290;&#20854;&#23454;&#36824;&#26159;&#22240;&#20026;&#28216;&#25103;&#21644;&#25805;&#20316;&#31995;&#32479;&#30340;&#24037;&#20316;&#21407;&#29702;&#26377;&#37027;&#20040;&#19968;&#28857;&#30456;&#20284;&#12290;&#22823;&#23478;&#19981;&#22952;&#21487;&#20197;&#30475;&#19968;&#19979;&#35838;&#31243;&#21457;&#24067;&#20195;&#30721;&#20013;&#30340; NES &#27169;&#25311;&#22120; LiteNES&#65292;&#31616;&#21270;&#30340;&#27169;&#25311;&#22120; (&#28216;&#25103;) &#30340; &#8220;&#20027;&#24490;&#29615;&#8221; (<code>fce.c</code>) &#20195;&#30721;&#22914;&#19979;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// &#22312;&#27599;&#19968;&#20010;&#26102;&#38388;&#29255;&#65292;&#20363;&#22914;&#27599; 16.7ms (60 fps)</span>
<span class="w">  </span><span class="n">wait_for_frame</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// &#20570;&#23436;&#36825;&#19968;&#20010;&#26102;&#38388;&#29255;&#20869;&#38656;&#35201;&#23436;&#25104;&#30340;&#24037;&#20316;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">scanlines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">262</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">scanlines</span><span class="o">--</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ppu_cycle</span><span class="p">();</span><span class="w">      </span><span class="c1">// &#26356;&#26032;&#28216;&#25103;&#22270;&#20687;</span>
<span class="w">    </span><span class="n">psg_detect_key</span><span class="p">();</span><span class="w"> </span><span class="c1">// &#35835;&#21462;&#25353;&#38190;&#65292;&#26356;&#26032;&#28216;&#25103;&#36923;&#36753;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#21463;&#21040;&#19978;&#38754;&#20195;&#30721;&#30340;&#21551;&#21457;&#65292;&#25105;&#20204;&#19981;&#22952;&#22312;&#31243;&#24207;&#30340;&#20027;&#24490;&#29615;&#37324;&#19981;&#20877;&#26159;&#19968;&#27425;&#25191;&#34892;&#19968;&#24103;&#65292;&#32780;&#22312; &#8220;&#27599;&#19968;&#24103;&#8221; &#20013;&#37117;&#25191;&#34892;&#21478;&#19968;&#20010;&#31243;&#24207;&#65292;&#31243;&#24207;&#25191;&#34892;&#23436;&#21518;&#36820;&#22238;&#20027;&#24490;&#29615;&#12290;&#22240;&#27492;&#31867;&#20284;&#20110;&#28216;&#25103;&#65292;&#25209;&#22788;&#29702;&#31995;&#32479;&#20063;&#26159;&#19968;&#20010;&#22823;&#24490;&#29615;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// &#31561;&#24453;&#38190;&#30424;&#36755;&#20837;&#38656;&#35201;&#36816;&#34892;&#30340;&#21629;&#20196;</span>
<span class="w">  </span><span class="n">Job</span><span class="w"> </span><span class="o">*</span><span class="n">job</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wait_for_job</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// &#21152;&#36733;&#24182;&#25191;&#34892;&#21629;&#20196;</span>
<span class="w">  </span><span class="n">load</span><span class="p">(</span><span class="n">job</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#19981;&#22952;&#20551;&#35774; &#8220;&#25209;&#22788;&#29702;&#8221; &#31995;&#32479;&#26159;&#36825;&#26679;&#24037;&#20316;&#30340;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#25209;&#22788;&#29702;&#31995;&#32479;&#25191;&#34892;&#30340;&#21629;&#20196;&#30001;&#38190;&#30424;&#36755;&#20837;&#65292;&#22240;&#27492; <code>wait_for_job()</code> &#23601;&#26159;&#20174;&#38190;&#30424;&#35835;&#21462;&#25353;&#38190;&#24182;&#35299;&#26512;&#25104;&#21629;&#20196;&#65292;&#21644;&#28216;&#25103;&#35835;&#21462;&#25353;&#38190;&#31867;&#20284;&#12290;</li>
<li class=" ml-8">&#25191;&#34892;&#30340;&#21629;&#20196; (job) &#26159;&#20445;&#23384;&#22312;&#30913;&#30424;&#19978;&#30340; ELF &#26684;&#24335;&#30340;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#20351;&#29992;&#30828;&#20214;&#25552;&#20379;&#30340; I/O &#25351;&#20196;&#65292;&#20174;&#23384;&#20648;&#35774;&#22791;&#20013;&#23558;&#20108;&#36827;&#21046;&#25991;&#20214;&#21152;&#36733;&#21040;&#20869;&#23384;&#20013;&#12290;(&#23454;&#39564;&#20195;&#30721;&#20013;&#26377;&#19968;&#20221; x86/x86_64 &#36890;&#29992;&#30340;&#20108;&#36827;&#21046;&#25991;&#20214;&#21152;&#36733;&#20195;&#30721;&#65292;&#20301;&#20110; <code>abstract-machine/am/src/x86/qemu/boot/main.c</code>&#65289;&#65307;&#31616;&#21270;&#30340;&#20195;&#30721;&#22914;&#19979;&#65306;</li>
</ol>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">copy_from_disk</span><span class="p">(</span><span class="n">elf32</span><span class="p">,</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#20174;&#30913;&#30424;&#35835;&#21462; ELF &#25991;&#20214;&#22836;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elf</span><span class="o">-&gt;</span><span class="n">e_machine</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">EM_386</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// x86 (32-bit)</span>
<span class="w">  </span><span class="n">load_elf32</span><span class="p">(</span><span class="n">elf32</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#20174;&#30913;&#30424;&#21152;&#36733;&#20108;&#36827;&#21046;&#25991;&#20214;&#21040; ELF &#25991;&#20214;&#25551;&#36848;&#30340;&#20301;&#32622;</span>
<span class="w">  </span><span class="p">((</span><span class="kt">void</span><span class="p">(</span><span class="o">*</span><span class="p">)())(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">elf32</span><span class="o">-&gt;</span><span class="n">e_entry</span><span class="p">)();</span><span class="w"> </span><span class="c1">// &#36339;&#36716;&#21040;&#21152;&#36733;&#30340;&#20195;&#30721;&#25191;&#34892;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#36339;&#36716;&#21518;&#65292;&#25511;&#21046;&#26435;&#23601;&#20132;&#32473;&#20102; job&#65307;job &#32467;&#26463;&#21518;&#20989;&#25968;&#36820;&#22238;&#65292;&#37325;&#26032;&#22238;&#21040;&#25209;&#22788;&#29702;&#31995;&#32479;&#8212;&#8212;&#22079;&#65281;&#25105;&#20204;&#24050;&#32463;&#22312;&#31532;&#19968;&#20010;&#23454;&#39564;&#37324;&#20307;&#39564;&#20102;&#19968;&#20010; &#8220;&#31616;&#26131;&#8221; &#30340;&#25805;&#20316;&#31995;&#32479;&#65281;&#21407;&#26469;&#23454;&#29616;&#25805;&#20316;&#31995;&#32479;&#20063;&#27809;&#37027;&#20040;&#21487;&#24597;&#22043;&#12290;&#20174;&#19979;&#20010;&#23454;&#39564;&#24320;&#22987;&#23558;&#27491;&#24335;&#24320;&#21551;&#22810;&#22788;&#29702;&#22120;&#65292;&#24320;&#22987;&#29616;&#20195;&#25805;&#20316;&#31995;&#32479;&#30340;&#26053;&#31243;&#12290;</p></div>
</div>

<div class="container text-xs py-3">
  <span class="text-muted">
    <center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../static/img/cc-4.0.png"></a>
    &#160;&#160;&#160;<a style="color:inherit" href="https://beian.miit.gov.cn/">&#33487; ICP &#22791; 2020049101 &#21495;</a>
    </center>
  </span>
</div>

</div>

<script src="../../../static/js/jquery.min.js"></script>

<script>
function get_token() {
  var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
  if (match) return match[2];
  else return "";
}
var token = get_token();
var hint = "token", box = $("#token-input");

if (token == "") { }
else { box.val(token); }

function login() {
  var token = box.val()
  if (!token) {
    document.cookie = ''
  } else {
    document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;'
  }
}
</script>


</body>

</html>