<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="../../../static/reveal/reveal.css">
<link rel="stylesheet" href="../../../static/reveal/theme/simple.css" id="theme">

<style>
.reveal .slide-number {
  font-size: 26px;
  border-radius: 5px;
  background-color: rgba(0, 0, 0, .3);
}

.reveal .full-screen {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
}

.reveal .slides {
  border: 1.5px #ddd solid;
  border-radius: 7px;
  text-align: left;
  font-weight: 300;
}

.reveal h1, .reveal h2, .reveal h3, .reveal h4 {
  font-family: 'Lato', 'SimHei', 'STXihei', 'Droid Sans';
  font-weight: 400;
}

.reveal p, .reveal li, .reveal center {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Droid Sans';
}

.reveal li + li {
  margin-top: 10px;
}

.reveal ul {
  display: block;
  margin-right: 15px;
}

.reveal p, .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5 {
  padding:  0 25px 0 25px;
}

.reveal table {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Sans Serif';
  margin-top: 15px;
  margin-bottom: 15px;
}

.reveal th {
  background-color: #eee;
}

.reveal tr:nth-child(even) {
  background-color: #efffff;
}

.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4,
.reveal h5,
.reveal h6 {
  text-align: left;
  margin: 0 0 20px 0;
 color: #222; 
  font-weight: 400;
  line-height: 1.2;
  letter-spacing: normal;
}



.reveal h1 {
  margin: 0 10 0 10;
  font-size: 60px;
}
.reveal .middle h1 {
  text-align: center;
}

.reveal h2 {
  font-size: 48px;
  border-bottom: 2px solid rgb(106, 0, 95);
  padding-bottom: 5px;
}
.reveal h3 { font-size: 1.15em; }
.reveal h4 { font-size: 1.05em; }

.reveal .center {
  text-align: center;
}

.reveal .middle {
  height: 728px;
  display: flex;
  align-items: center;
  width: 100%;
}

.reveal pre {
  font-size: 28px;
 
  background-color: #eee;

  border-radius: 3mm;
  padding: 10px 10px 10px 10px;
}

.reveal pre code {
  max-height: none;
}

.reveal code {
  font-family: 'Inconsolata', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif', Monospace;
}

.reveal .middle blockquote {
  text-align: center;
  color: rgb(106, 0, 95);
  background: none;
  box-shadow: none;
}

.reveal .middle blockquote a {
  color: inherit;
}

.reveal blockquote p, .reveal blockquote li {
  font-family: 'Lato', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif';
}

section .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.reveal .author-block {
  margin: 75px 0 35px 0;
}
.reveal .author-affiliation img {
  margin: 15px 0 0 0;
}
.reveal .author-block p, .reveal .author-affiliation p  {
  font-family: 'Kaiti', 'STKaiti', 'Serif', 'Times', 'Times New Roman';
  margin-block-start: 0em;
  margin-block-end: 0em;
}
.reveal .author-affiliation {
  display: inline-block;
  font-size: 90%;
}
.reveal hr {
  border: 10px solid rgba(0, 0, 0, 0);
}
.reveal li {
  margin-top: 10px;
}
</style>

  <title>&#25345;&#20037;&#25968;&#25454;&#30340;&#21487;&#38752;&#24615;</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div class="reveal">
<div class="slides">
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">&#25345;&#20037;&#25968;&#25454;&#30340;&#21487;&#38752;&#24615;</h1>
<p class=" font-serif my-1"><include src="Slides_Author"><div><div class="py-16">
<p class=" font-serif my-1"><a href="http://ics.nju.edu.cn/~jyy" class=" text-amber-900">&#33931;&#28814;&#23721;</a></p>
</div>
<div class="row">
<div class="author-affiliation">
    <a href="http://www.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">&#12288;&#12288;&#21335;&#20140;&#22823;&#23398;&#12288;&#12288;</p>
    <img class="inline-img h-24" src="../../../static/img/nju-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
   <a href="http://cs.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">&#35745;&#31639;&#26426;&#31185;&#23398;&#19982;&#25216;&#26415;&#31995;</p>
    <img class="inline-img h-24" src="../../../static/img/njucs-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
    <a href="https://cs.nju.edu.cn/ics/" class=" text-amber-900"><p class=" font-serif my-1">&#35745;&#31639;&#26426;&#36719;&#20214;&#30740;&#31350;&#25152;</p>
    <img class="inline-img h-24" src="../../../static/img/ics-logo.png" style="display: inline-block;"></a>
  </div>
</div></div></include></p></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="overview" class=" text-xl mt-2 pb-2 font-sans">Overview</h2>
<p class=" font-serif my-1">&#22797;&#20064;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25991;&#20214;&#31995;&#32479;&#23454;&#29616;&#65306;bread/bwrite &#19978;&#30340;&#25968;&#25454;&#32467;&#26500;<ul class=" list-disc font-serif">
<li class=" ml-8">balloc/bfree</li>
<li class=" ml-8">&#25991;&#20214;&#65306;FAT (&#38142;&#34920;)/UNIX &#25991;&#20214;&#31995;&#32479; (&#32034;&#24341;)</li>
<li class=" ml-8">&#30446;&#24405;&#25991;&#20214;</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">&#26412;&#27425;&#35838;&#22238;&#31572;&#30340;&#38382;&#39064;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25968;&#25454;&#32467;&#26500;&#30340;&#21478;&#19968;&#20010;&#20551;&#35774;&#65306;<red>&#20869;&#23384;&#21487;&#38752;&#19988;&#21487;&#20197;&#25509;&#21463;&#26029;&#30005;&#25968;&#25454;&#20002;&#22833;</red></li>
<li class=" ml-8"><strong>Q</strong>: &#25345;&#20037;&#25968;&#25454;&#26159;&#19981;&#33021;&#25509;&#21463;&#20002;&#22833;&#30340;&#65292;&#22914;&#20309;&#20445;&#35777;&#25345;&#20037;&#25968;&#25454;&#30340;&#21487;&#38752;&#24615;&#65311;</li>
</ul>
<hr>
<p class=" font-serif my-1">&#26412;&#27425;&#35838;&#20027;&#35201;&#20869;&#23481;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">RAID (Redundant Array of Inexpensive Disks)</li>
<li class=" ml-8">&#23849;&#28291;&#19968;&#33268;&#24615;</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="redundant-array-of-inexpensive-disks-raid" class=" text-2xl mt-2 font-sans">Redundant Array of Inexpensive Disks (RAID)</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="1" class=" text-xl mt-2 pb-2 font-sans">&#26085;&#28176;&#22686;&#38271;&#30340;&#25345;&#20037;&#23384;&#20648;&#38656;&#27714; (1)&#8212;&#8212;&#24615;&#33021;</h2>
<p class=" font-serif my-1">&#23384;&#20648;&#65306;&#21482;&#35201; CPU (DMA) &#33021;&#22788;&#29702;&#24471;&#36807;&#26469;&#65292;&#25105;&#23601;&#33021;&#25552;&#20379;&#36275;&#22815;&#30340;&#24102;&#23485;&#65281;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Computer System &#30340; &#8220;industry&#8221; &#20256;&#32479;&#8212;&#8212;&#20570;&#30495;&#23454;&#26377;&#29992;&#30340;&#31995;&#32479;</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/emc-vnx5300.jpg" width="480px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="2" class=" text-xl mt-2 pb-2 font-sans">&#26085;&#28176;&#22686;&#38271;&#30340;&#25345;&#20037;&#23384;&#20648;&#38656;&#27714; (2)&#8212;&#8212;&#21487;&#38752;&#24615;</h2>
<p class=" font-serif my-1">&#20219;&#20309;&#29289;&#29702;&#23384;&#20648;&#20171;&#36136;&#37117;&#26377;&#22833;&#25928;&#30340;&#21487;&#33021;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20320;&#20381;&#28982;&#24076;&#26395;&#22312;&#23384;&#20648;&#35774;&#22791;&#22833;&#25928;&#30340;&#26102;&#20505;&#33021;&#20445;&#25345;&#25968;&#25454;&#30340;&#23436;&#25972;<ul class=" list-disc font-serif">
<li class=" ml-8">&#26497;&#23567;&#27010;&#29575;&#20107;&#20214;&#65306;&#25112;&#20105;&#29190;&#21457;/&#19977;&#20307;&#20154;&#36827;&#25915;&#22320;&#29699;/&#19990;&#30028;&#27585;&#28781; &#128514;</li>
<li class=" ml-8">&#23567;&#27010;&#29575;&#20107;&#20214;&#65306;&#30828;&#30424;&#25439;&#22351;<ul class=" list-disc font-serif">
<li class=" ml-8">&#22823;&#37327;&#37325;&#22797; = &#24517;&#28982;&#21457;&#29983; (&#20294;&#25105;&#20204;&#36824;&#26159;&#24076;&#26395;&#31995;&#32479;&#33021;&#29031;&#24120;&#36816;&#36716;)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/datacenter.jpg" width="700px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid" class=" text-xl mt-2 pb-2 font-sans">RAID: &#23384;&#20648;&#35774;&#22791;&#30340;&#34394;&#25311;&#21270;</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">&#37027;&#20040;&#65292;&#24615;&#33021;&#21644;&#21487;&#38752;&#24615;&#65292;&#25105;&#20204;&#33021;&#19981;&#33021;&#20840;&#37117;&#35201;&#21602;&#65311;</p>
</blockquote>
<p class=" font-serif my-1">Redundant Array of Inexpensive (<em>Independent</em>) Disks (RAID)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25226;&#22810;&#20010; (&#19981;&#21487;&#38752;&#30340;) &#30913;&#30424;&#34394;&#25311;&#25104;&#19968;&#22359;<red>&#38750;&#24120;&#21487;&#38752;&#19988;&#24615;&#33021;&#26497;&#39640;</red>&#30340;&#34394;&#25311;&#30913;&#30424;<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/971701.50214" class=" text-amber-900">A case for redundant arrays of inexpensive disks (RAID)</a> (SIGMOD'88)</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">RAID &#26159;&#19968;&#20010; &#8220;&#21453;&#21521;&#8221; &#30340;&#34394;&#25311;&#21270;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#36827;&#31243;&#65306;&#25226;&#19968;&#20010; CPU &#20998;&#26102;&#34394;&#25311;&#25104;&#22810;&#20010;&#34394;&#25311; CPU</li>
<li class=" ml-8">&#34394;&#23384;&#65306;&#25226;&#19968;&#20221;&#20869;&#23384;&#36890;&#36807; MMU &#34394;&#25311;&#25104;&#22810;&#20010;&#22320;&#22336;&#31354;&#38388;</li>
<li class=" ml-8">&#25991;&#20214;&#65306;&#25226;&#19968;&#20010;&#23384;&#20648;&#35774;&#22791;&#34394;&#25311;&#25104;&#22810;&#20010;&#34394;&#25311;&#30913;&#30424;</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-fault-model-fail-stop" class=" text-xl mt-2 pb-2 font-sans">RAID &#30340; Fault Model: Fail-Stop</h2>
<p class=" font-serif my-1">&#30913;&#30424;&#21487;&#33021;&#22312;&#26576;&#20010;&#26102;&#21051;&#24573;&#28982;&#24443;&#24213;&#26080;&#27861;&#35775;&#38382;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#26426;&#26800;&#25925;&#38556;&#12289;&#33455;&#29255;&#25925;&#38556;&#8230;&#8230;<ul class=" list-disc font-serif">
<li class=" ml-8">&#30913;&#30424;&#22909;&#20687;&#23601; &#8220;&#24573;&#28982;&#28040;&#22833;&#8221; &#20102; (&#25968;&#25454;&#23436;&#20840;&#20002;&#22833;)</li>
<li class=" ml-8">&#20551;&#35774;&#30913;&#30424;&#33021;&#25253;&#21578;&#36825;&#20010;&#38382;&#39064; (&#22914;&#20309;&#25253;&#21578;&#65311;)</li>
</ul>
</li>
<li class=" ml-8"><a href="https://www.usenix.org/conference/fast-08/analysis-data-corruption-storage-stack" class=" text-amber-900">An analysis of data corruption in the storage stack</a> (FAST'08)</li>
</ul>
<hr>
<p class=" font-serif my-1">&#22312;&#37027;&#20010;&#36941;&#22320;&#26159;&#40644;&#37329;&#30340;&#24180;&#20195;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">1988: &#20945;&#20960;&#22359;&#30424;&#65292;&#25472;&#32763;&#25972;&#20010;&#20135;&#19994;&#38142;&#65281;<ul class=" list-disc font-serif">
<li class=" ml-8">&#8220;Single Large Expensive Disks&#8221; (IBM 3380), v.s.</li>
<li class=" ml-8">&#8220;Redundant Array of Inexpensive Disks&#8221;</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">&#19968;&#20010;&#26368;&#31616;&#21333;&#30340;&#24819;&#27861;</h2>
<p class=" font-serif my-1">&#22312;&#31995;&#32479;&#37324;&#22810;&#25509;&#20837;&#19968;&#22359;&#30828;&#30424;&#29992;&#20110; Fault Tolerance (RAID-1)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20551;&#35774;&#26377;&#20004;&#22359;&#30424; $A$, $B$<ul class=" list-disc font-serif">
<li class=" ml-8">&#21516;&#26679;&#35268;&#26684;&#65292;&#20849;&#26377; $n$ &#22359;</li>
</ul>
</li>
<li class=" ml-8">&#8220;&#38236;&#20687;&#8221; &#34394;&#25311;&#30913;&#30424; $V$<ul class=" list-disc font-serif">
<li class=" ml-8">$V_i \to \{ A_i, B_i \}$ ($1 \le i \le n$)</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">&#22359;&#35835;&#20889;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">bread($i$)<ul class=" list-disc font-serif">
<li class=" ml-8">&#21487;&#20197;&#20174; $A$ &#25110; $B$ &#20013;&#30340;&#20219;&#24847;&#19968;&#20010;&#35835;&#21462;</li>
</ul>
</li>
<li class=" ml-8">bwrite($i$)<ul class=" list-disc font-serif">
<li class=" ml-8">&#21516;&#26102;&#23558;&#21516;&#26679;&#30340;&#25968;&#25454;&#20889;&#20837; $A$, $B$ &#30340;&#21516;&#19968;&#20301;&#32622;  </li>
</ul>
</li>
<li class=" ml-8">&#23481;&#38169;&#65292;&#19988;&#35835;&#36895;&#24230;&#32763;&#20493; (&#20551;&#35774;&#20869;&#23384;&#36828;&#24555;&#20110;&#30913;&#30424;)</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-design-space" class=" text-xl mt-2 pb-2 font-sans">RAID: Design Space</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">RAID (&#34394;&#25311;&#21270;) = &#34394;&#25311;&#30913;&#30424;&#22359;&#21040;&#29289;&#29702;&#30913;&#30424;&#22359;&#30340; &#8220;&#26144;&#23556;&#8221;&#12290;</p>
</blockquote>
<p class=" font-serif my-1">&#20004;&#22359;&#30913;&#30424;&#30340;&#20854;&#20182;&#25340;&#25509;&#26041;&#27861;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#39034;&#24207;&#25340;&#25509;<ul class=" list-disc font-serif">
<li class=" ml-8">$V_1 \to A_1$, $V_2 \to A_2$, $\ldots$, $V_{n} \to A_{n}$</li>
<li class=" ml-8">$V_{n+1} \to B_1$, $V_{n+2} \to B_2$, $\ldots$, $V_{2n} \to B_{n}$</li>
</ul>
</li>
<li class=" ml-8">&#20132;&#38169;&#25490;&#21015; (RAID-0)<ul class=" list-disc font-serif">
<li class=" ml-8">$V_1 \to A_1$, $V_2 \to B_1$</li>
<li class=" ml-8">$V_3 \to A_2$, $V_4 \to B_2$</li>
<li class=" ml-8">$V_{2i-1} \to A_{i}$, $V_{2i} \to B_i$</li>
</ul>
</li>
<li class=" ml-8">&#34429;&#28982;&#19981;&#33021;&#23481;&#38169;&#65292;&#20294;&#21487;&#20197;&#21033;&#29992;&#22909;&#30913;&#30424;&#30340;&#24102;&#23485;</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-design-space-contd" class=" text-xl mt-2 pb-2 font-sans">RAID: Design Space (cont'd)</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">RAID: &#20801;&#35768; &#8220;&#22810;&#23545;&#22810;&#8221; &#30340;&#26144;&#23556; (&#19968;&#32452;&#26144;&#23556;&#31216;&#20026; &#8220;&#26465;&#24102;&#8221;, stripe)</p>
</blockquote>
<p class=" font-serif my-1">RAID-10 = RAID-0 over RAID-1</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$A, B$ &#32452;&#25104; RAID-1 $X$ (&#23481;&#38169;)<ul class=" list-disc font-serif">
<li class=" ml-8">$X_1 \to \{ A_1, B_1 \}$</li>
<li class=" ml-8">$X_2 \to \{ A_2, B_2 \}$</li>
</ul>
</li>
<li class=" ml-8">$C, D$ &#32452;&#25104; RAID-1 $Y$ (&#23481;&#38169;)<ul class=" list-disc font-serif">
<li class=" ml-8">$Y_1 \to \{ C_1, D_1 \}$</li>
<li class=" ml-8">$Y_2 \to \{ C_2, D_2 \}$</li>
</ul>
</li>
<li class=" ml-8">$X, Y$ &#32452;&#25104; RAID-0 (&#24615;&#33021;&#32763;&#20493;)<ul class=" list-disc font-serif">
<li class=" ml-8">$V_1 \to X_1 \to \{ A_1, B_1 \}$, $V_2 \to Y_1 \to \{ A_2, B_2 \}$</li>
<li class=" ml-8">$V_3 \to X_2 \to \{ A_2, B_2 \}$, $V_4 \to Y_2 \to \{ C_2, D_2 \}$</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-design-space-contd" class=" text-xl mt-2 pb-2 font-sans">RAID: Design Space (cont'd)</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">RAID-10&#65306;&#26377;&#26102;&#33021;&#23481;&#24525;&#20004;&#22359;&#30424;&#22351;&#65292;&#26377;&#26102;&#20505;&#21364;&#19981;&#33021;&#12290;&#22914;&#26524;&#25105;&#20204;&#26377;&#24456;&#22810;&#22359;&#30424;&#65292;&#33021;&#21542;&#20943;&#23569;&#28010;&#36153;&#65311;</p>
</blockquote>
<p class=" font-serif my-1">&#25442;&#19968;&#20010;&#38382;&#27861;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#32473;&#20320; $n$ &#20010; bits $b_1, b_2, \ldots, b_n$</li>
<li class=" ml-8">&#33267;&#23569;&#38656;&#35201;&#23384;&#20648;&#22810;&#23569; bit &#20449;&#24687;&#65292;&#20351;&#24471;&#25105;&#20204;&#21487;&#20197;&#22312;&#20219;&#24847; $b_i$ &#20002;&#22833; (&#24050;&#30693; $i$) &#30340;&#24773;&#20917;&#19979;&#65292;&#37117;&#21487;&#20197;&#24674;&#22797;&#20986; $b_i$&#65311;<ul class=" list-disc font-serif">
<li class=" ml-8">&#32416;&#38169;&#30721;&#65281;</li>
<li class=" ml-8">$x \oplus x = 0$</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-4-parity-disk" class=" text-xl mt-2 pb-2 font-sans">RAID-4: Parity Disk</h2>
<p class=" font-serif my-1">&#19987;&#38376;&#30041;&#19968;&#22359;&#30913;&#30424;&#20316;&#20026;&#22855;&#20598;&#26657;&#39564;&#30424;&#12290;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">$\{V_1, V_2, V_3\} \to \{A_1, B_1, C_1, D_1\}$<ul class=" list-disc font-serif">
<li class=" ml-8">$V_1 \to A_1$, $V_2 \to B_1$, $V_3 \to C_1$ (&#19981;&#23481;&#38169;)</li>
<li class=" ml-8">$D_1 = V_1 \oplus V_2 \oplus V_3$ (&#22855;&#20598;&#26657;&#39564;)</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">&#24615;&#33021;&#20998;&#26512;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Sequential/random read: 3x (75% &#24635;&#24102;&#23485;)</li>
<li class=" ml-8">Sequential write: 3x (75% &#24635;&#24102;&#23485;)</li>
<li class=" ml-8">Random write (tricky)<ul class=" list-disc font-serif">
<li class=" ml-8">$D_1 = V_1 \oplus V_2 \oplus V_3$</li>
<li class=" ml-8">&#20889;&#20837;&#20219;&#24847; $V_1, V_2, V_3$ &#37117;&#38656;&#35201;&#26356;&#26032; $D_1$<ul class=" list-disc font-serif">
<li class=" ml-8">&#26356;&#26032; $V_1$ &#38656;&#35201; readb($\{A_1,D_1\})$, writeb($\{A_1,D_1\}$)</li>
</ul>
</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-5-rotating-parity" class=" text-xl mt-2 pb-2 font-sans">RAID-5: Rotating Parity</h2>
<p class=" font-serif my-1">&#8220;&#20132;&#38169;&#25490;&#21015;&#8221; parity block!</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/raid5.png" width="800px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid-5" class=" text-xl mt-2 pb-2 font-sans">RAID-5: &#24615;&#33021;&#20998;&#26512;</h2>
<p class=" font-serif my-1">&#35753;&#27599;&#19968;&#22359;&#30424;&#37117;&#26377;&#22343;&#31561;&#30340;&#26426;&#20250;&#23384;&#20648; parity</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Sequential read/write: 3x (75% &#24635;&#24102;&#23485;)</li>
<li class=" ml-8">Random read (tricky)<ul class=" list-disc font-serif">
<li class=" ml-8">(read &#36275;&#22815;&#22823;&#65292;&#25152;&#26377;&#30913;&#30424;&#37117;&#21487;&#20197;&#25552;&#20379;&#25968;&#25454;) 4x (100% &#24635;&#24102;&#23485;)</li>
</ul>
</li>
<li class=" ml-8">Random write (tricky)<ul class=" list-disc font-serif">
<li class=" ml-8">$D_1 = V_1 \oplus V_2 \oplus V_3$; &#20889;&#20837;&#20219;&#24847; $V_1, V_2, V_3$ &#37117;&#38656;&#35201;&#26356;&#26032; $D_1$</li>
<li class=" ml-8">&#22855;&#20598;&#26657;&#39564;&#20381;&#28982;&#20005;&#37325;&#25302;&#24930;&#20102;&#38543;&#26426;&#20889;&#20837;<ul class=" list-disc font-serif">
<li class=" ml-8">&#20294;&#33267;&#23569; $n$ &#22359;&#30424;&#21487;&#20197;&#33719;&#24471; $n/4$ &#30340;&#38543;&#26426;&#20889;&#24615;&#33021;</li>
<li class=" ml-8">&#26377;&#19968;&#23450;&#30340; scalability</li>
</ul>
</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="raid" class=" text-xl mt-2 pb-2 font-sans">RAID: &#35752;&#35770;</h2>
<p class=" font-serif my-1">&#26356;&#24555;&#12289;&#26356;&#21487;&#38752;&#12289;&#36817;&#20046;&#20813;&#36153;&#30340;&#22823;&#23481;&#37327;&#30913;&#30424;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#38761;&#20102; &#8220;&#39640;&#21487;&#38752;&#24615;&#30913;&#30424;&#8221; &#30340;&#21629;<ul class=" list-disc font-serif">
<li class=" ml-8">&#25104;&#20026;&#20170;&#22825;&#26381;&#21153;&#22120;&#30340;&#26631;&#20934;&#37197;&#32622;</li>
</ul>
</li>
<li class=" ml-8">&#31867;&#20284;&#30340;&#37324;&#31243;&#30865;<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/1165389.945450" class=" text-amber-900">The Google file system</a> (SOSP'03) &#21644; <a href="https://dl.acm.org/doi/10.5555/1251254.1251264" class=" text-amber-900">MapReduce: Simplified data processing on large clusters</a> (OSDI'04) &#24320;&#21551; &#8220;&#22823;&#25968;&#25454;&#8221; &#26102;&#20195;</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">RAID &#30340;&#21487;&#38752;&#24615;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">RAID &#31995;&#32479;&#21457;&#29983;&#26029;&#30005;&#65311;<ul class=" list-disc font-serif">
<li class=" ml-8">&#20363;&#23376;&#65306;RAID-1 &#38236;&#20687;&#30424;&#20986;&#29616;&#19981;&#19968;&#33268;&#30340;&#25968;&#25454;</li>
</ul>
</li>
<li class=" ml-8">&#26816;&#27979;&#21040;&#30913;&#30424;&#22351;&#65311;<ul class=" list-disc font-serif">
<li class=" ml-8">&#33258;&#21160;&#37325;&#32452;</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">&#23849;&#28291;&#19968;&#33268;&#24615;&#19982;&#23849;&#28291;&#24674;&#22797;</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="fault-model" class=" text-xl mt-2 pb-2 font-sans">&#21478;&#19968;&#31181; Fault Model</h2>
<p class=" font-serif my-1">&#30913;&#30424;&#24182;&#27809;&#26377;&#25925;&#38556;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20294;&#25805;&#20316;&#31995;&#32479;&#20869;&#26680;&#21487;&#33021; crash&#65292;&#31995;&#32479;&#21487;&#33021;&#26029;&#30005;</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/cat-crash-consistency.jpg" width="400px"></p>
<p class=" font-serif my-1">&#25991;&#20214;&#31995;&#32479;&#65306;&#35774;&#22791;&#19978;&#30340;&#26641;&#32467;&#26500;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#21363;&#20415;&#21482;&#26159; append &#19968;&#20010;&#23383;&#33410;&#65292;&#20063;&#28041;&#21450;&#22810;&#22788;&#30913;&#30424;&#30340;&#20462;&#25913;<ul class=" list-disc font-serif">
<li class=" ml-8">FAT&#12289;&#30446;&#24405;&#25991;&#20214; (&#25991;&#20214;&#22823;&#23567;) &#21644;&#25968;&#25454;</li>
<li class=" ml-8">&#30913;&#30424;&#26412;&#36523;&#19981;&#25552;&#20379; &#8220;all or nothing&#8221; &#30340;&#25903;&#25345;</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="crash-consistency" class=" text-xl mt-2 pb-2 font-sans">&#23849;&#28291;&#19968;&#33268;&#24615; (Crash Consistency)</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1"><strong>Crash Consistency</strong>: Move the file system from one consistent state (e.g., before the file got appended to) to another atomically (e.g., after the inode, bitmap, and new data block have been written to disk).</p>
</blockquote>
<p class=" font-serif my-1"></p><center>(&#20320;&#20204;&#24179;&#26102;&#32534;&#31243;&#26102;&#20551;&#35774;&#19981;&#20250;&#21457;&#29983;&#30340;&#20107;&#65292;&#25805;&#20316;&#31995;&#32479;&#37117;&#35201;&#32473;&#20320;&#20828;&#24213;)</center>
<hr>
<p class=" font-serif my-1">&#30913;&#30424;&#19981;&#25552;&#20379;&#22810;&#22359;&#35835;&#20889; &#8220;all or nothing&#8221; &#30340;&#25903;&#25345;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#29978;&#33267;&#20026;&#20102;&#24615;&#33021;&#65292;&#27809;&#26377;&#39034;&#24207;&#20445;&#35777;<ul class=" list-disc font-serif">
<li class=" ml-8">bwrite &#21487;&#33021;&#34987;&#20081;&#24207;</li>
<li class=" ml-8">&#25152;&#20197;&#30913;&#30424;&#36824;&#25552;&#20379;&#20102; bflush &#31561;&#24453;&#24050;&#20889;&#20837;&#30340;&#25968;&#25454;&#33853;&#30424;</li>
<li class=" ml-8">&#22238;&#21040;&#34987;&#24182;&#21457;&#32534;&#31243;&#25903;&#37197;&#30340;&#24656;&#24807;&#65311;<a href="../../../pages/OS/2022/demos/peterson-barrier.c" class=" text-amber-900">peterson-barrier.c</a></li>
</ul>
</li>
<li class=" ml-8"><del>&#37027;&#25105;&#20204;&#20063;&#21487;&#20197;&#32771;&#34385;&#25552;&#20379;&#21834;&#65306;<a href="https://dl.acm.org/doi/10.5555/1855741.1855752" class=" text-amber-900">Transactional flash</a> (OSDI'08)</del></li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">&#30913;&#30424;&#20081;&#24207;&#30340;&#21518;&#26524;</h2>
<p class=" font-serif my-1">&#20026; FAT &#25991;&#20214;&#36861;&#21152;&#20889;&#20837;&#19968;&#20010; cluster (4KB) &#38656;&#35201;&#26356;&#26032;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#30446;&#24405;&#39033;&#20013;&#30340;&#25991;&#20214;&#22823;&#23567; (100 &#8594; 4196)</li>
<li class=" ml-8">FAT &#34920;&#20013;&#32500;&#25252;&#30340;&#38142;&#34920; (EOF &#8594; cluster-id, FREE &#8594; EOF)</li>
<li class=" ml-8">&#23454;&#38469;&#25968;&#25454;</li>
</ul>
<hr>
<p class=" font-serif my-1">&#36825;&#40635;&#28902;&#20102;&#8230;&#8230;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20219;&#20309;&#19968;&#20010;&#23376;&#38598;&#30340;&#20889;&#20837;&#20002;&#22833;&#37117;&#21487;&#33021;&#20986;&#29616;</li>
<li class=" ml-8">&#25991;&#20214;&#31995;&#32479;&#23601;&#36827;&#20837;&#20102; &#8220;&#19981;&#19968;&#33268;&#8221; &#30340;&#29366;&#24577;<ul class=" list-disc font-serif">
<li class=" ml-8">&#21487;&#33021;&#36829;&#21453; FAT &#30340;&#22522;&#26412;&#20551;&#35774;<ul class=" list-disc font-serif">
<li class=" ml-8">&#38142;&#34920;&#26080;&#29615;&#19988;&#38271;&#24230;&#21644;&#25991;&#20214;&#22823;&#23567;&#19968;&#33268;</li>
<li class=" ml-8">FREE &#30340; cluster &#19981;&#33021;&#26377;&#20837;&#36793;</li>
<li class=" ml-8">&#8230;&#8230;</li>
</ul>
</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="file-system-checking-fsck" class=" text-xl mt-2 pb-2 font-sans">File System Checking (FSCK)</h2>
<p class=" font-serif my-1">&#26681;&#25454;&#30913;&#30424;&#19978;&#24050;&#26377;&#30340;&#20449;&#24687;&#65292;&#24674;&#22797;&#20986; &#8220;&#26368;&#21487;&#33021;&#8221; &#30340;&#25968;&#25454;&#32467;&#26500;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/fsck-recovery.png" width="750px"></p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.5555/1855741.1855751" class=" text-amber-900">SQCK: A declarative file system checker</a> (OSDI'08)</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/3281031" class=" text-amber-900">Towards robust file system checkers</a> (FAST'18)<ul class=" list-disc font-serif">
<li class=" ml-8">&#8220;widely used file systems (EXT4, XFS, BtrFS, and F2FS) may leave the file system in an uncorrectable state if the repair procedure is interrupted unexpectedly&#8221; &#128514;</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">&#38024;&#23545; crash&#65292;&#25105;&#20204;&#38656;&#35201;&#26356;&#21487;&#38752;&#30340;&#26041;&#27861;&#25105;&#20204;&#38656;&#35201;&#19968;&#20010;&#26356;&#21487;&#38752;&#30340;&#26041;&#27861;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25991;&#20214;&#31995;&#32479;&#19981;&#19968;&#33268;&#30340;&#26681;&#26412;&#21407;&#22240;&#26159;<red>&#23384;&#20648;&#35774;&#22791;&#26080;&#27861;&#25552;&#20379;&#22810;&#27425;&#20889;&#20837;&#30340;&#21407;&#23376;&#24615;</red></li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="journaling" class=" text-2xl mt-2 font-sans">&#26085;&#24535; (Journaling)</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">&#37325;&#26032;&#24605;&#32771;&#25968;&#25454;&#32467;&#26500;&#30340;&#23384;&#20648;</h2>
<p class=" font-serif my-1">&#20004;&#20010; &#8220;&#35270;&#35282;&#8221;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#23384;&#20648;&#23454;&#38469;<red>&#25968;&#25454;&#32467;&#26500;</red><ul class=" list-disc font-serif">
<li class=" ml-8">&#25991;&#20214;&#31995;&#32479;&#30340; &#8220;&#30452;&#35266;&#8221; &#34920;&#31034;</li>
<li class=" ml-8">crash unsafe</li>
</ul>
</li>
<li class=" ml-8">Append-only &#35760;&#24405;&#25152;&#26377;<red>&#21382;&#21490;&#25805;&#20316;</red><ul class=" list-disc font-serif">
<li class=" ml-8">&#8220;&#37325;&#20570;&#8221; &#25152;&#26377;&#25805;&#20316;&#24471;&#21040;&#25968;&#25454;&#32467;&#26500;&#30340;&#24403;&#21069;&#29366;&#24577;</li>
<li class=" ml-8">&#23481;&#26131;&#23454;&#29616;&#23849;&#28291;&#19968;&#33268;&#24615;</li>
</ul>
</li>
</ol>
<hr>
<p class=" font-serif my-1">&#20108;&#32773;&#30340;&#34701;&#21512;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25968;&#25454;&#32467;&#26500;&#25805;&#20316;&#21457;&#29983;&#26102;&#65292;&#29992; (2) append-only &#35760;&#24405;&#26085;&#24535;</li>
<li class=" ml-8">&#26085;&#24535;&#33853;&#30424;&#21518;&#65292;&#29992; (1) &#26356;&#26032;&#25968;&#25454;&#32467;&#26500;</li>
<li class=" ml-8">&#23849;&#28291;&#21518;&#65292;&#37325;&#25918;&#26085;&#24535;&#24182;&#28165;&#38500; (&#31216;&#20026; redo log&#65307;&#30456;&#24212;&#20063;&#21487;&#20197; undo log)</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="atomic-append" class=" text-xl mt-2 pb-2 font-sans">&#23454;&#29616; Atomic Append</h2>
<p class=" font-serif my-1">&#29992; bread, bwrite &#21644; bflush &#23454;&#29616; append()</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/fs-journaling.png" width="800px"></p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#23450;&#20301;&#21040; journal &#30340;&#26411;&#23614; (bread)</li>
<li class=" ml-8">bwrite TXBegin &#21644;&#25152;&#26377;&#25968;&#25454;&#32467;&#26500;&#25805;&#20316;</li>
<li class=" ml-8">bflush &#31561;&#24453;&#25968;&#25454;&#33853;&#30424;</li>
<li class=" ml-8">bwrite TXEnd</li>
<li class=" ml-8">bflush &#31561;&#24453;&#25968;&#25454;&#33853;&#30424;</li>
<li class=" ml-8">&#23558;&#25968;&#25454;&#32467;&#26500;&#25805;&#20316;&#20889;&#20837;&#23454;&#38469;&#25968;&#25454;&#32467;&#26500;&#21306;&#22495;</li>
<li class=" ml-8">&#31561;&#24453;&#25968;&#25454;&#33853;&#30424;&#21518;&#65292;&#21024;&#38500; (&#26631;&#35760;) &#26085;&#24535;</li>
</ol></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="journaling" class=" text-xl mt-2 pb-2 font-sans">Journaling: &#20248;&#21270;</h2>
<p class=" font-serif my-1">&#29616;&#22312;&#30913;&#30424;&#38656;&#35201;&#20889;&#20837;&#21452;&#20221;&#30340;&#25968;&#25454;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25209;&#22788;&#29702; (xv6; jbd)<ul class=" list-disc font-serif">
<li class=" ml-8">&#22810;&#27425;&#31995;&#32479;&#35843;&#29992;&#30340; Tx &#21512;&#24182;&#25104;&#19968;&#20010;&#65292;&#20943;&#23569; log &#30340;&#22823;&#23567;</li>
<li class=" ml-8">jbd: &#23450;&#26399; write back</li>
</ul>
</li>
<li class=" ml-8">Checksum (ext4)<ul class=" list-disc font-serif">
<li class=" ml-8">&#19981;&#20877;&#26631;&#35760; TxBegin/TxEnd</li>
<li class=" ml-8">&#30452;&#25509;&#26631;&#35760; Tx &#30340;&#38271;&#24230;&#21644; checksum</li>
</ul>
</li>
<li class=" ml-8">Metadata journaling (ext4 default)<ul class=" list-disc font-serif">
<li class=" ml-8">&#25968;&#25454;&#21344;&#30913;&#30424;&#20889;&#20837;&#30340;&#32477;&#22823;&#37096;&#20998;<ul class=" list-disc font-serif">
<li class=" ml-8">&#21482;&#23545; inode &#21644; bitmap &#20570; journaling &#21487;&#20197;&#25552;&#39640;&#24615;&#33021;</li>
</ul>
</li>
<li class=" ml-8">&#20445;&#35777;&#25991;&#20214;&#31995;&#32479;&#30340;&#30446;&#24405;&#32467;&#26500;&#26159;&#19968;&#33268;&#30340;&#65307;&#20294;&#25968;&#25454;&#21487;&#33021;&#20002;&#22833;</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="metadata-journaling" class=" text-xl mt-2 pb-2 font-sans">Metadata Journaling</h2>
<p class=" font-serif my-1">&#20174;&#24212;&#29992;&#35270;&#35282;&#26469;&#30475;&#65292;&#25991;&#20214;&#31995;&#32479;&#30340;&#34892;&#20026;&#21487;&#33021;&#24456;&#24618;&#24322;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#21508;&#31867;&#31995;&#32479;&#36719;&#20214; (git, sqlite, gdbm, ...) &#19981;&#24184;&#20013;&#25307;<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://cn.bing.com/search?q=All+file+systems+are+not+created+equal%3A+On+the+complexity+of+crafting+crash-consistent+applications&amp;form=APMCS1&amp;PC=APMC" class=" text-amber-900">All file systems are not created equal: On the complexity of crafting crash-consistent applications</a> (OSDI'14)</li>
<li class=" ml-8">(os-workbench &#37324;&#30340;&#23567;&#31192;&#23494;)</li>
</ul>
</li>
<li class=" ml-8"><a href="https://zhuanlan.zhihu.com/p/25188921" class=" text-amber-900">&#26356;&#22810;&#30340;&#24212;&#29992;&#31243;&#24207;&#21487;&#33021;&#21457;&#29983; data loss</a><ul class=" list-disc font-serif">
<li class=" ml-8">&#25105;&#20204;&#30340;&#24037;&#20316;: GNU coreutils, gmake, gzip, ... &#20063;&#26377;&#38382;&#39064;</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/2950290.2950327" class=" text-amber-900">Crash consistency validation made easy</a> (FSE'16)</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">&#26356;&#20026;&#19968;&#21171;&#27704;&#36920;&#30340;&#26041;&#26696;&#65306;TxOS</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">xbegin/xend/xabort &#31995;&#32479;&#35843;&#29992;&#23454;&#29616;&#36328; syscall &#30340; &#8220;all-or-nothing&#8221;<ul class=" list-disc font-serif">
<li class=" ml-8">&#24212;&#29992;&#22330;&#26223;&#65306;&#25968;&#25454;&#26356;&#26032;&#12289;&#36719;&#20214;&#26356;&#26032;&#12289;check-use&#8230;&#8230;</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/1629575.1629591" class=" text-amber-900">Operating systems transactions</a> (SOSP'09)</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">&#24635;&#32467;</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">&#24635;&#32467;</h2>
<p class=" font-serif my-1">&#26412;&#27425;&#35838;&#22238;&#31572;&#30340;&#38382;&#39064;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><strong>Q</strong>: &#22914;&#20309;&#20445;&#35777;&#25345;&#20037;&#25968;&#25454;&#30340;&#21487;&#38752;&#24615;&#65311;<ul class=" list-disc font-serif">
<li class=" ml-8">&#30828;&#20214;&#20887;&#20313;&#65306;RAID</li>
<li class=" ml-8">&#36719;&#20214;&#23481;&#38169;&#65306;fsck &#21644; journaling</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">Takeaway messages</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#22810;&#20010; bwrite &#19981;&#20445;&#35777;&#39034;&#24207;&#21644;&#21407;&#23376;&#24615;</li>
<li class=" ml-8">Journaling: &#25968;&#25454;&#32467;&#26500;&#30340;&#20004;&#20010;&#35270;&#35282;<ul class=" list-disc font-serif">
<li class=" ml-8">&#30495;&#23454;&#30340;&#25968;&#25454;&#32467;&#26500;</li>
<li class=" ml-8">&#25191;&#34892;&#30340;&#21382;&#21490;&#25805;&#20316;</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="end" class=" text-2xl mt-2 font-sans">End.</h1></div></div></div>
        
      
      </section>
    
    </section>
  
</div>
</div>

<script src="../../../static/reveal/reveal.js"></script>
<script>
  Reveal.initialize({
    
    width: 1024, height: 768,
    
    slideNumber: 'c/t',
    controlsTutorial: false,
    progress: false,
    hash: true,
    center: false,
    autoAnimateUnmatched: true,
    autoAnimateEasing: 'ease-out',
    autoAnimateDuration: 0.3,
    transitionSpeed: 'fast'
  });
</script>


</body>

</html>