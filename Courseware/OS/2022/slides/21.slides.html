<!DOCTYPE html><html class="h-100">


<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com/"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // â€¢ auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // â€¢ rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="../../../static/reveal/reveal.css">
<link rel="stylesheet" href="../../../static/reveal/theme/simple.css" id="theme">

<style>
.reveal .slide-number {
  font-size: 26px;
  border-radius: 5px;
  background-color: rgba(0, 0, 0, .3);
}

.reveal .full-screen {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
}

.reveal .slides {
  border: 1.5px #ddd solid;
  border-radius: 7px;
  text-align: left;
  font-weight: 300;
}

.reveal h1, .reveal h2, .reveal h3, .reveal h4 {
  font-family: 'Lato', 'SimHei', 'STXihei', 'Droid Sans';
  font-weight: 400;
}

.reveal p, .reveal li, .reveal center {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Droid Sans';
}

.reveal li + li {
  margin-top: 10px;
}

.reveal ul {
  display: block;
  margin-right: 15px;
}

.reveal p, .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5 {
  padding:  0 25px 0 25px;
}

.reveal table {
  font-size: 32px;
  font-family: 'Lato', 'STHeiti', 'SimHei', 'Sans Serif';
  margin-top: 15px;
  margin-bottom: 15px;
}

.reveal th {
  background-color: #eee;
}

.reveal tr:nth-child(even) {
  background-color: #efffff;
}

.reveal h1,
.reveal h2,
.reveal h3,
.reveal h4,
.reveal h5,
.reveal h6 {
  text-align: left;
  margin: 0 0 20px 0;
 color: #222; 
  font-weight: 400;
  line-height: 1.2;
  letter-spacing: normal;
}



.reveal h1 {
  margin: 0 10 0 10;
  font-size: 60px;
}
.reveal .middle h1 {
  text-align: center;
}

.reveal h2 {
  font-size: 48px;
  border-bottom: 2px solid rgb(106, 0, 95);
  padding-bottom: 5px;
}
.reveal h3 { font-size: 1.15em; }
.reveal h4 { font-size: 1.05em; }

.reveal .center {
  text-align: center;
}

.reveal .middle {
  height: 728px;
  display: flex;
  align-items: center;
  width: 100%;
}

.reveal pre {
  font-size: 28px;
 
  background-color: #eee;

  border-radius: 3mm;
  padding: 10px 10px 10px 10px;
}

.reveal pre code {
  max-height: none;
}

.reveal code {
  font-family: 'Inconsolata', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif', Monospace;
}

.reveal .middle blockquote {
  text-align: center;
  color: rgb(106, 0, 95);
  background: none;
  box-shadow: none;
}

.reveal .middle blockquote a {
  color: inherit;
}

.reveal blockquote p, .reveal blockquote li {
  font-family: 'Lato', 'AR PL Ukai CN', 'STKaiti', 'KaiTi', 'Sans Serif';
}

section .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.reveal .author-block {
  margin: 75px 0 35px 0;
}
.reveal .author-affiliation img {
  margin: 15px 0 0 0;
}
.reveal .author-block p, .reveal .author-affiliation p  {
  font-family: 'Kaiti', 'STKaiti', 'Serif', 'Times', 'Times New Roman';
  margin-block-start: 0em;
  margin-block-end: 0em;
}
.reveal .author-affiliation {
  display: inline-block;
  font-size: 90%;
}
.reveal hr {
  border: 10px solid rgba(0, 0, 0, 0);
}
.reveal li {
  margin-top: 10px;
}
</style>

  <title>æ“ä½œç³»ç»Ÿè®¾è®¡</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div class="reveal">
<div class="slides">
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">æ“ä½œç³»ç»Ÿè®¾è®¡</h1>
<p class=" font-serif my-1"><include src="Slides_Author/index.html"><div><div class="py-16">
<p class=" font-serif my-1"><a href="http://ics.nju.edu.cn/~jyy" class=" text-amber-900">è’‹ç‚å²©</a></p>
</div>
<div class="row">
<div class="author-affiliation">
    <a href="http://www.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">ã€€ã€€å—äº¬å¤§å­¦ã€€ã€€</p>
    <img class="inline-img h-24" src="../../../static/img/nju-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
   <a href="http://cs.nju.edu.cn/" class=" text-amber-900"><p class=" font-serif my-1">è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ç³»</p>
    <img class="inline-img h-24" src="../../../static/img/njucs-logo.jpg" style="display: inline-block;"></a>
  </div>
<div class="author-affiliation">
    <a href="https://cs.nju.edu.cn/ics/" class=" text-amber-900"><p class=" font-serif my-1">è®¡ç®—æœºè½¯ä»¶ç ”ç©¶æ‰€</p>
    <img class="inline-img h-24" src="../../../static/img/ics-logo.png" style="display: inline-block;"></a>
  </div>
</div></div></include></p></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="overview" class=" text-xl mt-2 pb-2 font-sans">Overview</h2>
<p class=" font-serif my-1">å¤ä¹ </p>
<ul class=" list-disc font-serif">
<li class=" ml-8">æ“ä½œç³»ç»Ÿè®¾è®¡ï¼šä¸€ç»„å¯¹è±¡ + è®¿é—®å¯¹è±¡çš„ API</li>
<li class=" ml-8">æ“ä½œç³»ç»Ÿå®ç°ï¼šä¸€ä¸ª C ç¨‹åºå®ç°ä¸Šé¢çš„è®¾è®¡</li>
</ul>
<hr>
<p class=" font-serif my-1">æœ¬æ¬¡è¯¾å›ç­”çš„é—®é¢˜</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><strong>Q</strong>: æ“ä½œç³»ç»Ÿåˆ°åº•åº”è¯¥æä¾›ä»€ä¹ˆå¯¹è±¡å’Œ APIï¼Ÿ</li>
</ul>
<hr>
<p class=" font-serif my-1">æœ¬æ¬¡è¯¾ä¸»è¦å†…å®¹</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Micro/Exo/Unikernel</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">æ“ä½œç³»ç»Ÿé‡Œåˆ°åº•è¯¥æœ‰ä»€ä¹ˆï¼Ÿ</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="2022425" class=" text-xl mt-2 pb-2 font-sans">2022.4.25 å°å­¦ç”Ÿåˆå‡ºæ–°äº§å“äº†</h2>
<p class=" font-serif my-1">è¿™æ¬¡æ”¯æŒäº†åˆ†é¡µå’Œå›¾å½¢ç•Œé¢ (ä¼¼ä¹æ˜¯æ¬è¿äº†ä¸€äº›ç´ æï¼Ÿ)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">L2: tty å’Œ fb é©±åŠ¨ (tty æ˜¯é€åƒç´ ç»˜åˆ¶çš„)</li>
<li class=" ml-8">L3: 9 ä¸ªç³»ç»Ÿè°ƒç”¨ (kputc, fork, wait, exit, kill, mmap, ...)</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/min0911-os.jpg" width="700px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">è«è¦æ…Œï¼šä½ ä»¬æ˜¯å¤§å­¦ç”Ÿå•Š ğŸ˜‚</h2>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/eager-for-power.jpg" width="800px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">ä¸Šè¯¾è°ˆçš„ä¸èƒ½ç§°ä¸ºçœŸæ­£çš„ â€œæ“ä½œç³»ç»Ÿâ€</h2>
<p class=" font-serif my-1">å‘æ‰¬å¤§å­¦ç”Ÿ RTFM & RTFSC çš„å…‰è£ä¼ ç»Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">èƒ½å¤Ÿæ„è¯†åˆ°è¿™ä¸€ç‚¹çš„ä¸­/å°å­¦ç”Ÿå°±èƒ½æˆä¸ºé¡¶çº§çš„ç¨‹åºå‘˜</li>
</ul>
<hr>
<p class=" font-serif my-1"><a href="https://pubs.opengroup.org/onlinepubs/9699919799/mindex.html" class=" text-amber-900">The Open Group Base Specifications Issue 7 (2018 Ed.)</a></p>
<ul class=" list-disc font-serif">
<li class=" ml-8">XBD: Base Definitions</li>
<li class=" ml-8">XSH: System Interfaces</li>
<li class=" ml-8">XCU: Shell & Utilities</li>
<li class=" ml-8">XRAT: Rationale<ul class=" list-disc font-serif">
<li class=" ml-8">è¿™æ˜¯éå¸¸å…³é”®çš„ï¼šä¸ä»…å‘Šè¯‰ â€œæ˜¯ä»€ä¹ˆâ€ï¼Œè¿˜æœ‰ â€œä¸ºä»€ä¹ˆâ€</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1"><a href="https://docs.microsoft.com/en-us/windows/win32/apiindex/windows-api-list" class=" text-amber-900">Windows API Index</a></p>
<ul class=" list-disc font-serif">
<li class=" ml-8">å’Œ POSIX ç›¸å½“ä¸åŒçš„ä¸€ç»„è®¾è®¡</li>
<li class=" ml-8">â€œå·¥ä¸šâ€ v.s. â€œé»‘å®¢â€ (PowerShell v.s. bash)</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">å†°å±±çš„ä¸€è§’</h2>
<p class=" font-serif my-1">API æ„å‘³ç€å¯ä»¥äº’ç›¸æ¨¡æ‹Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Windows Subsystem for Linux (WSL)ï¼Œå¤§å®¶éƒ½åœ¨ç”¨<ul class=" list-disc font-serif">
<li class=" ml-8">WSL1: ç›´æ¥ç”¨ Windows åŠ è½½ ELF æ–‡ä»¶</li>
<li class=" ml-8">WSL2: è™šæ‹Ÿæœº</li>
</ul>
</li>
<li class=" ml-8">Linux Subsystem for Windows (Wine)</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/wined3.jpg" width="600px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="contd" class=" text-xl mt-2 pb-2 font-sans">å†°å±±çš„ä¸€è§’ (cont'd)</h2>
<p class=" font-serif my-1">æ“ä½œç³»ç»Ÿé»˜é»˜å¸®ä½ æ‰¿è½½äº†æ›´å¤š</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://dl.acm.org/doi/abs/10.1145/1629575.1629591" class=" text-amber-900">Operating system transactions</a> (SOSP'09)<ul class=" list-disc font-serif">
<li class=" ml-8">åœ¨ Linux 2.6.22 ä¸Šå®ç°</li>
<li class=" ml-8">å¯¹ Kernel ç ´åæ€§å¤ªå¤§ï¼Œä¸å¤ªå¯èƒ½ç»´æŠ¤å¾—ä¸‹å»</li>
</ul>
</li>
<li class=" ml-8"><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/kernel/when-to-use-kernel-mode-ktm" class=" text-amber-900">Windows KTM</a>, since Windows Vista (2007)<ul class=" list-disc font-serif">
<li class=" ml-8">å¯¹ï¼Œä½ æ²¡çœ‹é”™ï¼Œæ˜¯ Windows Vista</li>
<li class=" ml-8">ä¸–ç•Œæœ€å¼ºã€éª‚å£°æœ€å¤§ï¼Œæ‚„ç„¶è½å¹•</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">å°ç»“ï¼šæ“ä½œç³»ç»Ÿè®¾è®¡</h2>
<p class=" font-serif my-1">æ“ä½œç³»ç»Ÿ = å¯¹è±¡ + API</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">æ‰¿è½½äº†è½¯ä»¶çš„ â€œä¸€åˆ‡éœ€è¦â€</li>
<li class=" ml-8"><a href="https://www.bilibili.com/video/BV1aY411P7e1" class=" text-amber-900">ä¸­å›½æµ·å†›èˆªæ¯å®£ä¼ ç‰‡</a></li>
</ul>
<p class=" font-serif my-1"></p><center>
<img alt="" class="inline" src="../../../pages/ICS/2021/img/CV41.jpg" width="500"> <img alt="" class="inline" src="../../../pages/ICS/2021/img/CV41-internal.jpg" width="492px">
</center></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">å¦‚ä½•è¿ˆå‡ºèµ°å‘æ“ä½œç³»ç»Ÿçš„ç¬¬ä¸€æ­¥ï¼Ÿ</h2>
<p class=" font-serif my-1">ç†è§£è€ç³»ç»Ÿæ˜¯å¦‚ä½•å®ç°ã€é‡åˆ°æ€æ ·çš„é—®é¢˜</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">xv6; å¶å°”è®²ä¸€äº›æ–°ç‰¹æ€§</li>
<li class=" ml-8">ç„¶åï¼šRTFM, RTFSC</li>
</ul>
<p class=" font-serif my-1"></p><center>
<img alt="" class="inline" src="../../../pages/ICS/2021/img/CV-1.jpg" width="500"> <img alt="" class="inline" src="../../../pages/ICS/2021/img/Santa-Maria.jpg" width="323px">
</center></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="microkernel" class=" text-2xl mt-2 font-sans">Microkernel</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="less-is-more" class=" text-xl mt-2 pb-2 font-sans">Less is More</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">å…¬ç†ï¼šæ²¡æœ‰å®Œç¾çš„ç¨‹åºå‘˜ã€‚</p>
<p class=" font-serif my-1">æ¨è®ºï¼š<red>è¶Šå°çš„ç³»ç»Ÿï¼Œé”™è¯¯å°±è¶Šå°‘ã€‚</red></p>
</blockquote>
<p class=" font-serif my-1">C ä½œä¸ºä¸€ä¸ªæœ‰ Undefined Behavior çš„è¯­è¨€ï¼Œæ˜¯å¤æ‚ç³»ç»Ÿçš„ç¾éš¾</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Signed integer overflow (Linux Kernel ä½¿ç”¨äº† -fwrapv)</li>
<li class=" ml-8">Data race</li>
<li class=" ml-8">Memory error<ul class=" list-disc font-serif">
<li class=" ml-8">libpng é«˜å±æ¼æ´ (ä¸€å¼ å›¾å·èµ°ä½ çš„å¯†ç )<ul class=" list-disc font-serif">
<li class=" ml-8">æ•´æ•°æº¢å‡ºåç©ºæ ¼ keyword è¯»å–è¿›ç¨‹æ•°æ®</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">Microkernel (å¾®å†…æ ¸) åº”è¿è€Œç”Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><red>æŠŠå°½å¯èƒ½å¤šçš„åŠŸèƒ½éƒ½ç”¨æ™®é€šè¿›ç¨‹å®ç°</red> (å¤±æ•ˆéš”ç¦»åœ¨ â€œè¿›ç¨‹â€ çº§)</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">è¯•ç€ç”¨æ™®é€šè¿›ç¨‹åšæ›´å¤šçš„äº‹</h2>
<p class=" font-serif my-1"><a href="../../../pages/OS/2022/demos/sh-xv6.c" class=" text-amber-900">sh-xv6.c</a> åˆ°åº•æ‰§è¡Œäº†å“ªäº› â€œå°±ç®—ä¸¢ç»™å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿˜å¾—è¯·æ±‚æ“ä½œç³»ç»Ÿâ€ çš„æ“ä½œï¼Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">è¿›ç¨‹ (çŠ¶æ€æœº) ç®¡ç†ä¼¼ä¹ç»•ä¸å¼€<ul class=" list-disc font-serif">
<li class=" ml-8">fork/spawn; exit</li>
</ul>
</li>
<li class=" ml-8">åŠ è½½å™¨ <a href="../../../pages/OS/2022/demos/loader-static.c" class=" text-amber-900">loader-static.c</a> (execve) ä¼¼ä¹ä¸å¿…è¦<ul class=" list-disc font-serif">
<li class=" ml-8">mmap ä¼¼ä¹ç»•ä¸å¼€</li>
</ul>
</li>
<li class=" ml-8">ç»ˆç«¯ (tty) å¯ä»¥æ”¾åœ¨è¿›ç¨‹é‡Œ<ul class=" list-disc font-serif">
<li class=" ml-8">è®© â€œé©±åŠ¨è¿›ç¨‹â€ èƒ½è®¿é—® memory-mapped register å°±è¡Œ</li>
<li class=" ml-8">æˆ–è€…æä¾›ä¸€ä¸ª mmio ç³»ç»Ÿè°ƒç”¨</li>
</ul>
</li>
<li class=" ml-8">æ–‡ä»¶ç³»ç»Ÿ (open, close, read, write, ...)<ul class=" list-disc font-serif">
<li class=" ml-8">è¿›ç¨‹åªè¦æœ‰è®¿é—®ç£ç›˜çš„æƒé™ï¼Œåœ¨ç£ç›˜ä¸Šåšä¸ªæ•°æ®ç»“æ„ä¸æˆé—®é¢˜</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="microkernel" class=" text-xl mt-2 pb-2 font-sans">Microkernel (å¾®å†…æ ¸)</h2>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/microkernel.jpg" width="1000px"></p>
<hr>
<p class=" font-serif my-1">å¾®å†…æ ¸ (microkernel)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">åªæŠŠ â€œä¸èƒ½æ”¾åœ¨ç”¨æˆ·æ€â€ çš„ä¸œè¥¿ç•™åœ¨å†…æ ¸é‡Œ<ul class=" list-disc font-serif">
<li class=" ml-8">çŠ¶æ€æœº (æ‹¥æœ‰å¯„å­˜å™¨å’Œåœ°å€ç©ºé—´çš„æ‰§è¡Œæµ)</li>
<li class=" ml-8">çŠ¶æ€æœºä¹‹é—´çš„åä½œæœºåˆ¶ (è¿›ç¨‹é—´é€šä¿¡)</li>
<li class=" ml-8">æƒé™ç®¡ç† (ä¾‹å¦‚è®¾å¤‡è®¿é—®)</li>
</ul>
</li>
<li class=" ml-8">èµ‹äºˆè¿›ç¨‹æœ€å°‘çš„æƒé™ï¼Œå°±èƒ½é™ä½é”™è¯¯å¸¦æ¥çš„å½±å“</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="minix" class=" text-xl mt-2 pb-2 font-sans">Minix: å¦ä¸€ä¸ªæ”¹å˜ä¸–ç•Œçš„æ“ä½œç³»ç»Ÿ</h2>
<p class=" font-serif my-1"><img alt="" class="float-right" src="../../../pages/OS/img/minix2-book.jpg" width="220px"></p>
<p class=" font-serif my-1">Minix: å®Œå…¨ç”¨äºæ•™å­¦çš„çœŸå®æ“ä½œç³»ç»Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">by Andrew S. Tanenbaum</li>
</ul>
<hr>
<p class=" font-serif my-1">å¹´è½»äººçš„ç¬¬ä¸€ä¸ª â€œå…¨åŠŸèƒ½â€ æ“ä½œç³»ç»Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Minix1 (1987): UNIXv7 å…¼å®¹<ul class=" list-disc font-serif">
<li class=" ml-8">Linus å®ç° Linux çš„èµ·ç‚¹</li>
</ul>
</li>
<li class=" ml-8"><a href="http://download.minix3.org/previous-versions/Intel-2.0.4/" class=" text-amber-900">Minix2</a> (1997): POSIX å…¼å®¹<ul class=" list-disc font-serif">
<li class=" ml-8">æ›´åŠ å®Œå¤‡çš„ç³»ç»Ÿï¼Œä¹¦åé™„å…¨éƒ¨å†…æ ¸ä»£ç </li>
</ul>
</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="float-right" src="../../../pages/OS/img/minix3-desktop.png" width="240px"></p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="http://minix3.org/" class=" text-amber-900">Minix3</a> (2006): POSIX/NetBSD å…¼å®¹<ul class=" list-disc font-serif">
<li class=" ml-8">ä¸€åº¦æ˜¯ä¸–ç•Œä¸Šåº”ç”¨æœ€å¹¿çš„æ“ä½œç³»ç»Ÿ<ul class=" list-disc font-serif">
<li class=" ml-8">Intel ME äººæ‰‹ä¸€ä¸ª</li>
</ul>
</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="minix3-architecture" class=" text-xl mt-2 pb-2 font-sans">Minix3 Architecture</h2>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/minixarch.png" width="900px"></p>
<ul class=" list-disc font-serif">
<li class=" ml-8">Minix2 æ›´æç«¯ä¸€äº›ï¼Œåªæœ‰ send å’Œ receive ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨<ul class=" list-disc font-serif">
<li class=" ml-8">ä¸»è¦ç”¨æ¥å®ç° RPC (remote procedure call)</li>
<li class=" ml-8">æ“ä½œç³»ç»Ÿè¿˜æ˜¯æ“ä½œç³»ç»Ÿï¼Œä½†è·¨æ¨¡å—è°ƒç”¨ä¼šè·¨è¶Šè¿›ç¨‹è¾¹ç•Œ</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">å†å‘å‰èµ°ä¸€å°æ­¥</h2>
<p class=" font-serif my-1">å¬è¯´ â€œå¾®å†…æ ¸â€ æœ‰æ›´å¥½çš„å¯é æ€§ï¼Ÿ</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">é‚£æˆ‘ä»¬èƒ½ä¸èƒ½è¯æ˜å®ƒçœŸçš„ â€œååˆ†å¯é â€ï¼Ÿ<ul class=" list-disc font-serif">
<li class=" ml-8">å¯¹äºä»»ä½•è¾“å…¥ã€ä»»ä½•æ‰§è¡Œè·¯å¾„</li>
<li class=" ml-8">æ²¡æœ‰ memory error</li>
<li class=" ml-8">ä¸ä¼š crashâ€¦â€¦</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1"><object alt="" class="float-right" src="../../../pages/OS/img/sel4-logo.svg" width="300px" data="../../../pages/OS/img/sel4-logo.svg"></object></p>
<p class=" font-serif my-1">seL4</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ª verified micorkernel<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://sel4.systems/About/seL4-whitepaper.pdf" class=" text-amber-900">Whitepaper</a> (åˆå­¦è€…å‹å¥½ï¼Œååˆ†æ¨è)</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/2560537" class=" text-amber-900">Comprehensive formal verification of an OS microkernel</a> (TOCS'14)</li>
</ul>
</li>
<li class=" ml-8">æœ‰ä¸€ä¸ªéå¸¸ä¼˜é›…çš„ capability æœºåˆ¶</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="sel4" class=" text-xl mt-2 pb-2 font-sans">seL4 è¯æ˜æ€è·¯</h2>
<p class=" font-serif my-1">é¦–å…ˆï¼Œç”¨é€‚åˆæè¿°è¡Œä¸ºçš„è¯­è¨€å»ºä¸€ä¸ªæ¨¡å‹ (seL4 æœ‰ä¸¤å±‚æ¨¡å‹)</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="k">def</span> <span class="nf">rr_sched</span><span class="p">(</span><span class="n">cpu</span><span class="p">):</span>
    <span class="n">cpu</span><span class="o">.</span><span class="n">threads</span> <span class="o">=</span> <span class="n">cpu</span><span class="o">.</span><span class="n">threads</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">cpu</span><span class="o">.</span><span class="n">threads</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">anything_you_need</span>
    <span class="k">return</span> <span class="n">cpu</span><span class="o">.</span><span class="n">threads</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div>

<p class=" font-serif my-1">å†å†™ä¸€ä»½ C ä»£ç </p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="../../../pages/OS/2022/demos/thread-os.c" class=" text-amber-900">thread-os.c</a><ul class=" list-disc font-serif">
<li class=" ml-8">æˆ‘ä»¬å°±æœ‰äº†ä¸¤ä¸ªçŠ¶æ€æœº (Python å’Œ C ä»£ç çš„å½¢å¼è¯­ä¹‰)</li>
</ul>
</li>
</ul>
<p class=" font-serif my-1">å°±å¯ä»¥å»è¯æ˜æ“ä½œç³»ç»Ÿçš„ functional correctness å•¦ï¼</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><red>è¯æ˜ä¸¤ä¸ªæ•°å­¦å¯¹è±¡ (çŠ¶æ€æœº) å¯è§‚æµ‹è¡Œä¸ºçš„ç­‰ä»·æ€§</red></li>
<li class=" ml-8">å‰©ä¸‹å°±æ˜¯å»è§£å†³é‡åˆ°çš„å„ç§æŠ€æœ¯é—®é¢˜ (æ›´é‡è¦çš„æ˜¯<red>æ•¢ä¸æ•¢å»åš</red>)<ul class=" list-disc font-serif">
<li class=" ml-8">Non-trivial; ä½†ä¹Ÿä¸æ˜¯ â€œç¥æ¥ä¹‹ç¬”â€ (incremental work)</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">æˆ‘ä»¬ç½®èº«çš„æ—¶ä»£</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="linus-andy-1992" class=" text-xl mt-2 pb-2 font-sans">Linus å’Œ Andy çš„æ¿€çƒˆè®ºæˆ˜ (1992)</h2>
<p class=" font-serif my-1">â€œ<a href="https://www.oreilly.com/openbook/opensources/book/appa.html" class=" text-amber-900">Linux is obsolete</a>â€</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">ä¸»è¦æ‰¹è¯„å†…æ ¸æ¶æ„è®¾è®¡ä¸åˆç†ã€ç§»æ¤æ€§é—®é¢˜</li>
<li class=" ml-8">30 å¹´è¿‡å»äº†ï¼Œè®¸å¤šé—®é¢˜å¾—åˆ°äº†è§£å†³ï¼›è®¸å¤šè¿˜æ²¡æœ‰</li>
</ul>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/ken-quote.png" width="800px"></p></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="exokernel" class=" text-xl mt-2 pb-2 font-sans">Exokernel</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">â€œThe essential observation about abstractions in traditional operating systems is that they are overly general.â€</p>
</blockquote>
<p class=" font-serif my-1">æ“ä½œç³»ç»Ÿå°±ä¸åº”è¯¥æœ‰ä»»ä½•ç­–ç•¥</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">åªåº”è¯¥ç®¡ç¡¬ä»¶èµ„æºçš„æœ€å°è™šæ‹ŸåŒ–</li>
<li class=" ml-8">Expose allocation, expose names, expose revocation<ul class=" list-disc font-serif">
<li class=" ml-8">å†…æ ¸é‡Œç”šè‡³è¿ â€œè¿›ç¨‹â€ çš„æ¦‚å¿µéƒ½æ²¡æœ‰ï¼Œåªæœ‰æ—¶é—´ç‰‡<ul class=" list-disc font-serif">
<li class=" ml-8">è°ƒåº¦ç­–ç•¥å®Œå…¨åœ¨ libOS ä¸­å®ç°</li>
</ul>
</li>
</ul>
</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/abs/10.1145/224057.224076" class=" text-amber-900">Exokernel: An operating system architecture for application-level resource management</a> (SOSP'95)</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="unikernel-libos" class=" text-xl mt-2 pb-2 font-sans">Unikernel: libOS çš„å¤æ´»</h2>
<p class=" font-serif my-1">ä»Šå¤©æˆ‘ä»¬æœ‰è™šæ‹Ÿæœº (å’Œç¡¬ä»¶è™šæ‹ŸåŒ–) äº†</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">ä¸ºä»€ä¹ˆä¸ç›´æ¥è®© Lab2 è·‘åº”ç”¨ç¨‹åºå‘¢ï¼Ÿ<ul class=" list-disc font-serif">
<li class=" ml-8">åº”ç”¨ä»£ç ç›´æ¥å’Œ klib, AbstractMachine, Lab ä»£ç é™æ€é“¾æ¥</li>
<li class=" ml-8">ä»»ä½•æ“ä½œ (åŒ…æ‹¬ I/O) éƒ½å¯ä»¥ç›´æ¥åš</li>
</ul>
</li>
</ul>
<hr>
<p class=" font-serif my-1">Unikernel: å†…æ ¸å¯ä»¥éå¸¸å° (åº”ç”¨ä¸éœ€è¦çš„ç‰¹æ€§éƒ½ç›´æ¥åˆ é™¤)</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><a href="https://www.includeos.org/" class=" text-amber-900">includeOS</a> (C++); <a href="http://runtimejs.org/" class=" text-amber-900">runtime.js</a> (JavaScript); <a href="https://mirage.io/" class=" text-amber-900">Mirage</a> (OCaml)</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/2541883.2541895" class=" text-amber-900">Unikernels: The rise of the virtual library operating system</a> (CACM'14)</li>
<li class=" ml-8"><a href="https://dl.acm.org/doi/10.1145/3447786.3456248" class=" text-amber-900">Unikraft: Fast, specialized unikernels the easy way</a> (EuroSys'21, Best Paper Award ğŸ…)</li>
</ul></div>
        
      
      </section>
    
    </section>
   
    <section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="_1" class=" text-2xl mt-2 font-sans">æ€»ç»“</h1></div></div></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><h2 id="_1" class=" text-xl mt-2 pb-2 font-sans">æ€»ç»“</h2>
<p class=" font-serif my-1">æœ¬æ¬¡è¯¾å›ç­”çš„é—®é¢˜</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><strong>Q</strong>: æ“ä½œç³»ç»Ÿåˆ°åº•åº”è¯¥æä¾›ä»€ä¹ˆå¯¹è±¡å’Œ APIï¼Ÿ</li>
</ul>
<hr>
<p class=" font-serif my-1">Take-away messages</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">â€œæ“ä½œç³»ç»Ÿâ€ çš„å«ä¹‰éšåº”ç”¨è€Œå˜<ul class=" list-disc font-serif">
<li class=" ml-8">å¯ä»¥å¤§è€Œå…¨ (Linux/Windows API)</li>
<li class=" ml-8">å¯ä»¥åªæœ‰æœ€å°‘çš„ç¡¬ä»¶æŠ½è±¡ (Microkernel)</li>
<li class=" ml-8">å¯ä»¥æ²¡æœ‰ç”¨æˆ·æ€ (Unikernel)</li>
</ul>
</li>
<li class=" ml-8">äº’è”ç½‘æ—¶ä»£<ul class=" list-disc font-serif">
<li class=" ml-8">ä»äº•é‡Œèµ°å‡ºå»ï¼šRTFM, RTFSC</li>
<li class=" ml-8">ç„¶åå»æ”¹å˜è¿™ä¸ªä¸–ç•Œ</li>
</ul>
</li>
</ul></div>
        
      
      </section>
    
      
      <section>
      

      
        
        <div><div class="center middle"><div style="width:100%"><h1 id="end" class=" text-2xl mt-2 font-sans">End.</h1></div></div></div>
        
      
      </section>
    
    </section>
  
</div>
</div>

<script src="../../../static/reveal/reveal.js"></script>
<script>
  Reveal.initialize({
    
    width: 1024, height: 768,
    
    slideNumber: 'c/t',
    controlsTutorial: false,
    progress: false,
    hash: true,
    center: false,
    autoAnimateUnmatched: true,
    autoAnimateEasing: 'ease-out',
    autoAnimateDuration: 0.3,
    transitionSpeed: 'fast'
  });
</script>


</body>


</html>