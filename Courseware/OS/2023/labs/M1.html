<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<style>
.article {
  -webkit-hyphens: auto;
}
form {
  margin-block-end: 0;
}
img {
  display: inline-block;
}
code { font-size: 85%; }
pre {
  font-size: 95%;
  line-height: 120%;
}
blockquote {
  font-size: 95%;
}
p {
  font-size: 105%;
  text-indent: 2em;
}
li {
  font-size: 105%;
}
blockquote p {
  text-indent: 0em;
}
.float-right {
  padding-left: 10px;
}
.float-left {
  padding-right: 10px;
}
a {
  color: rgb(29 78 216);
}
strong {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.box        {
  border-radius: 2px; padding: 1px 4px 2px 4px;
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
  font-size: 95%;
}
.box-blue,  .badge-primary  { background-color: rgba(66, 139, 202, 0.5); color: #1d4ed8; }
.box-green, .badge-success  { background-color: rgba(92, 184, 92, 0.5);  color: #15803d; }
.box-red,   .badge-danger   { background-color: rgba(217, 83, 79, 0.5);  color: #b91c1c; }
.box-yellow,.badge-warning  { background-color: rgba(240, 173, 78, 0.5); color: #a16207; }
.box-gray   { background-color: #a0a0a0; }

.badge {
  padding: 1 4 1 4;
  display: inline-block;
  border-radius: 0.25rem;
  border: 1px solid;
}
.message p {
  text-indent: 0em;
  margin-top: 1px;
}
.message h1, h2, h3, h4, h5 {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.message h2 {
  font-size: 120%;
  margin-top: 5px;
  margin-bottom: 2px;
}
.message li {
  list-style: disc;
  margin-left: 2em;
}
li > p {
  text-indent: 0em;
}
block-quote h4 {
  float: left;
  display: inline-block;
}
.center {
  display: block;
  margin: auto;
}
hr {
  margin-top: 20px;
  padding-bottom: 20px;
}

.fa-gradient {
	background: -webkit-gradient(linear, left top, left bottom, from(rgb(99, 27, 103)), to(#333));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

</style>


  <title>M1: &#25171;&#21360;&#36827;&#31243;&#26641; (pstree)</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div>

<div class="px-2 py-1 w-full fixed z-50 bg-gradient-to-r from-black via-purple-700 via-purple-500 shadow-lg" style="-webkit-backdrop-filter: saturate(150%) blur(4px); backdrop-filter: saturate(150%) blur(4px)">
  <form>
    <a href="../../../index.html"><span class="text-lg px-2 text-white">Yanyan's Wiki</span></a>
    <a href="../index.html"><span class="text-sm px-2 text-white">&#25805;&#20316;&#31995;&#32479; (2023)</span></a>
    <input maxlength="9" id="token-input" class="float-right appearance-none border border-transparent px-2 py-1 w-20 bg-white text-gray-700 placeholder-gray-400 shadow-md rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono" type="text" placeholder="TOKEN" oninput="login();">
  </form>
</div>

<div class="article container mx-auto md:px-8 lg:px-8 xl:px-8 2xl:px-8 shadow-lg border pb-8 pt-10 max-w-screen-md text-justify divide-y-2 divide-white">
  <div><h1 id="m1-pstree" class=" text-2xl mt-2 font-sans">M1: &#25171;&#21360;&#36827;&#31243;&#26641; (pstree)</h1>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_1" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9200; &#25130;&#27490;&#26085;&#26399;</h4>
<p class=" font-serif my-1"><strong>Soft Deadline: 2023 &#24180; 3 &#26376; 19 &#26085; 23:59:59&#12290;</strong></p>
<p class=" font-serif my-1">&#20320;&#38656;&#35201;&#39318;&#20808;&#38405;&#35835;<a href="Labs.html" class=" text-amber-900">&#23454;&#39564;&#39035;&#30693;</a>&#65292;&#20854;&#20013;&#21253;&#21547;&#20102;&#20195;&#30721;&#33719;&#21462;&#26041;&#27861;&#12289;&#25552;&#20132;&#26041;&#27861;&#12289;&#22914;&#20309;&#26597;&#30475;&#25552;&#20132;&#32467;&#26524;&#31561;&#12290;</p>
<p class=" font-serif my-1">&#22312;&#21629;&#20196;&#34892;&#20013; <code>git pull origin M1</code> &#19979;&#36733;&#26694;&#26550;&#20195;&#30721;&#12290;</p>
</blockquote>
<p class=" font-serif my-1"><span></span></p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_2" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9888;&#65039; &#23398;&#26415;&#35802;&#20449;</h4>
<p class=" font-serif my-1">&#27491;&#22914;&#35838;&#22530;&#19978;&#25152;&#35828;&#65292;&#20027;&#21160; &#8220;&#21442;&#32771;&#8221; &#20182;&#20154;&#30340;&#20195;&#30721;&#12289;&#20351;&#29992;&#20182;&#20154;&#27979;&#35797;&#29992;&#20363;&#37117;&#26159;&#19981;&#20005;&#26684;&#35201;&#27714;&#33258;&#24049;&#30340;&#34892;&#20026;&#12290;&#20026;&#20102;&#20351;&#20320;&#21464;&#24471;&#26356;&#24378;&#65292;&#36981;&#23432;&#23398;&#26415;&#35802;&#20449;&#21487;&#20197;&#20351;&#20320;&#33719;&#24471;&#30495;&#27491;&#30340;&#35757;&#32451;&#12290;&#22362;&#20449;<strong>&#35745;&#31639;&#26426;&#19990;&#30028;&#37324;&#27809;&#26377;&#29572;&#23398;</strong>&#65292;&#26080;&#35770;&#26159; C &#20195;&#30721;&#12289;&#27719;&#32534;&#20195;&#30721;&#36824;&#26159;&#22788;&#29702;&#22120;&#65292;&#37117;&#21487;&#20197;&#30475;&#20316;&#26159;&#20005;&#26684;&#30340;&#25968;&#23398;&#23545;&#35937;&#65292;&#21487;&#20197;&#20351;&#20320;&#22312;&#36935;&#21040;&#38382;&#39064;&#26102;&#23569;&#19968;&#20123;&#28966;&#36481;&#65292;&#20919;&#38745;&#19979;&#26469;&#20998;&#26512;&#19979;&#19968;&#27493;&#24212;&#35813;&#20570;&#20160;&#20040;&#12290;</p>
<p class=" font-serif my-1">&#20855;&#20307;&#21040;&#36825;&#20010;&#23454;&#39564;&#65292;&#20320;&#24212;&#24403;&#20027;&#21160;&#22320;&#36991;&#20813;&#38405;&#35835;&#20219;&#20309;&#20154; (&#21253;&#25324;&#20114;&#32852;&#32593;) &#19978;&#25171;&#21360;&#36827;&#31243;&#26641;&#25110;&#36827;&#31243;&#21015;&#34920;&#30340;&#20195;&#30721;&#65292;&#20294;&#21487;&#20197;&#26597;&#30475; API (&#22914; readdir &#31561;) &#30340;&#20351;&#29992;&#26041;&#27861;&#21644;&#20363;&#31243;&#12290;&#36935;&#21040;&#38382;&#39064;&#26102;&#23613;&#37327;&#33258;&#24049;&#35843;&#35797;&#35299;&#20915;&#65292;&#20294;&#21487;&#20197;&#21521;&#20182;&#20154;&#35831;&#25945;&#35843;&#35797;&#30340;&#25216;&#24039;&#65292;&#20363;&#22914; &#8220;&#25105;&#36935;&#21040;&#20102; XX &#29616;&#35937;&#8221;&#65292;&#20294;&#19981;&#30693;&#36947;&#19979;&#19968;&#27493;&#24212;&#35813;&#24590;&#20040;&#20570;&#12290;</p>
<p class=" font-serif my-1">&#20026;&#20102;&#30830;&#20445;&#20320;&#23545;&#25805;&#20316;&#31995;&#32479;&#26377;&#30495;&#23454;&#30340;&#20102;&#35299;&#65292;<red><strong>&#26412;&#35838;&#31243;&#31105;&#27490;&#30452;&#25509;&#20351;&#29992; AI &#29983;&#25104;&#30340;&#20195;&#30721;&#21644;&#30452;&#25509;&#22797;&#21046;&#20114;&#32852;&#32593;&#19978;&#30340;&#20195;&#30721;</strong>&#12290;</red>&#20320;&#24212;&#24403;&#20027;&#21160;&#19981;&#35201;&#27714; AI &#20889;&#20195;&#30721;&#25110;&#20174;&#20114;&#32852;&#32593;&#19978;&#22797;&#21046;&#20195;&#30721;&#65292;&#20294;&#20320;&#21487;&#20197;&#35810;&#38382; AI &#25110;&#22312;&#20114;&#32852;&#32593;&#19978;&#25628;&#32034; API &#30340;&#20351;&#29992;&#26041;&#27861;&#12290;</p>
</blockquote>
<p class=" font-serif my-1"><span></span></p>
<p class=" font-serif my-1"><oj-status course="OS2023" module="M1"><div class="divide-y divide-dashed">
    <div class="flex font-semibold">
      OS2023-M1 &#25552;&#20132;&#32467;&#26524;
    </div>
    
  </div>
</oj-status></p>
<h2 id="1" class=" text-xl mt-2 pb-2 font-sans">1. &#32972;&#26223;</h2>
<p class=" font-serif my-1">&#22240;&#20026;&#31243;&#24207;&#21487;&#20197;&#30475;&#25104;&#29366;&#24577;&#26426;&#65292;&#25805;&#20316;&#31995;&#32479;&#33021; &#8220;&#21516;&#26102;&#36816;&#34892;&#22810;&#20010;&#31243;&#24207;&#8221; &#30340;&#33021;&#21147;&#23601;&#26159;&#29366;&#24577;&#26426;&#31649;&#29702;&#30340;&#33021;&#21147;&#12290;&#33258;&#28982;&#65292;&#25805;&#20316;&#31995;&#32479;&#20063;&#24212;&#35813;&#25552;&#20379; &#8220;&#30417;&#27979;&#29366;&#24577;&#26426;&#29366;&#24577;&#8221; &#30340;&#21151;&#33021;&#65292;&#20363;&#22914;&#26174;&#31034;&#22312;&#19968;&#27573;&#26102;&#38388;&#20869;&#65292;&#21508;&#20010;&#31243;&#24207; (&#36827;&#31243;&#12289;&#29366;&#24577;&#26426;) &#30340;&#27963;&#36291;&#31243;&#24230;&#12290;&#27809;&#38169;&#65292;&#36825;&#23601;&#26159;&#22823;&#23478;&#29087;&#24713;&#30340;<a href="https://www.cyberciti.biz/tips/top-linux-monitoring-tools.html" class=" text-amber-900">&#20219;&#21153;&#31649;&#29702;&#22120;</a>&#12290;&#19979;&#38754;&#30340;&#22270;&#29255;&#23637;&#31034;&#20102; Plasma Desktop &#30340;&#20219;&#21153;&#31649;&#29702;&#22120;&#65292;&#33021;&#22815;&#26174;&#31034;&#31995;&#32479;&#36164;&#28304;&#30340;&#20351;&#29992;&#24773;&#20917;&#21644;&#36827;&#31243;&#30340;&#20449;&#24687;&#12290;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/plasma-system-monitor.png" width="500px"></p>
<p class=" font-serif my-1">&#25105;&#20204;&#21482;&#35201;&#33021;&#23454;&#29616;&#33719;&#21462;&#36827;&#31243;&#21015;&#34920;&#12289;&#36827;&#31243;&#21344;&#29992; CPU &#20869;&#23384;&#20449;&#24687;&#31561;&#65292;&#26159;&#19981;&#26159;&#25105;&#20204;&#20063;&#21487;&#20197;&#23454;&#29616;&#31867;&#20284;&#30340;&#21151;&#33021;&#21602;&#65311;&#26681;&#25454;&#12298;&#25805;&#20316;&#31995;&#32479;&#12299;&#35838;&#31243;&#37325;&#35201;&#30340;&#22522;&#26412;&#21407;&#29702;<strong>&#21512;&#29702;&#30340;&#38656;&#27714;&#19968;&#23450;&#26377;&#21512;&#36866;&#30340;&#26041;&#27861;&#28385;&#36275;</strong>&#65292;&#25805;&#20316;&#31995;&#32479;&#19968;&#23450;&#20250;&#25552;&#20379;&#36827;&#31243;&#30456;&#20851;&#30340;&#23545;&#35937;&#21644;&#33719;&#21462;&#20449;&#24687;&#30340; API&#12290;&#22914;&#26524;&#20320;&#26159;&#25805;&#20316;&#31995;&#32479;&#30340;&#35774;&#35745;&#32773;&#65292;&#20320;&#20250;&#25552;&#20379;&#24590;&#26679;&#30340; API (syscall)&#65311;</p>
<p class=" font-serif my-1">&#19968;&#20010;&#21487;&#34892;&#30340;&#24819;&#27861;&#26159;&#25805;&#20316;&#31995;&#32479;&#21487;&#20197;&#25552;&#20379;&#31867;&#20284;&#36845;&#20195;&#22120;&#30340; API&#65292;&#21487;&#20197;&#22312;&#26576;&#20010;&#26102;&#21051;&#23545;&#36827;&#31243;&#21015;&#34920;&#36827;&#34892; &#8220;&#24555;&#29031;&#8221;&#65292;&#28982;&#21518;&#31243;&#24207;&#21487;&#20197;&#36890;&#36807; API &#36845;&#20195;&#24555;&#29031;&#37324;&#30340;&#36827;&#31243;&#12290;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">Snapshot</span><span class="w"> </span><span class="o">*</span><span class="nf">CreateProcessSnapshot</span><span class="p">();</span><span class="w"> </span><span class="c1">// &#36845;&#20195;&#24320;&#22987;</span>
<span class="n">Process</span><span class="w"> </span><span class="o">*</span><span class="nf">FirstProcess</span><span class="p">(</span><span class="n">Snapshot</span><span class="w"> </span><span class="o">*</span><span class="n">snapshot</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#21462;&#24471;&#31532;&#19968;&#20010;&#36827;&#31243;</span>
<span class="n">Process</span><span class="w"> </span><span class="o">*</span><span class="nf">NextProcess</span><span class="p">(</span><span class="n">Process</span><span class="w"> </span><span class="o">*</span><span class="n">process</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#33719;&#24471;&#19979;&#19968;&#20010;&#36827;&#31243;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">ReleaseProcessSnapshot</span><span class="p">(</span><span class="n">Snapshot</span><span class="w"> </span><span class="o">*</span><span class="n">snapshot</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#36845;&#20195;&#32467;&#26463;</span>
</code></pre></div>

<p class=" font-serif my-1">&#39640;&#32423;&#35821;&#35328;&#21487;&#20197;&#36827;&#19968;&#27493;&#23553;&#35013;&#65292;&#20363;&#22914;&#20511;&#21161; WMI (Windows Management Instrumentation) &#24211;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kn">import</span> <span class="nn">wmi</span>
<span class="k">for</span> <span class="n">proc</span> <span class="ow">in</span> <span class="n">wmi</span><span class="o">.</span><span class="n">WMI</span><span class="p">()</span><span class="o">.</span><span class="n">Win32_Process</span><span class="p">():</span>
    <span class="o">...</span>
</code></pre></div>

<p class=" font-serif my-1">UNIX &#25805;&#20316;&#31995;&#32479;&#30340;&#35774;&#35745;&#32773;&#29992;&#21478;&#19968;&#31181;&#26041;&#27861;&#20351;&#24212;&#29992;&#31243;&#24207;&#33021;&#35775;&#38382;&#36827;&#31243;&#21015;&#34920;&#65306;&#25805;&#20316;&#31995;&#32479;&#20250;&#19981;&#26029;&#26356;&#26032;&#19968;&#20010;&#23545;&#35937; (&#25991;&#26412;&#25991;&#20214;) &#30340;&#20869;&#23481;&#65292;&#36825;&#26679;&#24212;&#29992;&#31243;&#24207;&#23601;&#33021;&#29992;&#25991;&#20214; API (open, read, close) &#26469;&#33719;&#21462;&#36827;&#31243;&#21015;&#34920;&#65292;&#20363;&#22914;&#22823;&#23478;&#21487;&#20197;&#29992;&#29087;&#24713;&#30340; C &#35821;&#35328; <code>FILE *</code> &#35775;&#38382;&#12290;&#20363;&#22914;&#65292;&#20170;&#22825;&#25105;&#20204;&#21487;&#20197;&#32771;&#34385;&#19968;&#20010;&#21517;&#20026; <code>/system/processes.json</code> &#30340;&#25991;&#26412;&#65292;&#27599;&#24403;&#36827;&#31243;&#21019;&#24314;&#25110;&#36864;&#20986;&#65292;&#36825;&#20010;&#25991;&#20214;&#30340;&#20869;&#23481;&#23601;&#20250;&#26356;&#26032;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"parent"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bin/init"</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"parent"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bin/bash"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p class=" font-serif my-1">UNIX &#37319;&#29992;&#20102; Everything is a File &#30340;&#35774;&#35745;&#12290;&#25442;&#21477;&#35805;&#35828;&#65292;&#25105;&#20204;&#21487;&#20197;<strong>&#25226;&#25805;&#20316;&#31995;&#32479;&#30340;&#29366;&#24577;&#21464;&#25104;&#25991;&#20214;&#31995;&#32479;&#30340;&#19968;&#37096;&#20998;</strong>&#65292;&#20174;&#32780;&#21487;&#20197;&#20351;&#29992;&#25105;&#20204;&#29087;&#24713;&#30340; read, write &#31561; API &#35775;&#38382;&#25805;&#20316;&#31995;&#32479;&#20013;&#30340;&#21508;&#31867;&#20449;&#24687;&#12290;&#22312;&#36825;&#20010;&#23454;&#39564;&#20013;&#65292;&#25105;&#20204;&#23398;&#20064; UNIX/Linux &#26159;&#22914;&#20309;&#25226;&#25805;&#20316;&#31995;&#32479;&#30340;&#29366;&#24577;&#25918;&#22312;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;&#12290;&#34429;&#28982;&#36825;&#20010;&#23454;&#39564;&#37324;&#20320;&#21482;&#38656;&#35201;&#35835;&#21462;&#36827;&#31243;&#21015;&#34920;&#21644;&#36827;&#31243;&#20043;&#38388;&#30340;&#29238;&#23376;&#20851;&#31995;&#65292;&#20294;&#29992;&#31867;&#20284;&#30340;&#21150;&#27861;&#65292;&#20063;&#21487;&#20197;&#20174; Linux &#31995;&#32479;&#20013;&#35835;&#21462;&#20986; CPU &#21344;&#29992;&#29575;&#12289;&#20869;&#23384;&#20351;&#29992;&#31561;&#20449;&#24687;&#8212;&#8212;&#20110;&#26159;&#20320;&#20063;&#21487;&#20197;&#23454;&#29616;&#33258;&#24049;&#30340;&#20219;&#21153;&#31649;&#29702;&#22120;&#20102;&#65281;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_3" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-green" style=" padding-bottom: 0;">&#10067; &#24605;&#32771;&#39064;</h4>
<p class=" font-serif my-1"><strong>&#20248;&#28857;&#21644;&#32570;&#28857;</strong></p>
<p class=" font-serif my-1">Everything is a file &#21644;&#25552;&#20379; type-safe &#30340; API &#37117;&#19981;&#26159;&#23436;&#32654;&#30340;&#12290;&#21069;&#32773;&#23545;&#20154;&#31867;&#29992;&#25143;&#26469;&#35828;&#26356;&#22909;&#29992;&#65292;&#20363;&#22914;&#21487;&#20197;&#29992; UNIX &#21629;&#20196;&#34892;&#24037;&#20855;&#20219;&#24847;&#35299;&#26512;&#32780;&#19981;&#38656;&#35201;&#20889;&#20195;&#30721;&#65292;&#20294;&#24102;&#26469;&#24456;&#22810; &#8220;&#38544;&#34255;&#30340;&#35268;&#32422;&#8221;&#65307;&#21518;&#32773;&#25226;&#35268;&#32422;&#20889;&#22312; API &#37324;&#65292;&#21487;&#20197;&#22312;&#20320;&#29359;&#38169;&#26102;&#26356;&#22909;&#22320;&#20445;&#25252;&#20320;&#65292;&#20294; &#8220;&#19978;&#25163;&#8221; &#20063;&#31245;&#31245;&#22256;&#38590;&#19968;&#20123;&#65306;Windows Kernel + GDI &#30340; Windows API &#23601;&#22312; 1,000 &#20010;&#20197;&#19978;&#12290;</p>
<p class=" font-serif my-1">&#25105;&#20204;&#39044;&#35265;&#21040;&#22823;&#35821;&#35328;&#27169;&#22411;&#21644;&#31243;&#24207;&#21512;&#25104; (&#8220;&#20302;&#20195;&#30721;&#8221;) &#25216;&#26415;&#33021;&#22815;&#20174;&#26681;&#26412;&#19978;&#25913;&#21464;&#25105;&#20204;&#24320;&#21457;&#30340;&#26041;&#24335;&#65292;&#25805;&#20316;&#31995;&#32479; API &#20250;&#36880;&#28176;&#25104;&#20026;&#19968;&#31181;&#21482;&#26377;&#24211;&#20989;&#25968;&#20351;&#29992;&#30340; &#8220;&#27719;&#32534;&#35821;&#35328;&#8221;&#12290;</p>
</blockquote>
<h2 id="2" class=" text-xl mt-2 pb-2 font-sans">2. &#23454;&#39564;&#25551;&#36848;</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_4" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#23454;&#39564;&#35201;&#27714;</h4>
<p class=" font-serif my-1"><strong>&#23454;&#29616; <code>pstree</code> &#25171;&#21360;&#36827;&#31243;&#20043;&#38388;&#30340;&#26641;&#29366;&#30340;&#29238;&#23376;&#20851;&#31995;</strong></p>
<p class=" font-serif my-1">Linux &#31995;&#32479;&#20013;&#21487;&#20197;&#21516;&#26102;&#36816;&#34892;&#22810;&#20010;&#31243;&#24207;&#12290;&#36816;&#34892;&#30340;&#31243;&#24207;&#31216;&#20026;<strong>&#36827;&#31243;</strong>&#12290;&#38500;&#20102;&#25152;&#26377;&#36827;&#31243;&#30340;&#26681;&#20043;&#22806;&#65292;&#27599;&#20010;&#36827;&#31243;&#37117;&#26377;&#23427;&#21807;&#19968;&#30340;&#29238;&#36827;&#31243;&#65292;&#20320;&#30340;&#20219;&#21153;&#23601;&#26159;&#25226;&#36825;&#26869;&#26641;&#22312;&#21629;&#20196;&#34892;&#20013;&#36755;&#20986;&#12290;&#20320;&#21487;&#20197;&#33258;&#30001;&#36873;&#25321;&#23637;&#31034;&#26641;&#30340;&#26041;&#24335; (&#20363;&#22914;&#20351;&#29992;&#32553;&#36827;&#34920;&#31034;&#29238;&#23376;&#20851;&#31995;&#65292;&#36825;&#26159;&#26368;&#23481;&#26131;&#30340;)&#12290;</p>
</blockquote>
<p class=" font-serif my-1">Linux &#31995;&#32479;&#33258;&#24102;&#20102; <code>pstree</code> &#21629;&#20196;&#65292;&#36827;&#31243;&#26641;&#20250;&#20197;&#38750;&#24120;&#28418;&#20142;&#30340;&#26684;&#24335;&#25490;&#29256; (&#27599;&#20010;&#36827;&#31243;&#30340;&#31532;&#19968;&#20010;&#23401;&#23376;&#37117;&#19982;&#23427;&#22788;&#22312;&#21516;&#19968;&#34892;&#65292;&#20043;&#21518;&#30340;&#23401;&#23376;&#20445;&#25345;&#30456;&#21516;&#30340;&#32553;&#36827;)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>systemd&#9472;&#9516;&#9472;accounts-daemon&#9472;&#9516;&#9472;{gdbus}
        &#9474;                 &#9492;&#9472;{gmain}
        &#9500;&#9472;acpid
        &#9500;&#9472;agetty
        &#9500;&#9472;atd
        &#9500;&#9472;cron
        &#9500;&#9472;dbus-daemon
        &#9500;&#9472;dhclient
        &#9500;&#9472;2*[iscsid]
        &#9500;&#9472;lvmetad
        &#9500;&#9472;lxcfs&#9472;&#9472;&#9472;10*[{lxcfs}]
        &#9500;&#9472;mdadm
        &#9500;&#9472;polkitd&#9472;&#9516;&#9472;{gdbus}
        &#9474;         &#9492;&#9472;{gmain}
        &#9500;&#9472;rsyslogd&#9472;&#9516;&#9472;{in:imklog}
        &#9474;          &#9500;&#9472;{in:imuxsock}
        &#9474;          &#9492;&#9472;{rs:main Q:Reg}
        ...
</code></pre></div>

<p class=" font-serif my-1">Linux &#30340; psmisc &#20013; <code>pstree</code> &#30340;&#23454;&#29616;&#22823;&#32422;&#26377; 1,300 &#34892;&#65292;&#25903;&#25345;&#22810;&#31181;&#21629;&#20196;&#34892;&#21442;&#25968;&#12290;&#36825;&#20010;&#23454;&#39564;&#37324;&#23454;&#29616;&#26368;&#31616;&#21333;&#30340;&#23601;&#34892;&#12290;&#22823;&#23478;&#21487;&#20197;&#20808;&#29609;&#19968;&#19979; Linux &#30340; <code>pstree</code>&#65292;&#20351;&#29992; <code>man</code> &#21629;&#20196;&#26597;&#30475; <code>pstree</code> &#25903;&#25345;&#30340;&#21151;&#33021;&#65292;&#24182;&#35797;&#19968;&#35797;&#12290;&#22312;&#36825;&#20010;&#23454;&#39564;&#20013;&#65292;&#25105;&#20204;&#38656;&#35201;&#23454;&#29616;&#23427;&#30340;&#31616;&#21270;&#29256;&#65306;</p>
<h3 id="21" class=" text-lg mt-2 pb-2 font-sans">2.1 &#24635;&#35272;</h3>
<p class=" font-serif my-1"></p><center>pstree [<u>OPTION</u>]&#8230;</center>
<h3 id="22" class=" text-lg mt-2 pb-2 font-sans">2.2 &#25551;&#36848;</h3>
<p class=" font-serif my-1">&#25226;&#31995;&#32479;&#20013;&#30340;&#36827;&#31243;&#25353;&#29031;&#29238;&#20146;-&#23401;&#23376;&#30340;&#26641;&#29366;&#32467;&#26500;&#25171;&#21360;&#21040;&#32456;&#31471;&#12290;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8"><code>-p</code> &#25110; <code>--show-pids</code>: &#25171;&#21360;&#27599;&#20010;&#36827;&#31243;&#30340;&#36827;&#31243;&#21495;&#12290;</li>
<li class=" ml-8"><code>-n</code> &#25110; <code>--numeric-sort</code>: &#25353;&#29031;pid&#30340;&#25968;&#20540;&#20174;&#23567;&#21040;&#22823;&#39034;&#24207;&#36755;&#20986;&#19968;&#20010;&#36827;&#31243;&#30340;&#30452;&#25509;&#23401;&#23376;&#12290;</li>
<li class=" ml-8"><code>-V</code> &#25110; <code>--version</code>: &#25171;&#21360;&#29256;&#26412;&#20449;&#24687;&#12290;</li>
</ul>
<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#22312;&#21629;&#20196;&#34892;&#20013;&#35266;&#23519;&#31995;&#32479;&#30340; <code>pstree</code> &#30340;&#25191;&#34892;&#34892;&#20026; (&#22914;&#25191;&#34892; <code>pstree -V</code>&#12289;<code>pstree --show-pids</code> &#31561;)&#12290;&#36825;&#20123;&#21442;&#25968;&#21487;&#33021;&#20219;&#24847;&#32452;&#21512;&#65292;&#20294;&#20320;&#19981;&#38656;&#35201;&#22788;&#29702;&#21333;&#23383;&#27597;&#21442;&#25968;&#21512;&#24182;&#30340;&#24773;&#20917;&#65292;&#20363;&#22914; <code>-np</code>&#12290;</p>
<h3 id="23" class=" text-lg mt-2 pb-2 font-sans">2.3 &#35299;&#37322;</h3>
<p class=" font-serif my-1">&#19978;&#36848;&#23454;&#39564;&#35201;&#27714;&#25551;&#36848;&#26159;&#21442;&#29031; man page &#30340;&#26684;&#24335;&#20889;&#20986;&#30340;&#65292;&#20854;&#20013;&#26377;&#24456;&#22810; UNIX &#21629;&#20196;&#34892;&#24037;&#20855;&#36981;&#23432;&#30340;&#20849;&#21516;&#32422;&#23450; (UNIX &#30340;&#36164;&#28145;&#29992;&#25143;&#23545;&#27492;&#20102;&#22914;&#25351;&#25484;&#65307;&#20294;&#23545;&#32473;&#21021;&#23398;&#32773;&#65292;&#23588;&#20854;&#26159;&#20174;&#20986;&#29983;&#20197;&#26469;&#23601;&#29983;&#27963;&#22312; GUI &#29615;&#22659;&#20013;&#32780;&#19981;&#26159;&#36935;&#20107;&#23601;&#35835;&#25163;&#20876;&#30340;&#22823;&#23478;&#36896;&#25104;&#20102;&#24456;&#22823;&#30340;&#22256;&#25200;)&#65292;&#20363;&#22914; <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html" class=" text-amber-900">POSIX &#23545;&#21629;&#20196;&#34892;&#21442;&#25968;&#26377;&#19968;&#23450;&#30340;&#32422;&#23450;</a>&#65292;<strong>&#35835;&#23436;&#20197;&#21518;&#65292;&#20320;&#31435;&#21363;&#21457;&#29616;&#20320;&#23545;&#25163;&#20876;&#30340;&#29702;&#35299;&#22686;&#21152;&#20102;</strong> (&#25163;&#20876;&#30340;&#26684;&#24335;&#31455;&#28982;&#20063;&#26159; POSIX &#26631;&#20934;&#30340;&#19968;&#37096;&#20998;&#65281;)&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#20013;&#25324;&#21495;&#25193;&#36215;&#30340;&#21442;&#25968;&#26159;&#21487;&#36873;&#21442;&#25968;&#65292;<code>[]</code> &#21518;&#30340; <code>&#8230;</code> &#20195;&#34920;&#21442;&#25968;&#30340; 0 &#27425;&#25110;&#22810;&#27425;&#37325;&#22797;&#12290;&#22240;&#27492; <code>-p</code>, <code>-n</code>, <code>-V</code> &#37117;&#26159;&#21487;&#36873;&#30340;&#21442;&#25968;&#12290;</li>
<li class=" ml-8">&#21516;&#19968;&#20010;&#36873;&#39033;&#21487;&#20197;&#26377;&#19981;&#21516;&#30340;&#21517;&#23383;&#12290;&#22312; <code>pstree</code> &#20013;&#65292;<code>-p</code> &#21644; <code>--show-pids</code> &#30340;&#21547;&#20041;&#26159;&#19968;&#26679;&#30340;&#12290;</li>
<li class=" ml-8">&#33509;&#19981;&#21478;&#34892;&#35828;&#26126;&#65292;&#25972;&#25968;&#33539;&#22260;&#22312; 32 &#20301;&#26377;&#31526;&#21495;&#25972;&#25968;&#33539;&#22260;&#20869;&#65307;&#20294;&#22914;&#26524;&#25968;&#20540;&#21644;&#25991;&#20214;&#22823;&#23567;&#26377;&#20851;&#65292;&#21017;&#20854;&#21512;&#27861;&#30340;&#33539;&#22260;&#26159;&#26159; 0 &#21040;&#31995;&#32479;&#26368;&#22823;&#25903;&#25345;&#30340;&#25991;&#20214;&#22823;&#23567;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#27492;&#22806;&#65292;<code>main</code> &#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#20195;&#34920;&#20102;&#21629;&#20196;&#25191;&#34892;&#30340;&#29366;&#24577;&#65292;&#20854;&#20013; <code>EXIT_SUCCESS</code> &#34920;&#31034;&#21629;&#20196;&#25191;&#34892;&#25104;&#21151;&#65292;<code>EXIT_FAILURE</code> &#34920;&#31034;&#25191;&#34892;&#22833;&#36133;&#12290;&#23545;&#20110; POSIX &#26469;&#35828;&#65292;0 &#20195;&#34920;&#25104;&#21151;&#65292;&#38750; 0 &#20195;&#34920;&#22833;&#36133;&#65306;&#20363;&#22914; <code>diff</code> &#36820;&#22238; 1 &#34920;&#31034;&#27604;&#36739;&#30340;&#25991;&#20214;&#19981;&#21516;&#65292;&#36820;&#22238; 2 &#34920;&#31034;&#35835;&#21462;&#25991;&#20214;&#22833;&#36133; (<code>cmp</code> &#30340;&#34892;&#20026;&#20063;&#31867;&#20284;)&#12290;UNIX Shell &#23545;&#36820;&#22238;&#20540;&#26377;<a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html" class=" text-amber-900">&#39069;&#22806;&#30340;&#22788;&#29702;</a>&#12290;&#36825;&#35299;&#37322;&#20102;&#20026;&#20160;&#20040;&#19968;&#20123; OJ &#20250;&#26126;&#30830;&#35201;&#27714; main &#20989;&#25968;&#36820;&#22238;&#20540;&#20026; 0&#65292;&#24403;&#36820;&#22238;&#38750; 0 &#26102;&#23558;&#34987;&#35748;&#20026;&#26159; Runtime Error&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="specification" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">Specification</h4>
<p class=" font-serif my-1">** Online Judge &#23545;&#36820;&#22238;&#20540;&#30340;&#35201;&#27714;**</p>
<p class=" font-serif my-1">&#25353;&#29031; UNIX &#24815;&#20363;&#65292;<code>main</code> &#20989;&#25968;&#36820;&#22238;&#38750; 0 &#23558;&#22312; Online Judge &#20013;&#34987;&#21028;&#23450;&#20026; Runtime Error&#12290;</p>
</blockquote>
<p class=" font-serif my-1"><strong>&#22914;&#26524;&#19981;&#30693;&#36947;&#36825;&#20123;&#32422;&#23450;&#65292;&#20351;&#29992; Linux/Unix &#30340;&#26102;&#20505;&#23601;&#20250;&#20030;&#27493;&#32500;&#33392;&#12290;Unix &#19990;&#30028;&#26377;&#19968;&#22871;&#33258;&#24049;&#23450;&#20041;&#30340; &#8220;&#28216;&#25103;&#35268;&#21017;&#8221;&#12290;</strong>&#20063;&#38590;&#24618;&#20250;&#26377;&#31505;&#35805;&#65306;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">Unix is <em>user-friendly</em> &#8212; it's just choosy about who its friends are.</p>
</blockquote>
<p class=" font-serif my-1">&#24403;&#28982;&#65292;&#22312;&#28176;&#28176;&#29087;&#24713;&#28216;&#25103;&#35268;&#21017;&#20197;&#21518;&#23601;&#20250;&#21457;&#29616;&#65292;&#36825;&#22871;&#35774;&#35745;&#22312; 1970 &#24180;&#20195;&#26377;&#38480;&#30340;&#35745;&#31639;&#26426;&#31639;&#21147;&#21644;&#20351;&#29992;&#32773;&#30340;&#36127;&#25285;&#20043;&#38388;&#36798;&#25104;&#20102;&#20248;&#38597;&#30340;&#24179;&#34913;&#8212;&#8212;Shell &#24635;&#26159;&#21487;&#20197;&#24110;&#21161;&#20320;&#29992;&#26368;&#30701;&#30340;&#26102;&#38388;&#25226; quick and dirty &#30340;&#20107;&#24773;&#25630;&#23450;&#65306;UNIX &#21746;&#23398;&#24378;&#35843; <em>Keep it simple, stupid</em> &#21644; <em>Everything is a file</em>.</p>
<h2 id="3" class=" text-xl mt-2 pb-2 font-sans">3. &#27491;&#30830;&#24615;&#26631;&#20934;</h2>
<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#20219;&#24847;&#36873;&#25321;&#26641;&#30340;&#24418;&#24577;&#65292;&#20197;&#19979;&#36755;&#20986;&#37117;&#26159;&#21512;&#27861;&#30340;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ ./pstree-64
systemd&#9472;&#9516;&#9472;accounts-daemon&#9472;&#9516;&#9472;
        &#9474;
        ...

$ ./pstree-64
systemd
 |
 +--accounts-daemon-
 |
 ...

$ ./pstree-64
systemd
  accounts-daemon
    ...
</code></pre></div>

<p class=" font-serif my-1">&#21482;&#35201;&#36755;&#20986;&#31995;&#32479;&#20013;&#30340;&#36827;&#31243;&#21363;&#21487;&#65307;&#27492;&#22806;&#65292;&#20801;&#35768;&#36827;&#31243;&#21015;&#34920;&#26377;&#36731;&#24494;&#20986;&#20837;&#12290;&#32454;&#24515;&#30340;&#21516;&#23398;&#21487;&#33021;&#21457;&#29616;&#20320;&#31532;&#19968;&#20010;&#29256;&#26412;&#30340; <code>pstree</code> &#21487;&#33021;&#21644;&#31995;&#32479;&#36755;&#20986;&#19981;&#22826;&#19968;&#26679;&#12290;&#22312;&#32447;&#35780;&#27979;&#20250;&#23481;&#24525;&#20320;&#36755;&#20986;&#30340;&#19968;&#20123;&#32570;&#38519;&#65307;&#27492;&#22806;&#65292;&#20316;&#20026;&#31532;&#19968;&#20010;&#23454;&#39564;&#65292;&#25105;&#20204;&#20250;&#25163;&#19979;&#30041;&#24773;&#65292;&#27809;&#26377;&#38750;&#24120;&#24378;&#21170;&#30340;&#27979;&#35797;&#25968;&#25454;&#12290;&#20294;&#20320;&#20173;&#28982;&#38656;&#35201;&#30830;&#20445;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#27491;&#30830;&#21015;&#20986;&#31995;&#32479;&#20013;&#30340;&#36827;&#31243;&#65292;&#24182;&#27491;&#30830;&#23454;&#29616;&#21442;&#25968;&#32452;&#21512;&#30340;&#34892;&#20026;&#65307;</li>
<li class=" ml-8">&#32534;&#20889;&#21487;&#31227;&#26893;&#30340;&#20195;&#30721;&#12290;&#25105;&#20204;&#20250;&#21516;&#26102;&#27979;&#35797; 32-bit &#21644; 64-bit &#30340;&#29256;&#26412;&#12290;</li>
</ol>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_5" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25552;&#31034;</h4>
<p class=" font-serif my-1"><strong>&#22312; Hard Test &#19978; Wrong Answer&#65311;</strong></p>
<p class=" font-serif my-1">&#35797;&#19968;&#35797; <code>pstree -V &gt; /dev/null</code>&#65292;&#20320;&#20250;&#21457;&#29616;&#36755;&#20986;&#24182;&#27809;&#26377;&#21040; <code>/dev/null</code>&#12290;&#25105;&#20204;&#24076;&#26395;&#20320;&#30340;&#34892;&#20026;&#21644;&#31995;&#32479;&#20013;&#30340; <code>pstree -V</code> &#22522;&#26412;&#19968;&#33268;&#65306;&#36755;&#20986;&#21040;&#27491;&#30830;&#30340;&#36755;&#20986;&#27969;&#12289;&#21253;&#21547; <code>pstree</code> &#30340;&#22522;&#26412;&#20449;&#24687;&#65292;&#20294;&#29256;&#26412;&#25551;&#36848;&#21487;&#20197;&#19981;&#21516;&#12290;</p>
</blockquote>
<h2 id="4" class=" text-xl mt-2 pb-2 font-sans">4. &#23454;&#39564;&#25351;&#21335;&#65306;&#25226;&#22823;&#35937;&#35013;&#36827;&#20912;&#31665;</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_6" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#24819;&#33258;&#24049;&#23581;&#35797;&#65311;</h4>
<p class=" font-serif my-1">&#40723;&#21169;&#22823;&#23478;&#24573;&#30053;&#19979;&#38754;&#30340;&#25945;&#31243;&#65292;&#33258;&#24049;&#21160;&#25163;&#25630;&#23450;&#65292;&#36935;&#21040;&#19981;&#26126;&#30333;&#30340;&#22320;&#26041;&#21487;&#20197;&#27714;&#21161; Google (Bing, Stackoverflow, ...)&#12290;&#23436;&#25104;&#20043;&#21518;&#21487;&#20197;&#30475;&#19968;&#19979;&#23454;&#39564;&#25351;&#21335;&#65292;&#30475;&#33258;&#24049;&#30340;&#29702;&#35299;&#26159;&#21542;&#26377;&#21487;&#20197;&#25913;&#36827;&#30340;&#31354;&#38388;&#12290;</p>
</blockquote>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#8220;&#25226;&#22823;&#35937;&#25918;&#36827;&#20912;&#31665;&#24635;&#20849;&#20998;&#20960;&#27493;&#65311;&#8221; &#8220;&#19977;&#27493;&#65292;&#31532;&#19968;&#27493;&#25226;&#20912;&#31665;&#38376;&#25171;&#24320;&#65307;&#31532;&#20108;&#27493;&#25226;&#22823;&#35937;&#25918;&#36827;&#21435;&#65292;&#31532;&#19977;&#27493;&#25226;&#20912;&#31665;&#38376;&#24102;&#19978;&#12290;&#8221; &#8212; &#36213;&#26412;&#23665;&#12289;&#23435;&#20025;&#20025;&#12298;&#38047;&#28857;&#24037;&#12299;</li>
</ul>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#35273;&#24471;&#25171;&#21360;&#36827;&#31243;&#26641;&#36825;&#20010;&#38382;&#39064;&#27604;&#36739;&#22256;&#38590;&#65292;&#25105;&#20204;&#20063;&#25226;&#38382;&#39064;&#20998;&#35299;&#19968;&#19979;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#24471;&#21040;&#21629;&#20196;&#34892;&#30340;&#21442;&#25968;&#65292;&#26681;&#25454;&#35201;&#27714;&#35774;&#32622;&#26631;&#24535;&#21464;&#37327;&#30340;&#25968;&#20540;&#65307;</li>
<li class=" ml-8">&#24471;&#21040;&#31995;&#32479;&#20013;&#25152;&#26377;&#36827;&#31243;&#30340;&#32534;&#21495; (&#27599;&#20010;&#36827;&#31243;&#37117;&#20250;&#26377;&#21807;&#19968;&#30340;&#32534;&#21495;) &#20445;&#23384;&#21040;&#21015;&#34920;&#37324;&#65307;</li>
<li class=" ml-8">&#23545;&#21015;&#34920;&#37324;&#30340;&#27599;&#20010;&#32534;&#21495;&#65292;&#24471;&#21040;&#23427;&#30340;&#30340;&#29238;&#20146;&#26159;&#35841;&#65307;</li>
<li class=" ml-8">&#22312;&#20869;&#23384;&#20013;&#25226;&#26641;&#24314;&#22909;&#65292;&#25353;&#21629;&#20196;&#34892;&#21442;&#25968;&#35201;&#27714;&#25490;&#24207;&#65307;</li>
<li class=" ml-8">&#25226;&#26641;&#25171;&#21360;&#21040;&#32456;&#31471;&#19978;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#22240;&#20026;&#20154;&#30340;&#33041;&#23481;&#37327;&#26377;&#38480;&#65292;&#36890;&#24120;&#35299;&#20915;&#38382;&#39064;&#30340;&#21150;&#27861;&#23601;&#26159;&#25226;&#27604;&#36739;&#22797;&#26434;&#30340;&#38382;&#39064;&#20998;&#35299;&#25104;&#23567;&#38382;&#39064;&#65292;&#20877;&#25226;&#23567;&#38382;&#39064;&#32487;&#32493;&#20998;&#35299;&#19979;&#21435;&#12290;&#32780;&#22312;&#23398;&#26657;&#37324;&#25152;&#20570;&#30340;&#35757;&#32451;&#23601;&#26159;<strong>&#24314;&#31435;&#38382;&#39064;&#20998;&#35299;&#30340;&#24605;&#36335;&#21644;&#22521;&#20859;&#35299;&#20915;&#38382;&#39064;&#30340;&#33021;&#21147;</strong>&#12290;</p>
<h3 id="41" class=" text-lg mt-2 pb-2 font-sans">4.1. &#21629;&#20196;&#34892;&#21442;&#25968;</h3>
<p class=" font-serif my-1">&#25105;&#20204;&#30340;&#26694;&#26550;&#20013;&#24050;&#32463;&#21253;&#21547;&#20102;&#20197;&#19979;&#20195;&#30721;&#65292;&#21151;&#33021;&#26159;&#36755;&#20986;&#20026; main &#20989;&#25968;&#20256;&#36882;&#30340;&#21442;&#25968;&#8212;&#8212;&#25226;&#36827;&#31243;&#30475;&#20316;&#29366;&#24577;&#26426;&#65292;main &#20989;&#25968;&#30340;&#21442;&#25968;&#26159;&#36827;&#31243; &#8220;&#21021;&#22987;&#29366;&#24577;&#8221; &#30340;&#19968;&#37096;&#20998;&#65292;&#23427;&#26159;&#30001;&#36827;&#31243;&#30340;&#21019;&#24314;&#32773;&#20915;&#23450;&#30340;&#65292;&#20063;&#23601;&#26159;&#20320;&#22312;&#32456;&#31471;&#20013;&#25191;&#34892;&#31867;&#20284; &#8220;<code>./a.out hello world</code>&#8221; &#26102;&#25351;&#23450;&#30340;&#12290;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">argc</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">assert</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"> </span><span class="c1">// C &#26631;&#20934;&#20445;&#35777;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"argv[%d] = %s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">assert</span><span class="p">(</span><span class="o">!</span><span class="n">argv</span><span class="p">[</span><span class="n">argc</span><span class="p">]);</span><span class="w"> </span><span class="c1">// C &#26631;&#20934;&#20445;&#35777;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">&#39318;&#20808;&#65292;&#23581;&#35797;&#32534;&#35793;&#36816;&#34892;&#36825;&#20010;&#31243;&#24207;&#65292;&#24182;&#19988;&#36825;&#20010;&#31243;&#24207;&#20256;&#20837;&#19981;&#21516;&#65292;&#24182;&#19988;&#35266;&#23519;&#31243;&#24207;&#30340;&#36755;&#20986;&#12290;&#20320;&#20250;&#30830;&#35748; <code>argv[0], ..., argv[argc-1]</code> &#23601;&#26159;&#25152;&#26377;&#21629;&#20196;&#34892;&#30340;&#21442;&#25968;&#65292;&#36825;&#26159;&#25805;&#20316;&#31995;&#32479;&#19982; C &#31243;&#24207;&#20043;&#38388;&#30340;&#32422;&#23450;&#12290;getopt (<code>man 3 getopt</code>) &#24211;&#21487;&#20197;&#22788;&#29702;&#21629;&#20196;&#34892;&#21442;&#25968;&#65307;&#24403;&#28982;&#65292;&#20320;&#20063;&#21487;&#20197;&#30452;&#25509;&#33258;&#24049;&#21160;&#25163;&#35299;&#26512;&#12290;</p>
<h3 id="42" class=" text-lg mt-2 pb-2 font-sans">4.2. &#24320;&#22987;&#20570;&#23454;&#39564;</h3>
<p class=" font-serif my-1">&#20043;&#21518;&#20250;&#21453;&#22797;&#32534;&#35793;&#36816;&#34892;&#36825;&#20010;&#31243;&#24207;&#65292;&#25152;&#20197;<strong>&#32534;&#35793;&#21644;&#27979;&#35797;&#33258;&#21160;&#21270;</strong>&#38750;&#24120;&#37325;&#35201;&#12290;&#27604;&#36739;&#24120;&#35265;&#30340;&#39033;&#30446;&#32452;&#32455;&#26159;&#32534;&#20889; Makefile&#65292;&#22312;&#21629;&#20196;&#34892;&#20013;&#20351;&#29992; <code>make</code> &#23454;&#29616;&#32534;&#35793;&#65292;<code>make test</code> &#23436;&#25104;&#27979;&#35797;&#12290;&#25105;&#20204;&#24050;&#32463;&#20026;&#22823;&#23478;&#25552;&#20379;&#20102; Makefile&#65292;&#27426;&#36814;&#22823;&#23478;&#20180;&#32454;&#38405;&#35835;&#12290;IDE &#21644;&#32534;&#36753;&#22120; (&#20363;&#22914; vscode) &#37117;&#25903;&#25345;&#36816;&#34892;&#21644;&#35843;&#35797;&#30340;&#37197;&#32622;&#12290;&#25105;&#20204;&#24378;&#28872;&#24314;&#35758;&#21516;&#23398;&#20204;&#22312;&#20320;&#20204;&#29087;&#24713;&#30340;&#32534;&#31243;&#29615;&#22659;&#20013;&#23436;&#25104;&#32534;&#35793;&#36816;&#34892;&#30340;&#37197;&#32622;&#65292;&#20197;&#26368;&#22823;&#21270;&#20320;&#30340;&#32534;&#31243;&#25928;&#29575;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_7" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25552;&#31034;</h4>
<p class=" font-serif my-1">&#22238;&#24819;&#19968;&#19979;&#22823;&#23478;&#20570; OJ &#39064;&#30340;&#36807;&#31243;&#12290;&#22312;&#32534;&#31243;&#30340;&#36807;&#31243;&#20013;&#65292;&#38590;&#20813;&#20250;&#32463;&#21382;&#20462;&#25913;&#20195;&#30721; $\to$ &#32534;&#35793; $\to$ &#36816;&#34892; $\to$ &#20462;&#25913;&#20195;&#30721;&#8230;&#8230;&#36825;&#26679;&#30340;&#24490;&#29615;&#12290;&#20320;&#20250;&#36873;&#25321;&#24590;&#20040;&#20570;&#21602;&#65311;&#26032;&#25163;&#27599;&#27425;&#37117;&#38190;&#20837;&#21629;&#20196; (&#25110;&#32773;&#20182;&#21457;&#29616; Ctrl-p &#21487;&#20197;&#37325;&#22797;&#21629;&#20196;)&#12290;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20043;&#21518;&#65292;&#26377;&#21516;&#23398;&#20154;&#21457;&#29616;&#65292;&#21487;&#20197;&#25226;&#21629;&#20196;&#20889;&#22312;&#19968;&#34892;&#37324;&#65292;&#27604;&#22914; <code>gcc a.c &amp;&amp; ./a.out</code>&#65292;&#19968;&#38190;&#23601;&#33021;&#32534;&#35793;&#36816;&#34892;&#20102;&#12290;</li>
<li class=" ml-8">&#20877;&#20043;&#21518;&#20250;&#21457;&#29616;&#21487;&#20197;&#20889;&#20010; Makefile (&#23601;&#20687;&#36825;&#20010;&#23454;&#39564;&#19968;&#26679;)&#65292;&#29992; <code>make test</code> &#36305;&#23436;&#25152;&#26377;&#27979;&#35797;&#12290;</li>
<li class=" ml-8">&#20877;&#20043;&#21518;&#20250;&#21457;&#29616;&#21487;&#20197;&#27599;&#27425;&#22312;&#25991;&#20214;&#25913;&#21160;&#20197;&#21518;&#33258;&#21160;&#36816;&#34892;&#25152;&#26377;&#27979;&#35797;&#8230;&#8230;&#26377;&#20010;&#31070;&#22855;&#30340;&#21629;&#20196;&#21483; <code>inotifywait</code>&#12290;</li>
</ul>
<p class=" font-serif my-1">&#21363;&#20415;&#29616;&#22312;&#26377; IDE &#21644;&#20016;&#23500;&#30340;&#25554;&#20214;&#65292;UNIX &#21746;&#23398;&#20381;&#28982;&#26159;&#26080;&#22788;&#19981;&#22312;&#30340; (&#29978;&#33267;&#26159;&#36825;&#20123; IDE &#30340;&#32452;&#25104;&#22522;&#30784;)&#65292;&#35828;&#24471;&#26356;&#20855;&#20307;&#19968;&#28857;&#65292;&#8220;&#21482;&#35201;&#20320;&#25954;&#24819;&#65292;&#23601;&#19968;&#23450;&#33021;&#20570;&#21040;&#8221;&#12290;&#31069;&#22823;&#23478;&#32534;&#31243;&#24841;&#24555;&#12290;</p>
<p class=" font-serif my-1">&#26368;&#21518;&#65292;&#20197;&#19979;&#20004;&#28857;&#26377;&#21161;&#20110;&#35843;&#35797;&#26102;&#25918;&#24179;&#24515;&#24577;&#65306;(1) <strong>&#26426;&#22120;&#27704;&#36828;&#26159;&#23545;&#30340;</strong>&#65307;(2) <strong>&#26410;&#27979;&#20195;&#30721;&#27704;&#36828;&#26159;&#38169;&#30340;</strong>&#12290;</p>
</blockquote>
<h3 id="43" class=" text-lg mt-2 pb-2 font-sans">4.3. &#24471;&#21040;&#31995;&#32479;&#20013;&#36827;&#31243;&#30340;&#32534;&#21495;</h3>
<p class=" font-serif my-1">&#36827;&#31243;&#26159;&#25805;&#20316;&#31995;&#32479;&#20013;&#30340;&#23545;&#35937;&#65292;&#22240;&#27492;&#25805;&#20316;&#31995;&#32479;&#19968;&#23450;&#25552;&#20379;&#20102; API &#35775;&#38382;&#23427;&#20204;&#12290;&#24050;&#32463;&#21095;&#36879;&#36807;&#65292;&#31995;&#32479;&#37324;&#30340;<strong>&#27599;&#20010;&#36827;&#31243;&#37117;&#26377;&#21807;&#19968;&#30340;&#32534;&#21495;</strong>&#65292;&#23427;&#22312; C &#35821;&#35328;&#20013;&#30340;&#31867;&#22411;&#26159; <code>pid_t</code>&#12290;&#19981;&#30693;&#36947;&#36825;&#26159;&#20160;&#20040;&#65311;Google &#19968;&#25226;&#23601;&#30693;&#36947;&#21862;&#12290;&#20320;&#33021;&#25214;&#21040; glibc &#23545;&#23427;&#30340;<a href="https://www.gnu.org/software/libc/manual/html_node/Process-Identification.html" class=" text-amber-900">&#23448;&#26041;&#25991;&#26723;&#35299;&#37322;</a>&#12290;&#20197;&#21518;&#36935;&#21040;&#38382;&#39064;&#35201;&#33258;&#24049;&#25214;&#31572;&#26696;&#21734;&#65281;</p>
<p class=" font-serif my-1">&#25805;&#20316;&#31995;&#32479;&#20197;&#20160;&#20040;&#26679;&#30340;&#26041;&#24335;&#35753;&#20320;&#33719;&#21462;&#31995;&#32479;&#37324;&#30340;&#36827;&#31243;&#21602;&#65311;&#20043;&#21069;&#20063;&#25552;&#31034;&#36807;&#65306;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">Everything is a file.</p>
</blockquote>
<p class=" font-serif my-1">&#19968;&#20999;&#30342;&#25991;&#20214;&#65292;&#36827;&#31243;&#20449;&#24687;&#24403;&#28982;&#20063;&#21487;&#20197;&#26159; &#8220;&#19968;&#20999;&#8221; &#30340;&#19968;&#37096;&#20998;&#12290;Linux &#25552;&#20379;&#20102; <a href="https://en.wikipedia.org/wiki/Procfs" class=" text-amber-900">procfs</a>&#65292;&#30446;&#24405;&#26159; <code>/proc</code>&#12290;&#22914;&#26524;&#20320;&#36827;&#21435;&#30475;&#19968;&#30524;&#65292;&#23601;&#20250;&#21457;&#29616;&#38500;&#20102;&#19968;&#20123;&#27604;&#22914; <code>cpuinfo</code> &#36825;&#26679;&#30340;&#25991;&#20214;&#65292;&#36824;&#26377;&#24456;&#22810;&#20197;&#25968;&#23383;&#21629;&#21517;&#30340;&#30446;&#24405;&#8212;&#8212;&#32874;&#26126;&#30340;&#20320;&#20063;&#35768;&#24050;&#32463;&#29468;&#21040;&#20102;&#65292;&#27599;&#20010;&#30446;&#24405;&#30340;&#21517;&#23383;&#23601;&#26159;&#36827;&#31243;&#21495;&#65292;&#30446;&#24405;&#37324;&#23384;&#20648;&#20102;&#36827;&#31243;&#30456;&#20851;&#30340;&#36816;&#34892;&#26102;&#25968;&#25454;&#12290;</p>
<p class=" font-serif my-1">&#25105;&#20204;&#40723;&#21169;&#22823;&#23478;&#20808;&#29609;&#19968;&#29609; procfs&#65292;&#37324;&#38754;&#21487;&#26377;&#24456;&#22810;&#26377;&#36259;&#30340;&#19996;&#35199;&#65281;&#20320;&#21487;&#20197;&#29992; <code>cat</code> &#21487;&#20197;&#25171;&#21360;&#25991;&#20214;&#30340;&#20869;&#23481;&#65292;&#23545;&#29031;&#25991;&#26723; (&#25110;&#32773; ChatGPT)&#65292;&#20320;&#20250;&#21457;&#29616;&#21407;&#26469;&#25105;&#20204;&#20197;&#20026;&#31163;&#25105;&#20204;&#24456;&#36965;&#36828;&#30340; &#8220;&#35266;&#27979;&#36827;&#31243;&#25191;&#34892;&#8221;&#65292;&#31616;&#21333;&#24471;&#21482;&#35201;&#35299;&#26512;&#25991;&#26412;&#25991;&#20214;&#23601;&#21487;&#20197;&#20102;&#65281;&#20363;&#22914;&#65292;&#27599;&#20010;&#36827;&#31243;&#30340;&#29238;&#36827;&#31243;&#20063;&#38544;&#34255;&#22312; <code>/proc/[pid]/</code> &#20013;&#30340;&#26576;&#20010;&#25991;&#20214;&#37324;&#12290;&#35797;&#35797; <code>man 5 proc</code>&#65292;&#37324;&#38754;&#26377;&#35814;&#32454;&#30340;&#25991;&#26723;&#12290;&#24456;&#22810; Online Judge &#37117;&#20351;&#29992; procfs &#35835;&#21462;&#36827;&#31243;&#30340;&#36816;&#34892;&#26102;&#38388;/&#20869;&#23384;&#25968;&#25454;&#12290;</p>
<h3 id="43_1" class=" text-lg mt-2 pb-2 font-sans">4.3. &#36941;&#21382;&#25152;&#26377;&#36827;&#31243;</h3>
<p class=" font-serif my-1">&#20102;&#35299;&#20102; procfs &#20043;&#21518;&#65292;&#25105;&#20204;&#30340;&#38382;&#39064;&#23601;&#21464;&#24471;&#31616;&#21333;&#19968;&#20123;&#20102;&#65306;&#21482;&#35201;&#33021;&#24471;&#21040; <code>/proc</code> &#30446;&#24405;&#19979;&#30340;&#25152;&#26377;&#20197;&#25968;&#23383;&#20026;&#24320;&#22836;&#30340;&#30446;&#24405;&#65292;&#25105;&#20204;&#23601;&#36941;&#21382;&#20102;&#31995;&#32479;&#20013;&#30340;&#36827;&#31243;&#12290;&#22240;&#27492;&#20320;&#20250;&#21435;&#20114;&#32852;&#32593;&#19978;&#25628;&#32034;&#22914;&#20309;&#29992; C &#35821;&#35328;&#36941;&#21382;&#30446;&#24405;&#12290;&#20043;&#21518;&#65292;&#20320;&#21487;&#20197;&#29992;&#20320;&#29087;&#24713;&#30340;&#26041;&#24335;&#25171;&#24320; procfs &#37324;&#30340;&#25991;&#20214;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="kt">FILE</span><span class="w"> </span><span class="o">*</span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="s">"r"</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// &#29992;fscanf, fgets&#31561;&#20989;&#25968;&#35835;&#21462;</span>
<span class="w">  </span><span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// &#38169;&#35823;&#22788;&#29702;</span>
<span class="p">}</span>
</code></pre></div>

<p class=" font-serif my-1">procfs &#37324;&#30340;&#20449;&#24687;&#36275;&#22815;&#35753;&#20320;&#20889;&#19968;&#20010;&#38750;&#24120;&#19981;&#38169;&#30340;&#20219;&#21153;&#31649;&#29702;&#22120;&#12290;&#37027;&#20040;&#65292;&#8220;&#30495;&#27491;&#8221; &#30340;&#20219;&#21153;&#31649;&#29702;&#22120;&#65292;&#20363;&#22914; ps &#21629;&#20196;&#65292;&#26159;&#21542;&#20063;&#26159;&#22522;&#20110; procfs &#23454;&#29616;&#30340;&#21602;&#65311;&#36825;&#23601;&#26159;&#19968;&#20010;&#20856;&#22411;&#30340; &#8220;&#22909;&#38382;&#39064;&#8221;&#65306;&#20182;&#24110;&#21161;&#20320;&#24314;&#31435;&#20320;&#30340;&#23454;&#39564;&#20316;&#19994;&#21644;&#30495;&#23454;&#31995;&#32479;&#20043;&#38388;&#30340;&#32852;&#31995;&#12290;&#25805;&#20316;&#31995;&#32479;&#35838;&#31243;&#20063;&#32473;&#20102;&#22823;&#23478;&#36275;&#22815;&#30340;&#24037;&#20855;&#65292;&#20351;&#24471;&#21516;&#23398;&#20204;&#21487;&#20197;&#25226;&#20219;&#21153;&#31649;&#29702;&#22120;&#25171;&#24320;&#65292;&#26597;&#30475;&#23427;&#35843;&#29992;&#30340;&#25805;&#20316;&#31995;&#32479; API&#12290;&#25105;&#20204;&#22312;&#35838;&#22530;&#19978;&#24050;&#32463;&#28436;&#31034;&#36807; gcc &#21644; xedit &#30340;&#20363;&#23376;&#65292;&#23601;&#29992; strace &#24037;&#20855;&#23601;&#33021;&#26597;&#30475;&#36827;&#31243;&#36816;&#34892;&#26102;&#30340;&#31995;&#32479;&#35843;&#29992;&#24207;&#21015;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ strace ps
...
openat(AT_FDCWD, "/proc/1/stat", O_RDONLY)           = 6
read(6, "1 (systemd) S 0 1 1 0 -1 4194560"..., 1024) = 190
close(6)                                             = 0
...
</code></pre></div>

<h3 id="44" class=" text-lg mt-2 pb-2 font-sans">4.4. &#24314;&#26641;&#21644;&#25171;&#21360;</h3>
<p class=" font-serif my-1">&#36825;&#26159;&#31639;&#27861;/&#25968;&#25454;&#32467;&#26500;&#35838;&#31243;&#30340;&#20869;&#23481;&#65292;&#20063;&#26159;&#32463;&#20856;&#30340;&#32534;&#31243;&#38754;&#35797;&#39064;&#20043;&#19968;&#8212;&#8212;&#20114;&#32852;&#32593;&#20844;&#21496;&#24456;&#21487;&#33021;&#20250;&#29992;&#31867;&#20284;&#30340;&#39064;&#30446;&#26469;&#32771;&#23519;&#38754;&#35797;&#32773;&#30340;&#22522;&#26412;&#33021;&#21147;&#12290;&#22914;&#26524;&#20320;&#27809;&#26377;&#22836;&#32490;&#65292;&#35797;&#30528;&#23450;&#20041;&#19968;&#20010;&#36882;&#24402;&#20989;&#25968; $f(T) = [s_1,s_2,\ldots,s_n]$ &#25226; $T$ &#25171;&#21360;&#25104;&#22810;&#34892;&#25991;&#26412; (&#31532; $i$ &#34892;&#26159;&#23383;&#31526;&#20018; $s_i$)&#12290;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#23545;&#20110;&#21494;&#23376;&#33410;&#28857;&#65292;&#30452;&#25509;&#36755;&#20986;&#19968;&#20010;&#26684;&#24335;&#21270;&#23383;&#31526;&#20018; (&#20363;&#22914;&#20351;&#29992; <code>asprintf</code>)&#65307;</li>
<li class=" ml-8">&#22914;&#26524;&#19981;&#26159;&#21494;&#23376;&#33410;&#28857;&#65292;&#23545;&#23427;&#25152;&#26377;&#23376;&#26641; $T_1, T_2, \ldots T_k$ &#20998;&#21035;&#27714; $f_i(T_i)$&#65292;&#24471;&#21040; $k$ &#20010;&#22810;&#34892;&#30340;&#25991;&#26412;&#65307;</li>
<li class=" ml-8">&#25226;&#36825;&#20123;&#23383;&#31526;&#20018;&#25340;&#21040;&#36866;&#24403;&#30340;&#20301;&#32622;&#65292;&#21152;&#19978;&#19968;&#20123;&#36830;&#25509;&#32447;&#65306;</li>
</ol>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>(root)&#9472;+&#9472;T1(line 1)
       | T1(line 2)
       | T1(line 3)
       +&#9472;T2(1)
       |
...
</code></pre></div>

<p class=" font-serif my-1">&#28982;&#21518;&#20320;&#20250;&#21457;&#29616;&#20320;&#24182;&#19981;&#38656;&#35201;&#30495;&#30340;&#23454;&#29616; $f(T)$&#65292;&#32780;&#26159;&#19968;&#36941;&#36882;&#24402;&#19968;&#36793;&#25171;&#21360;&#23601;&#34892;&#12290;</p>
<h3 id="45" class=" text-lg mt-2 pb-2 font-sans">4.5. &#20889;&#20986;&#27491;&#30830;&#30340;&#20195;&#30721;</h3>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_8" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#23436;&#25104;&#20102;&#65311;</h4>
<p class=" font-serif my-1">&#26159;&#26102;&#20505;&#38382;&#38382;&#33258;&#24049;&#65306;&#25105;&#30340;&#31243;&#24207;&#23545;&#21527;&#65311;</p>
</blockquote>
<p class=" font-serif my-1">&#34429;&#28982;&#22312;&#36825;&#20010;&#23454;&#39564;&#37324;&#65292;&#25105;&#20204;&#30340;&#27979;&#35797;&#29992;&#20363;&#30456;&#23545;&#31616;&#21333;&#65307;&#20294;&#22312;&#26410;&#26469;&#30340;&#23454;&#39564;&#20013;&#65292;Online Judge &#21487;&#33021;&#20250;&#22312;&#21508;&#31181;&#22855;&#33897;&#30340;&#26465;&#20214;&#19979;&#36816;&#34892;&#20320;&#30340;&#31243;&#24207;&#21734;&#65281;&#38500;&#20102;&#20320;&#20204;&#20570;&#30340; OJ &#39064;&#20013;&#20250;&#26377;&#22797;&#26434;&#30340;&#36923;&#36753; (&#21442;&#25968;&#30340;&#32452;&#21512;) &#23548;&#33268; bug &#20043;&#22806;&#65292;&#21644;&#31995;&#32479;&#25171;&#20132;&#36947;&#30340;&#32534;&#31243;&#21487;&#26377;&#26356;&#22810;&#30340;&#40635;&#28902;&#20043;&#22788;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#20320;&#30340;&#31243;&#24207;&#36981;&#23432; POSIX &#30340;&#36820;&#22238;&#20540;&#35268;&#23450;&#21527;&#65311;&#22914;&#26524;&#20320;&#30340; main &#20989;&#25968;&#36820;&#22238;&#20102;&#38750; 0 &#30340;&#25968;&#20540;&#65292;&#25105;&#20204;&#23558;&#35748;&#20026;&#31243;&#24207;&#25253;&#21578;&#20102;&#38169;&#35823;&#8212;&#8212;&#22312;&#38750;&#27861;&#30340;&#36755;&#20837;&#19978;&#36820;&#22238; 0&#65292;&#20197;&#21450;&#22312;&#21512;&#27861;&#30340;&#36755;&#20837;&#19978;&#36820;&#22238;&#38750; 0 &#37117;&#23558;&#23548;&#33268; Wrong Answer&#12290;</li>
<li class=" ml-8">&#31243;&#24207;&#22815; roubust &#21527;&#65311;&#23427;&#20250;&#19981;&#20250;&#22312;&#19968;&#20123;&#38750;&#27861;&#30340;&#36755;&#20837;&#19978; crash&#65311;&#22914;&#26524;&#31995;&#32479;&#37324;&#30340;&#36827;&#31243;&#24456;&#22810;&#21602;&#65311;&#22914;&#26524;&#20869;&#23384;&#19981;&#22815;&#20102;&#21602;&#65311;&#22914;&#26524; <code>open</code> &#25110;&#32773; <code>malloc</code> &#22833;&#36133;&#20102;&#21602;&#65311;&#35201;&#30693;&#36947;&#65292;crash &#19968;&#33324;&#26159;&#22240;&#20026; <a href="https://en.wikipedia.org/wiki/Undefined_behavior" class=" text-amber-900">undefined behavior (UB)</a> &#23548;&#33268;&#30340;&#8212;&#8212;UB &#27809;&#25226;&#25152;&#26377;&#30340;&#25991;&#20214;&#37117;&#21024;&#25481;&#30495;&#26159;&#35874;&#22825;&#35874;&#22320;&#20102;&#12290;</li>
<li class=" ml-8">&#19975;&#19968;&#25105;&#24471;&#21040;&#36827;&#31243;&#21495;&#20197;&#21518;&#65292;&#36827;&#21435;&#21457;&#29616;&#25991;&#20214;&#27809;&#20102; (&#36827;&#31243;&#32456;&#27490;&#20102;)&#65292;&#24590;&#20040;&#21150;&#65311;&#20250;&#19981;&#20250;&#26377;&#36825;&#31181;&#24773;&#20917;&#65311;&#19975;&#19968;&#26377;&#25105;&#30340;&#31243;&#24207;&#20250;&#19981;&#20250; crash&#8230;&#8230;&#65311;</li>
<li class=" ml-8">&#36827;&#31243;&#30340;&#20449;&#24687;&#19968;&#30452;&#22312;&#21464;&#65292;&#25991;&#20214;&#30340;&#20869;&#23481;&#20063;&#19968;&#30452;&#22312;&#21464; (&#20004;&#27425; <code>cat</code> &#30340;&#32467;&#26524;&#19981;&#21516;)&#12290;&#37027;&#25105;&#20250;&#19981;&#20250;&#35835;&#21040;&#19981;&#19968;&#33268;&#30340;&#20449;&#24687;(&#21069;&#19968;&#21322;&#26159;&#26087;&#20449;&#24687;&#12289;&#26032;&#19968;&#21322;&#26159;&#26032;&#20449;&#24687;)&#65311;&#36825;&#20004;&#20010;&#38382;&#39064;&#37117;&#26159; race condition &#23548;&#33268;&#30340;&#65307;&#25105;&#20204;&#23558;&#20250;&#22312;&#24182;&#21457;&#37096;&#20998;&#22238;&#21040;&#36825;&#20010;&#35805;&#39064;&#12290;</li>
<li class=" ml-8">&#22914;&#26524;&#25105;&#19981;&#30830;&#20449;&#36825;&#20123;&#20107;&#20250;&#19981;&#20250;&#21457;&#29983;&#65292;&#25105;&#26377;&#27809;&#26377;&#20889;&#19968;&#20010;&#31243;&#24207;&#65292;&#33267;&#23569;&#22312;&#21387;&#21147;&#29615;&#22659;&#19979;&#27979;&#35797;&#19968;&#19979;&#23427;&#20204;&#26377;&#27809;&#26377;&#21487;&#33021;&#21457;&#29983;&#65311;&#21999;&#65292;&#22914;&#26524;&#25105;&#21516;&#26102;&#36816;&#34892;&#24456;&#22810;&#31243;&#24207;&#65292;&#27599;&#20010;&#31243;&#24207;&#37117;&#19981;&#26029;&#25195;&#25551;&#30446;&#24405;&#12289;&#35835;&#21462;&#25991;&#20214;&#65292;&#20063;&#35266;&#23519;&#19981;&#21040;&#36825;&#20010;&#38382;&#39064;&#65292;&#33267;&#23569;&#24212;&#35813;&#21487;&#20197;&#25918;&#28857;&#24515;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#38543;&#30528;&#35838;&#31243;&#30340;&#28145;&#20837;&#65292;&#36825;&#20123;&#38382;&#39064;&#37117;&#20250;&#24471;&#21040;&#35299;&#31572;&#12290;</p>
<p class=" font-serif my-1">&#24403;&#20320;&#30340;&#31243;&#24207;&#36234;&#26469;&#36234;&#22797;&#26434;&#65292;&#36825;&#20123;&#38382;&#39064;&#20063;&#35768;&#23558;&#20250;&#25104;&#20026;&#20320;&#25381;&#20043;&#19981;&#21435;&#30340;&#38452;&#24433;&#12290;&#36825;&#23601;&#23545;&#20102;&#8212;&#8212;&#20174; Intel &#30340; CPU &#21040; Linux Kernel &#37117;&#26377;&#25968;&#19981;&#28165;&#30340; bug&#12290;&#20320;&#20063;&#35768;&#21548;&#35828;&#36807; &#8220;&#24418;&#24335;&#21270;&#39564;&#35777;&#8221;&#65292;&#20294;&#20107;&#23454;&#20063;&#35777;&#26126;&#65292;&#32463;&#36807;&#39564;&#35777;&#27491;&#30830;&#30340;&#32534;&#35793;&#22120; (CertComp) &#21644;&#25805;&#20316;&#31995;&#32479; (seL4, FSCQ, ...) &#37117;&#20381;&#28982;&#23384;&#22312; bug&#65292;&#23613;&#31649;&#23427;&#20204;&#30340;&#21487;&#38752;&#24615;&#20381;&#28982;&#27604;&#31243;&#24207;&#21592;&#25163;&#20889;&#30340;&#39640;&#24471;&#22810;&#12290;</p>
<p class=" font-serif my-1">&#20889;&#20986;&#27491;&#30830;&#30340;&#20195;&#30721;&#36828;&#27604;&#24819;&#35937;&#20013;&#22256;&#38590;&#8212;&#8212;&#30446;&#21069;&#22320;&#29699;&#19978;&#36824;&#27809;&#20154;&#33021;&#20445;&#35777;&#22797;&#26434;&#30340;&#31995;&#32479;&#27809;&#26377; bug &#21644;&#28431;&#27934;&#12290;&#25105;&#20010;&#20154;&#28909;&#20999;&#30460;&#26395;&#30528;&#27809;&#26377; bug &#30340;&#37027;&#19968;&#22825;&#30340;&#21040;&#26469;&#65292;&#19981;&#36807;&#20284;&#20046;&#36965;&#19981;&#21487;&#21450;&#12290;&#19981;&#36807;&#20063;&#19981;&#29992;&#22826;&#32477;&#26395;&#65292;&#36825;&#38376;&#35838;&#37324;&#20250;&#25945;&#32473;&#22823;&#23478;&#19968;&#20123;&#26377;&#20851; &#8220;&#20889;&#20195;&#30721;&#8221; &#30340;&#30693;&#35782;&#65292;&#26356;&#37325;&#35201;&#30340;&#26159;&#27491;&#30830;&#30340;&#24605;&#32500;&#26041;&#24335; (&#8220;&#19990;&#30028;&#35266;&#8221;)&#65306;&#25805;&#20316;&#31995;&#32479;&#20250;&#25552;&#20379;&#20160;&#20040;&#12289;&#35813;&#25552;&#20379;&#20160;&#20040;&#12289;&#19981;&#35813;&#25552;&#20379;&#20160;&#20040;&#12289;&#24212;&#35813;&#24590;&#20040;&#25552;&#20379;&#12290;</p></div>
</div>

<div class="container text-xs py-3">
  <span class="text-muted">
    <center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../static/img/cc-4.0.png"></a>
    &#160;&#160;&#160;<a style="color:inherit" href="https://beian.miit.gov.cn/">&#33487; ICP &#22791; 2020049101 &#21495;</a>
    </center>
  </span>
</div>

</div>

<script src="../../../static/js/jquery.min.js"></script>

<script>
function get_token() {
  var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
  if (match) return match[2];
  else return "";
}
var token = get_token();
var hint = "token", box = $("#token-input");

if (token == "") { }
else { box.val(token); }

function login() {
  var token = box.val()
  if (!token) {
    document.cookie = ''
  } else {
    document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;'
  }
}
</script>


</body>

</html>