<!DOCTYPE html><html class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="../../../static/css/base.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="../../../static/img/favicon.png" type="image/x-icon">

  <style>
    .font-sans {
      font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
    }
    .font-serif {
      font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
    }
  </style>
  <link rel="stylesheet" href="../../../static/katex/katex.min.css">
  <script defer src="../../../static/katex/katex.min.js"></script>
  <script defer src="../../../static/katex/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
          renderMathInElement(document.body, {
            // customised options
            // &#8226; auto-render specific keys, e.g.:
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
                {left: '\\(', right: '\\)', display: false},
                {left: '\\[', right: '\\]', display: true}
            ],
            // &#8226; rendering keys, e.g.:
            throwOnError : false
          });
      });
  </script>


  

<style>
.article {
  -webkit-hyphens: auto;
}
form {
  margin-block-end: 0;
}
img {
  display: inline-block;
}
code { font-size: 85%; }
pre {
  font-size: 95%;
  line-height: 120%;
}
blockquote {
  font-size: 95%;
}
p {
  font-size: 105%;
  text-indent: 2em;
}
li {
  font-size: 105%;
}
blockquote p {
  text-indent: 0em;
}
.float-right {
  padding-left: 10px;
}
.float-left {
  padding-right: 10px;
}
a {
  color: rgb(29 78 216);
}
strong {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.box        {
  border-radius: 2px; padding: 1px 4px 2px 4px;
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
  font-size: 95%;
}
.box-blue,  .badge-primary  { background-color: rgba(66, 139, 202, 0.5); color: #1d4ed8; }
.box-green, .badge-success  { background-color: rgba(92, 184, 92, 0.5);  color: #15803d; }
.box-red,   .badge-danger   { background-color: rgba(217, 83, 79, 0.5);  color: #b91c1c; }
.box-yellow,.badge-warning  { background-color: rgba(240, 173, 78, 0.5); color: #a16207; }
.box-gray   { background-color: #a0a0a0; }

.badge {
  padding: 1 4 1 4;
  display: inline-block;
  border-radius: 0.25rem;
  border: 1px solid;
}
.message p {
  text-indent: 0em;
  margin-top: 1px;
}
.message h1, h2, h3, h4, h5 {
  font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
}
.message h2 {
  font-size: 120%;
  margin-top: 5px;
  margin-bottom: 2px;
}
.message li {
  list-style: disc;
  margin-left: 2em;
}
li > p {
  text-indent: 0em;
}
block-quote h4 {
  float: left;
  display: inline-block;
}
.center {
  display: block;
  margin: auto;
}
hr {
  margin-top: 20px;
  padding-bottom: 20px;
}

.fa-gradient {
	background: -webkit-gradient(linear, left top, left bottom, from(rgb(99, 27, 103)), to(#333));
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

</style>


  <title>M5: File Recovery (frecov)</title>
</head>

<body class="d-flex flex-column h-100">
  
  

<div>

<div class="px-2 py-1 w-full fixed z-50 bg-gradient-to-r from-black via-purple-700 via-purple-500 shadow-lg" style="-webkit-backdrop-filter: saturate(150%) blur(4px); backdrop-filter: saturate(150%) blur(4px)">
  <form>
    <a href="../../../index.html"><span class="text-lg px-2 text-white">Yanyan's Wiki</span></a>
    <a href="../index.html"><span class="text-sm px-2 text-white">&#25805;&#20316;&#31995;&#32479; (2023)</span></a>
    <input maxlength="9" id="token-input" class="float-right appearance-none border border-transparent px-2 py-1 w-20 bg-white text-gray-700 placeholder-gray-400 shadow-md rounded text-xs focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono" type="text" placeholder="TOKEN" oninput="login();">
  </form>
</div>

<div class="article container mx-auto md:px-8 lg:px-8 xl:px-8 2xl:px-8 shadow-lg border pb-8 pt-10 max-w-screen-md text-justify divide-y-2 divide-white">
  <div><h1 id="m5-file-recovery-frecov" class=" text-2xl mt-2 font-sans">M5: File Recovery (frecov)</h1>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_1" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-red" style=" padding-bottom: 0;">&#9200; &#25130;&#27490;&#26085;&#26399;</h4>
<p class=" font-serif my-1"><strong>Soft Deadline: &#21516; hard deadline&#12290;</strong></p>
<p class=" font-serif my-1">&#20320;&#38656;&#35201;&#39318;&#20808;&#38405;&#35835;<a href="Labs.html" class=" text-amber-900">&#23454;&#39564;&#39035;&#30693;</a>&#12290;</p>
<p class=" font-serif my-1">&#22312;&#21629;&#20196;&#34892;&#20013; <code>git pull origin M5</code> &#19979;&#36733;&#26694;&#26550;&#20195;&#30721;&#12290;</p>
</blockquote>
<p class=" font-serif my-1"><oj-status course="OS2023" module="M5"><div class="divide-y divide-dashed">
    <div class="flex font-semibold">
      OS2023-M5 &#25552;&#20132;&#32467;&#26524;
    </div>
    
  </div>
</oj-status></p>
<h2 id="1" class=" text-xl mt-2 pb-2 font-sans">1. &#32972;&#26223;</h2>
<h3 id="11" class=" text-lg mt-2 pb-2 font-sans">1.1 &#30913;&#30424;&#30340;&#26684;&#24335;&#21270;</h3>
<p class=" font-serif my-1">&#25805;&#20316;&#31995;&#32479;&#20026;&#25105;&#20204;&#25552;&#20379;&#20102;&#24037;&#20855; &#8220;&#26684;&#24335;&#21270;&#8221; &#23384;&#20648;&#20171;&#36136;&#8212;&#8212;&#36890;&#24120;&#40664;&#35748;&#30340;&#36873;&#39033;&#26159; &#8220;&#24555;&#36895;&#26684;&#24335;&#21270;&#8221;&#65307;MacOS &#27604;&#36739;&#36148;&#24515;&#22320;&#25552;&#20379;&#20102;&#26356;&#22810;&#30340;&#36873;&#39033;&#65292;&#20363;&#22914;&#26356;&#24930;&#20294;&#26356;&#23433;&#20840;&#30340;&#36873;&#39033;&#12290;&#22312;&#35838;&#22530;&#19978;&#65292;&#25105;&#20204;&#20063;&#23637;&#31034;&#20102; mkfs.fat (&#23558;&#25991;&#20214;&#31995;&#32479;&#26684;&#24335;&#21270;&#25104; FAT &#26684;&#24335;) &#24037;&#20855;&#22312;&#26684;&#30424;&#26102;&#30340;&#31995;&#32479;&#35843;&#29992;&#24207;&#21015;&#12290;&#36825;&#35299;&#37322;&#20102; &#8220;&#20026;&#20160;&#20040; 1TB &#30340;&#30913;&#30424;&#21482;&#35201;&#26684;&#24335;&#21270;&#19968;&#31186;&#38047;&#8221;&#8212;&#8212;&#25226;&#23384;&#20648;&#35774;&#22791;&#19978;&#30340;&#25991;&#20214;&#31995;&#32479;&#30475;&#25104;&#26159;&#19968;&#20010;&#25968;&#25454;&#32467;&#26500; (&#20363;&#22914;&#65292;&#19981;&#22952;&#20551;&#35774;&#25104;&#26159;&#22823;&#23478;&#29087;&#24713;&#30340;&#20108;&#21449;&#26641;)&#65292;&#20320;&#19981;&#38590;&#29702;&#35299;&#20320;&#21482;&#35201;&#30772;&#22351;&#25968;&#25454;&#32467;&#26500;&#30340; &#8220;&#26681;&#33410;&#28857;&#8221;&#65292;&#20063;&#23601;&#26159;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
</code></pre></div>

<p class=" font-serif my-1">&#25968;&#25454;&#32467;&#26500;&#30340;&#20854;&#20182;&#37096;&#20998;&#20063;&#23601;&#27704;&#20037;&#22320;&#20002;&#22833;&#20102;&#8212;&#8212;&#25968;&#25454;&#32467;&#26500;&#23601;&#23436;&#25104;&#20102;&#19968;&#27425;&#23436;&#32654;&#30340; &#8220;&#20869;&#23384;&#27844;&#28431;&#8221;&#12290;&#24403;&#28982;&#65292;&#22240;&#20026;&#25972;&#20010;&#25968;&#25454;&#32467;&#26500;&#37117;&#34987;&#25703;&#27585;&#65292;&#20320;&#20063;&#21487;&#20197;&#37325;&#32622;&#20869;&#23384;&#20998;&#37197;&#22120; (balloc/bfree) &#30340;&#29366;&#24577;&#65292;&#36825;&#26679;&#25152;&#26377;&#30913;&#30424;&#19978;&#30340;&#31354;&#38388;&#23601;&#21464;&#24471;&#21487;&#20197;&#34987;&#20998;&#37197;&#65292;&#30913;&#30424;&#20063;&#23601; &#8220;&#28949;&#28982;&#19968;&#26032;&#8221; (&#34987;&#26684;&#24335;&#21270;) &#20102;&#12290;</p>
<h3 id="12" class=" text-lg mt-2 pb-2 font-sans">1.2 &#26684;&#24335;&#21270;&#30913;&#30424;&#30340;&#25968;&#25454;&#24674;&#22797;</h3>
<p class=" font-serif my-1">&#24555;&#36895;&#26684;&#24335;&#21270;&#32039;&#25509;&#30528;&#23601;&#24102;&#26469;&#20102;&#19968;&#20010;&#38382;&#39064;&#65306;&#24555;&#36895;&#26684;&#24335;&#21270; (&#25351;&#38024;&#36171;&#20540;) &#20063;&#24847;&#21619;&#30528;&#20320;&#33021;&#36890;&#36807;&#36941;&#21382;&#23384;&#20648;&#35774;&#22791; (&#20869;&#23384;) &#30340;&#26041;&#24335;&#25226;&#25968;&#25454;&#32467;&#26500;&#25214;&#22238;&#26469;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_left</span><span class="p">();</span>
<span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find_left</span><span class="p">();</span>
</code></pre></div>

<p class=" font-serif my-1">&#21482;&#35201;&#24674;&#22797;&#20986;&#36825;&#20004;&#20010;&#25351;&#38024;&#65292;&#25972;&#20010;&#20108;&#21449;&#26641;&#23601;&#21448;&#22238;&#26469;&#20102;&#65281;&#19981;&#20165;&#26159;&#26684;&#24335;&#21270;&#65292;&#25105;&#20204;&#30693;&#36947;&#25991;&#20214;&#31995;&#32479;&#22312;&#23454;&#29616;&#25991;&#20214;/&#30446;&#24405;&#30340;&#21024;&#38500;&#25805;&#20316;&#26102;&#65292;&#20063;&#21482;&#26159;&#20174;&#25991;&#20214;&#31995;&#32479;&#30340;&#25968;&#25454;&#32467;&#26500;&#20013;&#25273;&#21435;&#25991;&#20214;&#30456;&#20851;&#30340;&#20449;&#24687;&#65292;&#24182;&#19981;&#20250;&#23454;&#38469;&#23558;&#27599;&#19968;&#20010;&#20445;&#23384;&#25968;&#25454;&#30340;&#22359;&#21024;&#38500;&#12290;&#36825;&#22823;&#22823;&#22686;&#21152;&#20102;&#25991;&#20214;&#31995;&#32479;&#30340;&#24615;&#33021;&#65292;&#20943;&#23569;&#20102;&#30913;&#30424;&#30340;&#35835;&#20889;&#25968;&#37327;&#12290;&#36825;&#20123;&#31995;&#32479;&#37324;&#20026;&#20102;&#33410;&#32422;&#26102;&#38388;&#20570;&#20986;&#30340;&#25805;&#20316;&#65292;&#20854;&#23454;&#29306;&#29298;&#20102;&#19968;&#23450;&#31243;&#24230;&#30340;&#23433;&#20840;&#24615;&#8212;&#8212;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807; &#8220;&#25195;&#25551;&#30913;&#30424;&#8221; &#30340;&#26041;&#24335;&#19968;&#23450;&#31243;&#24230;&#22320;&#24674;&#22797;&#20986;&#25991;&#20214;&#31995;&#32479;&#20013;&#24050;&#32463;&#34987;&#21024;&#38500;&#30340;&#25991;&#20214;&#12290;</p>
<h4 id="121" class=" pt-2 pb-2 font-sans">1.2.1 &#25968;&#25454;&#24674;&#22797;&#65306;&#22909;&#30340;&#24212;&#29992;&#22330;&#26223;</h4>
<p class=" font-serif my-1">&#35753;&#25105;&#20204;&#26469;&#30475;&#30475;&#19968;&#20010; Makefile &#24341;&#21457;&#30340;&#34880;&#26696;&#12290;&#22312;&#26576;&#20010;&#26376;&#40657;&#39118;&#39640;&#30340;&#22812;&#26202;&#65292;&#20462;&#25913;&#20102;&#20195;&#30721;&#65292;&#20197;&#20026; <code>OBJ_DIR</code> &#36825;&#20010;&#21464;&#37327;&#19981;&#20877;&#20351;&#29992;&#65292;&#36930;&#21024;&#38500;&#12290;&#32467;&#26524;&#27809;&#26377;&#26009;&#21040;&#65292;Makefile &#37324;&#36824;&#30041;&#20102;&#36825;&#20040;&#19968;&#25163;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">clean</span><span class="o">:</span>
<span class="w">    </span><span class="n">rm</span><span class="w"> </span><span class="o">-</span><span class="n">rf</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="n">$</span><span class="o">(</span><span class="n">OBJ_DIR</span><span class="o">)/*</span><span class="w"> </span><span class="o">...</span>
</code></pre></div>

<p class=" font-serif my-1">&#22312;&#21478;&#19968;&#20010;&#26376;&#40657;&#39118;&#39640;&#30340;&#22812;&#26202;&#65292;<code>make clean</code> &#20043;&#21518;&#65292;<code>rm -rf /*</code> &#24320;&#22987;&#20102;&#8230;&#8230;</p>
<p class=" font-serif my-1">&#27599;&#20010;&#20154; (&#21253;&#25324; jyy &#21644; yzh) &#37117;&#26377;&#36807;&#22312;&#33041;&#25277;&#30340;&#26102;&#20505;&#35823;&#21024;&#36807;&#25991;&#20214;&#30340;&#32463;&#21382;&#12290;&#37027;&#21487;&#30495;&#26159;&#30456;&#24403;&#24808;&#30171;&#30340;&#32463;&#21382;&#8212;&#8212;&#31867;&#20284;&#30340;&#36824;&#26377;&#25226;&#37325;&#35201;&#25968;&#25454;&#20445;&#23384;&#22312;&#20248;&#30424;&#19978;&#65292;&#28982;&#21518;&#25991;&#20214;&#31995;&#32479;&#21457;&#29983;&#20102;&#25439;&#22351;&#8230;&#8230;&#24403;&#28982;&#65292;&#25968;&#25454;&#20854;&#23454;&#24182;&#27809;&#26377;&#20174;&#23384;&#20648;&#22120;&#19978;&#28040;&#22833;&#65292;&#22240;&#27492;&#22914;&#26524;&#26377;&#25968;&#25454;&#24674;&#22797;&#30340;&#36719;&#20214;&#65292;&#37027;&#30495;&#26159;&#25937;&#21629;&#20102;&#65281;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_2" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#24590;&#26679;&#20445;&#25252;&#37325;&#35201;&#25968;&#25454;&#30340;&#21487;&#38752;&#24615;&#65311;</h4>
<p class=" font-serif my-1">&#33258;&#20174;&#29992;&#19978;&#20102; git&#12289;&#20859;&#25104;&#25353;&#26102; git push &#30340;&#20064;&#24815;&#20043;&#21518;&#65292;&#37325;&#35201;&#25968;&#25454;&#30340;&#25439;&#22833;&#23601;&#38477;&#20302;&#21040;&#26368;&#23567;&#20102;&#8212;&#8212;&#33267;&#23569;&#21487;&#20197;&#20445;&#35777;&#22312;&#20219;&#20309;&#26102;&#20505;&#65292;&#22914;&#26524;&#30636;&#38388;&#26576;&#21488;&#30005;&#33041;&#24443;&#24213;&#25439;&#22351;&#65292;&#25439;&#22833;&#30340;&#24037;&#20316;&#37327;&#19981;&#20250;&#36229;&#36807;&#20960;&#20010;&#23567;&#26102;&#12290;&#20197;&#19979;&#26159;&#36148;&#22312;&#23454;&#39564;&#23460;&#38376;&#19978;&#30340;&#24544;&#21578; (&#20320;&#22312;&#35745;&#31639;&#26426;&#27004; 809 &#30340;&#38376;&#19978;&#21487;&#20197;&#30475;&#21040;&#19979;&#22270;&#30340;&#25171;&#21360;&#29256;)&#12290;&#27599;&#24403; git push &#25104;&#21151;&#20197;&#21518;&#65292;&#24515;&#37324;&#37117;&#20250;&#35273;&#24471;&#24456;&#36367;&#23454;&#12290;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/git-fire.png" width="320px"></p>
</blockquote>
<h4 id="122" class=" pt-2 pb-2 font-sans">1.2.2 &#22351;&#30340;&#24212;&#29992;&#22330;&#26223;</h4>
<p class=" font-serif my-1"><img alt="" class="float-right" src="../../../pages/OS/img/chenguanxi.jpg" width="200px"></p>
<p class=" font-serif my-1">&#25968;&#25454;&#23545;&#27599;&#20010;&#20154;&#26469;&#35828;&#37117;&#26159;&#38750;&#24120;&#23453;&#36149;&#30340;&#12290;&#22312;&#25968;&#30721;&#30456;&#26426;&#31561;&#35774;&#22791;&#30340;&#23384;&#20648;&#21345;&#20013;&#65292;FAT (exFAT) &#36825;&#26679;&#30340;&#25991;&#20214;&#31995;&#32479;&#20381;&#28982;&#24191;&#27867;&#20351;&#29992;&#12290;&#20877;&#21152;&#19978; &#8220;&#36861;&#21152;&#20889;&#20837;&#8221; &#30340;&#29305;&#28857;&#65292;&#22823;&#37096;&#20998;&#29031;&#29255;&#26159;&#30452;&#25509;&#36830;&#32493;&#23384;&#20648;&#22312;&#23384;&#20648;&#21345;&#20013;&#65292;&#20063;&#24847;&#21619;&#30528;&#30456;&#29255;&#26159;&#30456;&#23545;&#26356;&#23481;&#26131;&#24674;&#22797;&#30340;&#12290;&#22914;&#26524;&#20320;&#19981;&#23567;&#24515;&#21024;&#38500;&#20102;&#19968;&#25972;&#22825;&#25293;&#25668;&#30340;&#29031;&#29255;&#65292;&#24403;&#20320;&#24674;&#22797;&#20986;&#23427;&#20204;&#30340;&#26102;&#20505;&#65292;&#19968;&#23450;&#24863;&#21463;&#21040;&#25991;&#20214;&#31995;&#32479;&#35774;&#35745;&#32773;&#30340;&#19981;&#26432;&#20043;&#24681;&#12290;</p>
<p class=" font-serif my-1">&#20294;&#21516;&#26102;&#65292;&#36825;&#20063;&#24847;&#21619;&#30528;&#19981;&#27861;&#20998;&#23376;&#26377;&#20102;&#21487;&#20056;&#20043;&#26426;&#12290;&#25991;&#20214;&#31995;&#32479;&#20013;&#24635;&#26377;&#19968;&#20123;&#20320;&#19981;&#24819;&#35753;&#21035;&#20154;&#30475;&#21040;&#30340;&#25991;&#20214;&#8212;&#8212;&#20320;&#19981;&#20165;&#24819;&#22312;&#25991;&#20214;&#31995;&#32479;&#20013;&#21024;&#38500;&#23427;&#65292;&#36824;&#24076;&#26395;&#21035;&#20154;&#21363;&#20415;&#25343;&#21040;&#20320;&#30340;&#30913;&#30424;&#20570;&#25968;&#25454;&#24674;&#22797;&#65292;&#20063;&#19981;&#33021;&#24674;&#22797;&#20986;&#25991;&#20214;&#30340;&#20869;&#23481;&#65306;&#26126;&#25991;&#23384;&#25918;&#20102;&#21508;&#22823;&#32593;&#31449;&#23494;&#30721;&#30340;&#25991;&#20214;&#12289;&#19981;&#33021;&#35265;&#20154;&#30340;&#29031;&#29255;&#8230;&#8230;&#21035;&#26377;&#29992;&#24515;&#30340;&#20154;&#29992; &#8220;&#20462;&#30005;&#33041;&#8221; &#25703;&#27585;&#20102;&#20896;&#24076;&#21733;&#21644;&#19968;&#20247;&#28436;&#33402;&#30028;&#26126;&#26143;&#30340;&#20107;&#19994;&#21644;&#29983;&#27963;&#12290;&#26684;&#24335;&#21270;&#36807;&#30340; SD &#21345;&#12289;&#24674;&#22797;&#20986;&#21378;&#35774;&#32622;&#30340;&#25163;&#26426;&#65292;&#37117;&#21487;&#33021;&#26159;&#19981;&#27861;&#20998;&#23376;&#25970;&#35784;&#21202;&#32034;&#30340;&#31609;&#30721;&#12290;</p>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<h4 id="_3" class=" pt-2 pb-2 font-sans float-left text-sm box border mr-1 mt-1 box-blue" style=" padding-bottom: 0;">&#25991;&#20214;&#31881;&#30862;</h4>
<p class=" font-serif my-1">&#22240;&#27492;&#65292;&#26377;&#20123;&#31995;&#32479;&#36719;&#20214;&#25552;&#20379;&#20102; &#8220;&#25991;&#20214;&#31881;&#30862;&#8221; &#30340;&#21151;&#33021;&#12290;&#25991;&#20214;&#31881;&#30862;&#30340;&#19968;&#20010;&#23454;&#29616;&#26041;&#27861;&#26159;&#29992;&#35206;&#30422;&#20889;&#30340;&#26041;&#24335;&#25226;&#25991;&#20214;&#30340;&#25968;&#25454;&#28165;&#38500; (&#21363;&#25214;&#21040;&#30913;&#30424;&#19978;&#25152;&#26377;&#23384;&#20648;&#20102;&#35813;&#25991;&#20214;&#25968;&#25454;&#30340;&#22359;&#65292;&#24182;&#19988;&#21521;&#22359;&#20869;&#20889;&#20837;&#38543;&#26426;&#25968;&#25454;)&#65292;&#28982;&#21518;&#20877;&#21024;&#38500;&#12290;</p>
<p class=" font-serif my-1">&#23545;&#20110; HDD &#19978;&#30340;&#25991;&#20214;&#31995;&#32479;&#65292;&#36890;&#24120;&#36825;&#26679;&#30340; &#8220;&#25991;&#20214;&#31881;&#30862;&#8221; &#23601;&#26159;&#30456;&#24403;&#23433;&#20840;&#30340;&#12290;&#20294;&#38543;&#30528;&#23384;&#20648;&#25216;&#26415;&#30340;&#21457;&#23637;&#65292;&#24213;&#23618;&#30340;&#25991;&#20214;&#31995;&#32479; (&#29978;&#33267;&#26159; Flash SSD &#30340; FTL) &#21487;&#33021;&#37319;&#29992; copy-on-write &#26041;&#24335;&#20445;&#23384;&#25968;&#25454;&#65292;&#20174;&#32780;&#22312;&#30828;&#20214;&#19978;&#20445;&#30041;&#25991;&#20214;&#30340;&#25335;&#36125;&#12290;&#34429;&#28982;&#24674;&#22797;&#23427;&#20204;&#38656;&#35201;&#24456;&#22823;&#30340;&#20195;&#20215;&#65292;&#20294;&#23433;&#20840;&#30340; &#8220;&#25991;&#20214;&#31881;&#30862;&#8221; &#21464;&#24471;&#26356;&#21152;&#22256;&#38590;&#12290;&#20351;&#29992;&#21152;&#23494;&#30340;&#25991;&#20214;&#31995;&#32479;&#26159;&#26356;&#22909;&#30340;&#21150;&#27861;&#12290;</p>
</blockquote>
<p class=" font-serif my-1">&#24403;&#28982;&#65292;&#33021;&#24674;&#22797;&#25968;&#25454;&#20063;&#24102;&#26469;&#20102;&#28389;&#29992;&#30340;&#21487;&#33021;&#12290;&#35797;&#24819;&#20320;&#30340;&#25163;&#26426;&#34987;&#30423;&#25110;&#34987;&#20316;&#20026;&#20108;&#25163;&#22788;&#29702;&#25481;&#20043;&#21518;&#65292;&#33021;&#22815;&#20174;&#25163;&#26426;&#30340;&#20869;&#37096;&#23384;&#20648;/&#23384;&#20648;&#21345;&#20013;&#24674;&#22797;&#20986;&#20808;&#21069;&#30340;&#25991;&#20214;&#8212;&#8212;&#37325;&#35201;&#20449;&#24687;&#12289;&#32842;&#22825;&#35760;&#24405;&#12289;&#29031;&#29255;&#8230;&#8230;&#24184;&#36816;&#30340;&#26159;&#65292;&#38543;&#30528;&#25991;&#20214;&#31995;&#32479;&#21152;&#23494;(&#22312;&#25991;&#20214;&#31995;&#32479;&#23618;&#20889;&#20837;&#25968;&#25454;&#21069;&#21363;&#25191;&#34892;&#25968;&#25454;&#30340;&#21152;&#23494;)&#30340;&#26222;&#21450;&#65292;&#22823;&#23478;&#36234;&#26469;&#36234;&#19981;&#29992;&#25285;&#24515;&#36825;&#20123;&#38382;&#39064;&#20102;&#12290;</p>
<h2 id="2" class=" text-xl mt-2 pb-2 font-sans">2. &#23454;&#39564;&#25551;&#36848;</h2>
<p class=" font-serif my-1">&#22312;&#36825;&#20010;&#23454;&#39564;&#20013;&#65292;&#25105;&#20204;&#35201;&#27714;&#20320;&#32534;&#20889;&#31243;&#24207;&#65292;best-effort &#24674;&#22797;&#32463;&#36807;&#20102;&#24555;&#36895;&#26684;&#24335;&#21270;&#30340;&#25991;&#20214;&#31995;&#32479;&#20013; bmp &#26684;&#24335;&#30340;<strong>&#22270;&#29255;</strong>&#21363;&#21487; (&#21363;&#23613;&#21487;&#33021;&#22320;&#25250;&#25937;&#25991;&#20214;&#21363;&#21487;)&#12290;</p>
<p class=" font-serif my-1">&#20320;&#38656;&#35201;&#23454;&#29616;&#21629;&#20196;&#34892;&#24037;&#20855; <code>frecov</code>&#65292;&#32473;&#23450;&#19968;&#20010;&#26684;&#24335;&#21270;&#36807;&#30340; FAT32 &#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#65292;&#20551;&#35774;&#20854;&#20013;&#32477;&#22823;&#37096;&#20998;&#25991;&#20214;&#37117;&#26159;&#20197; BMP &#26684;&#24335;&#23384;&#20648;&#30340;&#12290;&#35831;&#20320;&#23613;&#21487;&#33021;&#22320;&#20174;&#25991;&#20214;&#31995;&#32479;&#20013;&#24674;&#22797;&#20986;&#23436;&#25972;&#30340;&#22270;&#29255;&#25991;&#20214;&#12290;&#21629;&#20196;&#34892;&#24037;&#20855;&#20351;&#29992;&#26041;&#27861;&#65306;</p>
<p class=" font-serif my-1"></p><center>frecov <u>FILE</u></center>
<p class=" font-serif my-1">&#20854;&#20013; FILE &#26159;&#19968;&#20010; FAT-32 &#25991;&#20214;&#31995;&#32479;&#30340;&#38236;&#20687;&#12290;&#27599;&#24674;&#22797;&#19968;&#24352;&#22270;&#29255;&#25991;&#20214; (&#23436;&#25972;&#30340;&#25991;&#20214;&#65292;&#21253;&#21547; BMP &#22836;&#21644;&#25152;&#26377;&#25968;&#25454;)&#65292;&#35843;&#29992;&#31995;&#32479;&#20013;&#30340; <code>sha1sum</code> &#21629;&#20196;&#33719;&#24471;&#23427;&#30340;&#26657;&#39564;&#21644;&#65292;&#22312;&#26631;&#20934;&#36755;&#20986;&#20013;&#36880;&#34892;&#36755;&#20986;&#22270;&#29255;&#25991;&#20214;&#30340;&#26657;&#39564;&#21644;&#20197;&#21450;&#20320;&#24674;&#22797;&#20986;&#30340;&#25991;&#20214;&#21517;&#12290;&#21482;&#26377;&#26657;&#39564;&#21644;&#19982;&#25991;&#20214;&#21517;<strong>&#37117;&#24674;&#22797;&#27491;&#30830;&#19988;&#19968;&#33268;</strong>&#65292;&#25165;&#34987;&#35748;&#20026;&#27491;&#30830;&#24674;&#22797;&#20102;&#19968;&#20010;&#25991;&#20214;&#12290;</p>
<h3 id="21" class=" text-lg mt-2 pb-2 font-sans">2.1 &#22270;&#29255;&#24674;&#22797;&#20219;&#21153;</h3>
<p class=" font-serif my-1">&#36825;&#20010;&#23454;&#39564;&#24182;&#19981;&#26159;&#35753;&#22823;&#23478;&#30495;&#27491;&#32534;&#20889;&#19968;&#20010;&#20248;&#31168;&#30340; undelete &#24037;&#20855;&#12290;&#22914;&#26524;&#20570;&#21040;&#30340;&#35805;&#65292;&#20320;&#23601;&#21487;&#20197;&#24320;&#20844;&#21496;&#25379;&#22823;&#38065;&#20102;&#65281;EasyRecovery &#26366;&#32463;&#19968;&#24230;&#25379;&#21040;&#24456;&#22810;&#38065;&#8212;&#8212;&#22914;&#26524;&#20320;&#31359;&#36234;&#22238; 2000 &#24180;&#65292;&#23545;&#25991;&#20214;&#31995;&#32479;&#26377;&#19968;&#20123;&#20102;&#35299;&#65292;&#20320;&#20063;&#21487;&#20197;&#25379;&#22823;&#38065;&#65281;&#23454;&#39564;&#30340;&#30446;&#30340;&#26159;&#20026;&#20102;&#35753;&#22823;&#23478;&#20307;&#39564;&#19968;&#19979;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#20180;&#32454;&#38405;&#35835; FAT &#25991;&#20214;&#31995;&#32479;&#30340; specification&#12290;&#22240;&#20026;&#25163;&#20876;&#20307;&#37327;&#19981;&#22823;&#65292;&#31934;&#35835;&#25163;&#20876;&#22522;&#26412;&#22312;&#20320;&#30340;&#25484;&#25511;&#33539;&#22260;&#12290;&#36825;&#23558;&#32473;&#20320;&#26410;&#26469;&#38405;&#35835;&#26356;&#38271;&#30340;&#25163;&#20876;&#25171;&#19979;&#33391;&#22909;&#30340;&#22522;&#30784;&#65307;</li>
<li class=" ml-8">&#20889;&#20195;&#30721;&#20998;&#26512;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#65292;&#23588;&#20854;&#20307;&#20250; mmap &#24102;&#26469;&#30340;&#20415;&#21033;&#65307;</li>
<li class=" ml-8">&#20889;&#20195;&#30721;&#20998;&#26512;&#19968;&#20010;&#23454;&#38469;&#30340;&#20108;&#36827;&#21046;&#25991;&#20214;&#65306;&#25105;&#20204;&#36873;&#21462;&#30340;&#26159;&#20998;&#26512; BMP &#26684;&#24335;&#30340;&#22270;&#29255;&#25991;&#20214;&#65307;</li>
<li class=" ml-8">&#24819;&#19968;&#20010; (&#20063;&#35768;&#26159;&#38750;&#24120;&#31616;&#21333;) &#30340;&#31639;&#27861;&#24674;&#22797;&#20986;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340; BMP &#25991;&#20214;&#12290;&#20063;&#35768;&#33021; work &#30340;&#31639;&#27861;&#27604;&#20320;&#24819;&#35937;&#26356;&#31616;&#21333;&#12290;</li>
</ul>
<p class=" font-serif my-1">&#25105;&#20204;&#23545;&#36825;&#20010;&#38382;&#39064;&#20570;&#20102;&#30456;&#24403;&#30340;&#31616;&#21270;&#65292;&#39318;&#20808;&#65292;&#25105;&#20204;&#20445;&#35777;&#25105;&#20204;&#30340;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#20351;&#29992;&#22914;&#19979;&#26041;&#27861;&#21019;&#24314;&#30340; (&#20027;&#35201;&#20351;&#29992; <code>mkfs.fat</code> &#24037;&#20855;):</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">
<p class=" font-serif my-1">&#21019;&#24314;&#19968;&#20010;&#31354;&#25991;&#20214; (&#20363;&#22914;&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#30340;&#22823;&#23567;&#26159; 64 MiB)&#65292;&#20363;&#22914; <code>fs.img</code> </p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ cat /dev/zero | head -c $(( 1024 * 1024 * 64 )) &gt; fs.img
</code></pre></div>

</li>
<li class=" ml-8">
<p class=" font-serif my-1">&#22312;&#36825;&#20010;&#31354;&#38388;&#25991;&#20214;&#19978;&#21019;&#24314; FAT-32 &#25991;&#20214;&#31995;&#32479;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ mkfs.fat -v -F 32 -S 512 -s 8 fs.img
mkfs.fat 4.1 (2017-01-24)
WARNING: Not enough clusters for a 32 bit FAT!
fs.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 131072 sectors;
drive number 0x80;
filesystem has 2 32-bit FATs and 8 sectors per cluster.
FAT size is 128 sectors, and provides 16348 clusters.
There are 32 reserved sectors.
Volume ID is 6f71a2db, no volume label.
</code></pre></div>

<p class=" font-serif my-1">&#27880;&#24847;&#25105;&#20204;&#20351;&#29992;&#30340;&#36873;&#39033;&#65306;<code>-S 512</code> &#34920;&#31034; sector &#22823;&#23567;&#26159; 512, <code>-s 8</code> &#34920;&#31034;&#27599;&#20010; cluster &#26377; 8 &#20010; sectors&#12290;&#36825;&#20010;&#20449;&#24687;&#23545;&#22823;&#23478;&#27491;&#30830;&#32534;&#31243;&#38750;&#24120;&#37325;&#35201;&#8212;&#8212;&#22914;&#26524;&#20320;&#24819;&#20599;&#25042;&#65292;&#21487;&#20197;&#20551;&#35774;&#25105;&#20204;&#24635;&#26159;&#29992;&#36825;&#31181;&#26041;&#24335;&#21019;&#24314;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687; (&#21363;&#30828;&#32534;&#30721;&#36825;&#20010;&#20449;&#24687;)&#65292;&#20294;&#25105;&#20204;&#26356;&#25512;&#33616;&#20320;&#38405;&#35835;&#25163;&#20876;&#65292;&#20889;&#20986;&#20860;&#23481; FAT &#26631;&#20934;&#30340; frecov&#12290;</p>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#29992; <code>file</code> &#21629;&#20196;&#65292;&#21487;&#20197;&#26597;&#30475;&#21040;&#38236;&#20687;&#24050;&#32463;&#34987;&#27491;&#30830;&#26684;&#24335;&#21270;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ file fs.img
fs.img: DOS/MBR boot sector, code offset 0x58+2, OEM-ID "mkfs.fat", sectors/cluster 8, Media descriptor 0xf8, sectors/track 32, heads 64, sectors 131072 (volumes &gt; 32 MB), FAT (32 bit), sectors/FAT 128, serial number 0x166d2b7d, unlabeled
</code></pre></div>

</li>
<li class=" ml-8">
<p class=" font-serif my-1">&#25346;&#36733;&#26032;&#21019;&#24314;&#30340;&#25991;&#20214;&#31995;&#32479;&#65292;&#24182;&#21019;&#24314;&#26681;&#30446;&#24405;&#19979;&#30340; <code>DCIM</code> &#30446;&#24405;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ mount fs.img /mnt/
$ mkdir /mnt/DCIM
</code></pre></div>

</li>
<li class=" ml-8">
<p class=" font-serif my-1">&#27492;&#26102;&#65292;&#25991;&#20214;&#31995;&#32479;&#24050;&#34987;&#25346;&#36733; (mount) &#21040; <code>/mnt</code> &#30446;&#24405;&#19979;&#65292;&#24182;&#19988;&#26377;&#19968;&#20010; &#8220;DCIM&#8221; &#30446;&#24405;&#12290;&#28982;&#21518;&#25105;&#20204;&#20250;&#22312; DCIM &#30446;&#24405;&#20013;&#36827;&#34892;&#24456;&#22810;&#27425;&#22914;&#19979;&#30340;&#25991;&#20214;&#25805;&#20316;&#12290;&#23613;&#31649;&#22270;&#29255;&#25991;&#20214;&#20998;&#36776;&#29575;&#12289;&#22823;&#23567;&#21487;&#33021;&#19981;&#21516;&#65292;&#20294;&#37117;<strong>&#20445;&#35777;&#26159;&#30495;&#23454;&#19990;&#30028;&#20013;&#26377;&#24847;&#20041;&#30340;&#22270;&#29255;</strong> (&#32780;&#19981;&#26159;&#38543;&#26426;&#25968;&#29983;&#25104;&#22120;&#29983;&#25104;&#30340;&#38543;&#26426;&#25968;&#25454;)&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#21521; DCIM &#20013;&#22797;&#21046;&#22270;&#29255;&#25991;&#20214; (&#25991;&#20214;&#21517;&#20026;&#22823;/&#23567;&#20889;&#23383;&#27597;&#21644;&#25968;&#23383;&#12289;&#20943;&#21495;&#12289;&#19979;&#21010;&#32447;&#65292;&#20197; &#8220;.bmp&#8221; &#25110; &#8220;.BMP&#8221; &#32467;&#23614;)</li>
<li class=" ml-8">&#21024;&#38500; DCIM &#20013;&#30340;&#22270;&#29255;&#25991;&#20214;</li>
<li class=" ml-8">&#8230;&#8230;</li>
<li class=" ml-8">(&#21453;&#22797;&#25805;&#20316;&#20043;&#21518;&#65292;&#25991;&#20214;&#31995;&#32479;&#20013;&#21487;&#33021;&#23384;&#22312;&#19968;&#20123;&#30862;&#29255;&#21270;&#30340;&#24773;&#20917;)</li>
</ul>
</li>
<li class=" ml-8">
<p class=" font-serif my-1">&#21368;&#36733; (unmount) &#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#21518;&#65292;&#25105;&#20204;&#20250;&#37325;&#26032;&#36827;&#34892;&#19968;&#27425;&#25991;&#20214;&#31995;&#32479;&#30340;&#24555;&#36895;&#26684;&#24335;&#21270;&#65292;&#36890;&#36807;&#20351;&#29992;&#21516;&#26679;&#30340;&#36873;&#39033;&#20877;&#27425;&#35843;&#29992; <code>mkfs.fat</code>&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ mkfs.fat -v -F 32 -S 512 -s 8 fs.img
</code></pre></div>

</li>
</ol>
<p class=" font-serif my-1">&#27492;&#26102;&#30340; <code>fs.img</code> &#23601;&#26159;&#20320;&#35201;&#24674;&#22797;&#30340;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#12290;&#27492;&#22806;&#65292;&#20320;&#21487;&#20197;&#20551;&#35774;&#25152;&#26377;&#30340; BMP &#25991;&#20214;&#65292;&#37117;&#26159;&#20351;&#29992; Python PIL &#24211;&#21019;&#24314;&#30340; 24-bit &#20301;&#22270;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$<span class="w"> </span>file<span class="w"> </span>0M15CwG1yP32UPCp.bmp<span class="w"> </span>
0M15CwG1yP32UPCp.bmp:<span class="w"> </span>PC<span class="w"> </span>bitmap,<span class="w"> </span>Windows<span class="w"> </span><span class="m">3</span>.x<span class="w"> </span>format,<span class="w"> </span><span class="m">364</span><span class="w"> </span>x<span class="w"> </span><span class="m">448</span><span class="w"> </span>x<span class="w"> </span><span class="m">24</span>
</code></pre></div>

<h3 id="22" class=" text-lg mt-2 pb-2 font-sans">2.2 &#36755;&#20986;&#26684;&#24335;</h3>
<p class=" font-serif my-1">&#35797;&#22270;&#24674;&#22797;&#20986; DCIM &#30446;&#24405;&#19979;&#23613;&#21487;&#33021;&#22810;&#30340;&#22270;&#29255;&#25991;&#20214;&#12290;&#23545;&#20110;&#27599;&#20010;&#24674;&#22797;&#20986;&#30340;&#25991;&#20214;&#65292;&#36755;&#20986;&#19968;&#34892;&#65292;&#31532;&#19968;&#20010;&#23383;&#31526;&#20018;&#26159;&#35813;&#25991;&#20214;&#30340; SHA1 fingerprint (&#36890;&#36807;&#35843;&#29992;&#31995;&#32479;&#30340; <code>sha1sum</code> &#21629;&#20196;&#24471;&#21040;)&#65292;&#28982;&#21518;&#21487;&#20197;&#36755;&#20986;&#19968;&#20010;&#25110;&#22810;&#20010;&#31354;&#26684;&#65292;&#25509;&#19979;&#26469;&#36755;&#20986;&#22270;&#29255;&#30340;&#25991;&#20214;&#21517;&#65292;&#20363;&#22914;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>d60e7d3d2b47d19418af5b0ba52406b86ec6ef83  0M15CwG1yP32UPCp.bmp
1ab8c4f2e61903ae2a00d0820ea0111fac04d9d3  1yh0sw8n6.bmp
1681e23d7b8bb0b36c399c065514bc04badfde79  2Kbg82NaSqPga.bmp
...
</code></pre></div>

<p class=" font-serif my-1">&#20320;&#30340;&#36755;&#20986;&#20013;&#21487;&#33021;&#24102;&#26377;&#19968;&#20123;&#35843;&#35797;&#20449;&#24687;&#65292;&#25105;&#20204;&#20250;&#24573;&#30053;&#23427; (&#19981;&#35201;&#36755;&#20986;&#22826;&#22810;&#35843;&#35797;&#20449;&#24687;&#65292;&#21542;&#21017;&#20250;&#23548;&#33268; output limit exceeded)&#65292;&#20294;&#35831;&#20445;&#35777;&#20320;&#30340; SHA1 fingerprint &#21644;&#36755;&#20986;&#30340;&#25991;&#20214;&#21517;&#29420;&#21344;&#19968;&#34892;&#12290;</p>
<h2 id="3" class=" text-xl mt-2 pb-2 font-sans">3. &#27491;&#30830;&#24615;&#26631;&#20934;</h2>
<blockquote class=" bg-gray-200 p-2 rounded mb-2 mt-2 mx-4">
<p class=" font-serif my-1">&#35831;&#20005;&#26684;&#25353;&#29031; 2.2 &#20013;&#35268;&#23450;&#30340;&#36755;&#20986;&#26684;&#24335;&#36755;&#20986; (40 &#23383;&#33410;&#30340; sha1sum, &#20043;&#21518;&#26159;&#25991;&#20214;&#21517;)&#12290;</p>
</blockquote>
<h3 id="31" class=" text-lg mt-2 pb-2 font-sans">3.1 &#35780;&#27979;&#35828;&#26126;</h3>
<p class=" font-serif my-1">&#25105;&#20204;&#20250;&#20351;&#29992;&#19981;&#36229;&#36807; 128 MiB &#30340;&#38236;&#20687;&#25991;&#20214;&#26469;&#27979;&#35797;&#20320;&#30340;&#25991;&#20214;&#65292;&#28982;&#21518;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#25105;&#20204;&#26377; 10s &#30340; Time Limit (128 MiB &#30340;&#38236;&#20687;&#26377; 30s &#30340; Time Limit)&#12290;&#22914;&#26524;&#20320;&#30340;&#31243;&#24207;&#36895;&#24230;&#36739;&#24930;&#65292;&#20320;&#21487;&#20197;&#32771;&#34385;&#22312;&#27599;&#24674;&#22797;&#20986;&#19968;&#20010;&#22270;&#29255;&#21518;&#25171;&#21360;&#65292;&#24182; flush stdout (&#36229;&#26102;&#30340;&#31243;&#24207;&#20250;&#34987;&#32456;&#27490;&#65292;&#20294;&#21482;&#35201;&#24674;&#22797;&#30340;&#25991;&#20214;&#21517;/&#22270;&#29255;&#27491;&#30830;&#21363;&#21028;&#23450;&#20026;&#27491;&#30830;)&#65292;&#24314;&#35758;&#20351;&#29992;&#20869;&#23384;&#19981;&#35201;&#36229;&#36807; 1 GB&#65307;</li>
<li class=" ml-8">&#36229;&#36807; 10% &#30340;&#25991;&#20214;&#21517;&#34987;&#24674;&#22797;&#27491;&#30830;&#65292;&#21487;&#20197;&#36890;&#36807;&#25152;&#26377; easy test cases&#65307;</li>
<li class=" ml-8">&#36229;&#36807; 50% &#30340;&#25991;&#20214;&#21517;&#34987;&#24674;&#22797;&#27491;&#30830;&#65292;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010; hard test case&#65307;</li>
<li class=" ml-8">&#36229;&#36807; 75% &#30340;&#25991;&#20214;&#21517;&#21644; 50% &#30340;&#22270;&#29255;&#34987;&#24674;&#22797;&#27491;&#30830;&#65292;&#21487;&#20197;&#36890;&#36807;&#25152;&#26377; hard test cases&#12290;</li>
</ul>
<p class=" font-serif my-1">&#19981;&#24517;&#25226;&#22270;&#29255;&#24674;&#22797;&#20219;&#21153;&#24819;&#35937;&#24471;&#22826;&#22256;&#38590;&#8212;&#8212;&#22823;&#25991;&#20214;&#22312;&#25991;&#20214;&#31995;&#32479;&#20013;&#26159;&#20542;&#21521;&#20110;&#36830;&#32493;&#23384;&#20648;&#30340;&#65292;&#23601;&#20687;&#22312;&#19979;&#38754;&#21442;&#32771;&#38236;&#20687;&#30340; FAT &#34920;&#20013;&#30475;&#21040;&#30340;&#37027;&#26679;&#12290;</p>
<p class=" font-serif my-1">&#27492;&#22806;&#65292;Online Judge &#20250;&#25226;&#20320;&#30340;&#36755;&#20986;&#20316;&#20026;&#19968;&#20010; utf-8 &#23383;&#31526;&#20018;&#36827;&#34892;&#35835;&#21462;&#12290;&#22240;&#27492;&#65292;&#22914;&#26524;&#20320;&#36755;&#20986;&#20102;&#38750;&#27861;&#30340;&#23383;&#31526; (&#20363;&#22914;&#19981;&#32463;&#26816;&#26597;&#22320;&#36755;&#20986;&#24674;&#22797;&#30340;&#25991;&#20214;&#21517;&#65292;&#20294;&#20854;&#23454;&#24182;&#19981;&#26159;&#21512;&#27861;&#30340;&#25991;&#20214;&#21517;)&#65292;&#23558;&#26377;&#21487;&#33021;&#23548;&#33268;&#35299;&#30721;&#22833;&#36133;&#65292;&#24471;&#21040; Invalid Output&#12290;</p>
<h3 id="32" class=" text-lg mt-2 pb-2 font-sans">3.2 &#21442;&#32771;&#38236;&#20687;</h3>
<p class=" font-serif my-1">&#25105;&#20204;&#20026;&#22823;&#23478;&#25552;&#20379;&#20102;&#19968;&#20010;&#21442;&#32771;&#25991;&#20214;&#31995;&#32479;&#38236;&#20687;&#12290;&#23454;&#38469;&#27979;&#35797;&#30340;&#22270;&#20687;&#26469;&#33258;&#21516;&#19968;&#20010;&#25968;&#25454;&#38598; (WikiArt)&#65292;&#20294;&#25105;&#20204;&#21487;&#33021;&#20250;&#25361;&#36873;&#19981;&#21516;&#30340;&#22270;&#29255;&#12289;&#36171;&#20104;&#25991;&#20214;&#20854;&#20182;&#30340;&#38543;&#26426;&#21517;&#31216;&#25110;&#25913;&#21464;&#22270;&#20687;&#30340;&#22823;&#23567;&#65292;&#20294;&#25152;&#26377;&#38543;&#26426;&#30340;&#21442;&#25968;&#37117;&#19982;&#25105;&#20204;&#32473;&#20986;&#30340;&#38236;&#20687;&#30456;&#21516; (&#20363;&#22914;&#38543;&#26426;&#30340;&#25991;&#20214;&#21517;&#38271;&#24230;&#30340;&#20998;&#24067;&#31561;)&#12290;&#38236;&#20687;&#35831;<a href="https://box.nju.edu.cn/f/0764665b70a34599813c/?dl=1" class=" text-amber-900">&#28857;&#36825;&#37324;&#19979;&#36733;</a>&#12290;</p>
<p class=" font-serif my-1">&#38236;&#20687;&#19979;&#36733;&#23436;&#27605;&#21518;&#21487;&#20197;&#30452;&#25509;&#22312;&#25991;&#20214;&#31995;&#32479;&#20013;&#25346;&#36733; (&#20320;&#21487;&#33021;&#38656;&#35201; root &#26435;&#38480;)&#65292;&#36825;&#20010;&#38236;&#20687;&#25991;&#20214;&#23601;&#25104;&#20026;&#20102;&#25991;&#20214;&#31995;&#32479;&#30340;&#19968;&#37096;&#20998;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ mount /tmp/M5-frecov.img /mnt/
$ tree /mnt/
/mnt
&#9492;&#9472;&#9472; DCIM
    &#9500;&#9472;&#9472; 0M15CwG1yP32UPCp.bmp
    &#9500;&#9472;&#9472; 1yh0sw8n6.bmp
    &#9500;&#9472;&#9472; 2Kbg82NaSqPga.bmp
    ...
</code></pre></div>

<p class=" font-serif my-1">&#20320;&#21487;&#20197;&#26597;&#30475;&#20854;&#20013;&#30340;&#22270;&#29255;&#25991;&#20214;&#65292;&#20363;&#22914; <code>3DhTVVP9avTrH.bmp</code> &#26159;&#19979;&#38754;&#30340;&#22270;&#29255;&#65306;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/3DhTVVP9avTrH.jpg" width="480px"></p>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#29992;&#20108;&#36827;&#21046;&#24037;&#20855; (&#20363;&#22914;&#25105;&#20204;&#20351;&#29992;&#30340;&#26159; xxd) &#26597;&#30475;&#38236;&#20687;&#25991;&#20214;&#65292;&#20320;&#33021;&#21457;&#29616;&#27491;&#30830;&#30340; FAT &#34920;&#65292;&#20197;&#38142;&#34920;&#30340;&#24418;&#24335;&#20445;&#23384;&#20102;&#27599;&#20010;&#22270;&#20687;&#25991;&#20214;&#30340;&#19979;&#19968;&#20010;&#25968;&#25454;&#22359; (&#22312; FAT &#31995;&#32479;&#20013;&#65292;&#26159; cluster &#30340;&#32534;&#21495;)&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>00004000: f8ff ff0f ffff ff0f f8ff ff0f 1720 0000  ............. ..
00004010: 0500 0000 0600 0000 0700 0000 0800 0000  ................
00004020: 0900 0000 0a00 0000 0b00 0000 0c00 0000  ................
00004030: 0d00 0000 0e00 0000 0f00 0000 1000 0000  ................
00004040: 1100 0000 1200 0000 1300 0000 1400 0000  ................
</code></pre></div>

<p class=" font-serif my-1">&#25509;&#19979;&#26469;&#65292;&#20320;&#21487;&#20197;&#27169;&#25311; Online Judge &#22312;&#27979;&#35797;&#20320;&#30340;&#20195;&#30721;&#21069;&#25152;&#20570;&#30340;&#25805;&#20316;&#65306;&#20351;&#29992; <code>mkfs.fat</code> &#24555;&#36895;&#26684;&#24335;&#21270;&#36825;&#20010;&#30913;&#30424;&#38236;&#20687;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ mkfs.fat -v -F 32 -S 512 -s 8 M5-frecov.img
mkfs.fat 4.1 (2017-01-24)
WARNING: Not enough clusters for a 32 bit FAT!
/tmp/M5-frecov.img has 64 heads and 32 sectors per track,
hidden sectors 0x0000;
logical sector size is 512,
using 0xf8 media descriptor, with 131072 sectors;
drive number 0x80;
filesystem has 2 32-bit FATs and 8 sectors per cluster.
FAT size is 128 sectors, and provides 16348 clusters.
There are 32 reserved sectors.
Volume ID is a332d0ad, no volume label.
</code></pre></div>

<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#25509;&#19979;&#26469;&#20877;&#27425;&#25346;&#36733;&#36825;&#20010;&#38236;&#20687;&#65292;&#23558;&#20250;&#30475;&#21040;&#23436;&#20840;&#31354;&#30333;&#30340;&#30446;&#24405;&#65292;&#20223;&#20315;&#30913;&#30424;&#38236;&#20687;&#19978;&#30340;&#25152;&#26377;&#25991;&#20214;&#37117;&#34987;&#21024;&#38500;&#20102;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ tree /mnt/
/mnt/

0 directories, 0 files
</code></pre></div>

<p class=" font-serif my-1">&#22914;&#26524;&#20877;&#27425;&#26597;&#30475; <code>M5-frecov.img</code> &#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#20320;&#20250;&#21457;&#29616;&#20998;&#21306;&#34920;&#24050;&#32463;&#34987; &#8220;&#25273;&#38500;&#8221; &#20102;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>00004000: f8ff ff0f ffff ff0f f8ff ff0f 0000 0000  ................
00004010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00004020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00004030: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00004040: 0000 0000 0000 0000 0000 0000 0000 0000  ................
</code></pre></div>

<p class=" font-serif my-1">&#34429;&#28982;&#25805;&#20316;&#31995;&#32479;&#24050;&#32463;&#30475;&#19981;&#21040;&#30913;&#30424;&#19978;&#30340;&#25991;&#20214;&#20102;&#65292;&#20294;&#22914;&#26524;&#20320;&#20180;&#32454;&#22320;&#25628;&#32034; (&#20351;&#29992; &#8220;&#26597;&#25214;&#8221; &#24037;&#20855;) &#19968;&#19979;&#65292;&#36824;&#26159;&#21487;&#20197;&#21457;&#29616;&#19968;&#20123;&#34523;&#19997;&#39532;&#36857;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>00025ae0: 4250 0043 0070 002e 0062 000f 0089 6d00  BP.C.p...b....m.
00025af0: 7000 0000 ffff ffff ffff 0000 ffff ffff  p...............
00025b00: 0130 004d 0031 0035 0043 000f 0089 7700  .0.M.1.5.C....w.
00025b10: 4700 3100 7900 5000 3300 0000 3200 5500  G.1.y.P.3...2.U.
00025b20: 304d 3135 4357 7e31 424d 5020 0064 2b5a  0M15CW~1BMP .d+Z
00025b30: ac50 ac50 0000 2b5a ac50 6915 3677 0700  .P.P..+Z.Pi.6w..
</code></pre></div>

<p class=" font-serif my-1">&#36825;&#22909;&#20687;&#20197;&#26576;&#31181;&#26684;&#24335; (FAT32 &#30340; directory entry) &#23384;&#20648;&#20102; &#8220;<code>0M15CwG1yP32UPCp.bmp</code>&#8221; &#30456;&#20851;&#30340;&#20449;&#24687;&#12290;&#27492;&#22806;&#65292;bitmap &#22270;&#29255;&#25991;&#20214;&#30340;&#25991;&#20214;&#22836;&#20063;&#34987;&#23436;&#25972;&#22320;&#22312;&#25968;&#25454;&#21306;&#37324;&#20445;&#30041;&#19979;&#26469;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>000fb000: 424d 2ecf 0f00 0000 0000 3600 0000 2800  BM........6...(.
000fb010: 0000 0202 0000 9f02 0000 0100 1800 0000  ................
000fb020: 0000 f8ce 0f00 c40e 0000 c40e 0000 0000  ................
000fb030: 0000 0000 0000 7d74 9986 7ba3 6c61 8888  ......}t..{.la..
000fb040: 7ea4 8076 9d84 7ca2 766d 9469 6187 6a64  ~..v..|.vm.ia.jd
</code></pre></div>

<p class=" font-serif my-1">&#20320;&#30340; <code>frecov</code> &#20250;&#34987;&#35843;&#29992;&#65292;&#36816;&#34892;&#22312;&#36825;&#20010;&#26684;&#24335;&#21270;&#21518;&#30340;&#38236;&#20687;&#19978;&#65292;&#28982;&#21518;&#39044;&#26399;&#20250;&#24471;&#21040;&#19968;&#23450;&#30340;&#36755;&#20986;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>d60e7d3d2b47d19418af5b0ba52406b86ec6ef83  0M15CwG1yP32UPCp.bmp
...
</code></pre></div>

<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#25346;&#36733;&#27809;&#26377;&#34987;&#26684;&#24335;&#21270;&#36807;&#30340; <code>M5-frecov.img</code>&#65292;&#20320;&#21487;&#20197;&#26597;&#30475;&#25152;&#26377;&#22270;&#29255;&#30340; sha1sum&#65292;&#20174;&#32780;&#26816;&#26597;&#20320;&#27491;&#30830;&#24674;&#22797;&#20102;&#21738;&#20123;&#22270;&#29255;&#12290;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ cd /mnt/DCIM &amp;&amp; sha1sum *.bmp
d60e7d3d2b47d19418af5b0ba52406b86ec6ef83  0M15CwG1yP32UPCp.bmp
1ab8c4f2e61903ae2a00d0820ea0111fac04d9d3  1yh0sw8n6.bmp
1681e23d7b8bb0b36c399c065514bc04badfde79  2Kbg82NaSqPga.bmp
aabd1ef8a2371dd64fb64fc7f10a0a31047d1023  2pxHTrpI.bmp
...
</code></pre></div>

<h2 id="4" class=" text-xl mt-2 pb-2 font-sans">4. &#23454;&#39564;&#25351;&#21335;</h2>
<h3 id="41-fat32" class=" text-lg mt-2 pb-2 font-sans">4.1 FAT32 &#25991;&#20214;&#31995;&#32479;</h3>
<p class=" font-serif my-1">&#25105;&#20204;&#25552;&#20379;&#20102;&#19968;&#20221; <a href="../../../pages/OS/manuals/MSFAT-spec.pdf" class=" text-amber-900">Microsoft FAT Specification</a> &#30340; local copy&#12290;&#20320;&#21487;&#20197;&#35797;&#19968;&#35797;&#65306;&#19981;&#20511;&#21161;&#20219;&#20309;&#20854;&#20182;&#26377;&#20851; FAT &#30340; blog post, tutorial &#21644;&#20195;&#30721;&#65292;&#20320;&#20250;&#28176;&#28176;&#35273;&#24471; RTFM &#19981;&#37027;&#20040;&#22256;&#38590;&#20102;&#12290;&#22914;&#26524;&#20320;&#20381;&#28982;&#24863;&#21040;&#22256;&#38590;&#65292;&#21487;&#20197;&#22238;&#30475;&#35270;&#39057;&#24182;&#21442;&#32771;&#35838;&#22530;&#19978;&#30340;&#23454;&#20363;&#20195;&#30721; <a href="http://localhost:5001/OS/2023/demos/fatree.c" class=" text-amber-900">fatree.c</a>&#65292;&#20294;&#25105;&#20204;<strong><red>&#24378;&#28872;&#24314;&#35758;&#22823;&#23478;&#19981;&#35201;&#22797;&#21046;&#20854;&#20013;&#30340;&#20195;&#30721;&#32780;&#26159;&#33258;&#24049;&#32534;&#20889;</red></strong>&#65292;&#20197;&#24471;&#21040;&#26368;&#22909;&#30340;&#35757;&#32451;&#12290;</p>
<p class=" font-serif my-1">FAT &#25991;&#20214;&#31995;&#32479;&#26159;&#30001;&#19968;&#20123;&#22836;&#37096;&#20449;&#24687; (&#20803;&#25968;&#25454;)&#12289;FAT (&#25991;&#20214;&#20998;&#37197;&#34920;) &#21644;&#25968;&#25454; (cluster, &#24494;&#36719;&#30340;&#23448;&#26041;&#32763;&#35793;&#26159; &#8220;&#31751;&#8221;) &#32452;&#25104;&#30340;&#12290;&#22914;&#26524;&#20320;&#20570;&#19968;&#20123;&#20998;&#26512;&#65292;&#20320;&#20250;&#30693;&#36947;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">FAT &#25991;&#20214;&#30340;&#22836;&#37096;&#26159;&#21487;&#29992;&#30340;&#8212;&#8212;&#25105;&#20204;&#29992;&#21516;&#26679;&#30340;&#26041;&#24335;&#36827;&#34892;&#20004;&#27425;&#26684;&#24335;&#21270;&#65307;</li>
<li class=" ml-8">FAT &#34920;&#23558;&#34987;&#28165;&#31354;&#65292;&#27492;&#37096;&#20998;&#30340;&#25968;&#25454;&#30456;&#24403;&#20110;&#20840;&#37096;&#20002;&#22833;&#65307;</li>
<li class=" ml-8">&#25968;&#25454;&#21306;&#20960;&#20046;&#27809;&#26377;&#21464;&#21270;&#8212;&#8212;&#25105;&#20204;&#25191;&#34892;&#30340;&#26159; &#8220;&#24555;&#36895;&#8221; &#26684;&#24335;&#21270;&#12290;</li>
</ol>
<p class=" font-serif my-1">&#25509;&#19979;&#26469;&#65292;&#20320;&#23601;&#21487;&#20197;&#24320;&#22987;&#29031;&#25220;&#25163;&#20876;&#65292;&#36827;&#34892; FAT &#25991;&#20214;&#31995;&#32479;&#30340;&#35299;&#26512;&#20102;&#65292;&#20363;&#22914;&#25163;&#20876;&#24050;&#32463;&#35814;&#32454;&#22320;&#35268;&#23450;&#22909;&#20102; FAT32 &#25991;&#20214;&#31995;&#32479;&#21069; 512 &#20010;&#23383;&#33410;&#30340;&#26684;&#24335;&#65292;&#20320;&#19981;&#22952;&#25226;&#23427;&#35299;&#37322;&#25104;&#19968;&#20010;&#32467;&#26500;&#20307;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">fat32hdr</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">u8</span><span class="w">  </span><span class="n">BS_jmpBoot</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="n">u8</span><span class="w">  </span><span class="n">BS_OEMName</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="w">  </span><span class="n">u16</span><span class="w"> </span><span class="n">BPB_BytsPerSec</span><span class="p">;</span>
<span class="w">  </span><span class="n">u8</span><span class="w">  </span><span class="n">BPB_SecPerClus</span><span class="p">;</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="n">u8</span><span class="w">  </span><span class="n">__padding_1</span><span class="p">[</span><span class="mi">420</span><span class="p">];</span>
<span class="w">  </span><span class="n">u16</span><span class="w"> </span><span class="n">Signature_word</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>
</code></pre></div>

<p class=" font-serif my-1">&#8220;&#25220;&#25163;&#20876;&#8221; &#24456;&#23481;&#26131;&#25220;&#38169;&#65311;&#19981;&#35201;&#24536;&#35760; <code>_static_assert(sizeof(struct fat32hdr) == 512)</code>&#12290;&#28982;&#21518;&#20320;&#20250;&#31070;&#22855;&#22320;&#21457;&#29616;&#65292;&#22914;&#26524;&#20320;&#20351;&#29992; mmap &#31995;&#32479;&#35843;&#29992;&#23558;&#30913;&#30424;&#26144;&#23556;&#21040;&#22320;&#22336;&#31354;&#38388;&#20013;&#65292;&#20363;&#22914;&#36820;&#22238; <code>disk</code>&#65292;&#37027;&#20040;&#20320;&#23601;&#21487;&#20197;&#30452;&#25509;&#35775;&#38382;&#30913;&#30424;&#38236;&#20687;&#22836;&#37096;&#30340;&#20803;&#25968;&#25454;&#20102;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">panic_on</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">fat_header</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w"> </span><span class="s">"bad header"</span><span class="p">);</span>
<span class="n">panic_on</span><span class="p">(</span><span class="n">disk</span><span class="o">-&gt;</span><span class="n">signature</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mh">0xaa55</span><span class="p">,</span><span class="w"> </span><span class="s">"not a valid fat"</span><span class="p">);</span>
<span class="n">cluster_sz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">disk</span><span class="o">-&gt;</span><span class="n">BPB_BytsPerSec</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">disk</span><span class="o">-&gt;</span><span class="n">BPB_SecPerClus</span><span class="p">;</span>
</code></pre></div>

<p class=" font-serif my-1">&#36825;&#20010;&#26102;&#20505;&#65292;&#20320;&#23601;&#21487;&#20197;&#30495;&#27491;&#22312;&#20869;&#23384;&#37324;&#20219;&#24847; &#8220;&#25226;&#29609;&#8221; &#36825;&#20010;&#25968;&#25454;&#32467;&#26500;&#20102;&#12290;&#20570;&#19968;&#20123;&#23454;&#39564;&#65292;&#30475;&#30475;&#33021;&#19981;&#33021;&#22312;&#25991;&#20214;&#31995;&#32479;&#20013;&#25214;&#21040;&#19968;&#20123;&#26377;&#29992;&#30340;&#25968;&#25454;&#12290;&#35760;&#24471;&#25105;&#20204;&#22312;&#35838;&#22530;&#19978;&#35299;&#37322;&#36807;&#65292;&#25991;&#20214;&#31995;&#32479;&#26159;&#22522;&#20110; block I/O &#23553;&#35013;&#30340;&#25968;&#25454;&#32467;&#26500;&#12290;&#24403;&#25105;&#20204;&#23436;&#25104; mmap &#20197;&#21518;&#65292;&#23427;&#23601;&#30495;&#30340;&#26159;&#19968;&#20010;&#20869;&#23384;&#37324;&#30340;&#25968;&#25454;&#32467;&#26500;&#20102;&#65292;&#38500;&#20102;&#26377;&#20123; &#8220;&#25351;&#38024;&#8221; &#38656;&#35201;&#32463;&#36807;&#39069;&#22806;&#30340;&#35745;&#31639;&#25165;&#33021;&#24471;&#21040;&#23427;&#25351;&#21521;&#30340;&#22320;&#22336;&#12290;</p>
<h3 id="42-bmp" class=" text-lg mt-2 pb-2 font-sans">4.2 BMP &#25991;&#20214;&#26684;&#24335;</h3>
<p class=" font-serif my-1">&#20026;&#20102;&#23436;&#25104;&#23454;&#39564;&#65292;&#20320;&#36824;&#38656;&#35201;&#20102;&#35299; BMP &#25991;&#20214;&#30340;&#26684;&#24335;&#12290;&#20026;&#20102;&#38203;&#28860;&#22823;&#23478;&#29420;&#31435;&#24605;&#32771;&#12289;&#26597;&#25214;&#36164;&#26009;&#30340;&#33021;&#21147;&#65292;&#20851;&#20110; BMP &#25991;&#20214;&#30340;&#32454;&#33410;&#35831; STFW&#12290;&#22909;&#28040;&#24687;&#26159;&#36825;&#37096;&#20998;&#20320;&#20204;&#38656;&#35201;&#26597;&#38405;&#30340;&#36164;&#26009;&#24456;&#31616;&#21333;&#65292;&#30001;&#20110;&#25105;&#20204;&#30340; BMP &#37117;&#26159;&#20197;&#21516;&#26679;&#30340;&#26041;&#24335;&#21019;&#24314;&#30340;&#65292;&#20320;&#21487;&#20197;&#24573;&#30053;&#20854;&#20013;&#22823;&#37096;&#20998;&#30340; fields&#65292;&#21482;&#38656;&#20851;&#27880;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">bitmap &#23384;&#20648;&#21306;&#22495;&#24320;&#22987;&#30340; offset&#65307;</li>
<li class=" ml-8">&#22270;&#29255;&#30340;&#23485;&#24230;&#21644;&#39640;&#24230;&#12290;</li>
</ol>
<h3 id="43-clusters" class=" text-lg mt-2 pb-2 font-sans">4.3 &#25195;&#25551; Clusters</h3>
<p class=" font-serif my-1">&#22312;&#20320;&#23545; FAT32 &#25991;&#20214;&#31995;&#32479;&#26377;&#20102;&#36275;&#22815;&#30340;&#35748;&#35782;&#20197;&#21518;&#65292;&#20320;&#20250;&#21457;&#29616;&#22312;&#25105;&#20204;&#30340;&#38382;&#39064;&#20013;&#65292;&#25968;&#25454;&#21306;&#30340; clusters &#20998;&#25104;&#20197;&#19979;&#20960;&#31181;&#24773;&#20917;&#65306;</p>
<ol class=" list-decimal font-serif">
<li class=" ml-8">&#30446;&#24405;&#25991;&#20214;&#65292;&#23384;&#20648;&#33509;&#24178;&#30446;&#24405;&#39033; (directory entry)&#65292;&#23545;&#24212;&#25163;&#20876; Sections 6 &#21644; 7 &#25551;&#36848;&#30340;&#20869;&#23481;&#12290;&#27880;&#24847; Section 7 &#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#65292;&#22240;&#20026;&#20320;&#24517;&#39035;&#24674;&#22797;&#20986;&#23436;&#25972;&#30340;&#25991;&#20214;&#21517;&#65307;</li>
<li class=" ml-8">BMP &#25991;&#20214;&#30340;&#22836;&#37096;&#65292;&#20197; &#8220;<code>424d</code> (<code>BM</code>)&#8221; &#24320;&#22836;&#65307;</li>
<li class=" ml-8">BMP &#25991;&#20214;&#30340;&#23454;&#38469;&#25968;&#25454;&#65292;&#25353;&#29031; 3 &#23383;&#33410;&#19968;&#32452;&#25353;&#39034;&#24207;&#23384;&#20648;&#20102;&#22270;&#29255;&#20013;&#30340;&#25152;&#26377;&#20687;&#32032;&#65307;</li>
<li class=" ml-8">&#26410;&#20351;&#29992;&#30340; cluster&#12290;</li>
</ol>
<p class=" font-serif my-1">&#22312; FAT &#34920;&#34987;&#28165;&#38500;&#21518;&#65292;&#25105;&#20204;&#24050;&#32463;&#26080;&#27861;&#26681;&#25454; FAT &#24674;&#22797;&#20986;&#30446;&#24405;&#30340;&#26641;&#29366;&#32467;&#26500;&#20102;&#12290;&#22240;&#27492;&#25509;&#19979;&#26469;&#25105;&#20204;&#35201;&#20570;&#30340;&#26159;&#19968;&#20010;&#20998;&#31867;&#38382;&#39064;&#65306;&#25105;&#20204;&#38656;&#35201;&#20381;&#27425;&#25195;&#25551;&#30913;&#30424;&#20013;&#30340;&#25152;&#26377; clusters&#65292;&#24182;&#23558;&#23427;&#20204;&#26631;&#35760;&#20026;&#20197;&#19978; 4 &#31867;&#12290;&#20320;&#19981;&#38656;&#35201;&#20351;&#29992;&#20219;&#20309;&#26426;&#22120;&#23398;&#20064;&#8212;&#8212;&#20320;&#21487;&#20197;&#25163;&#24037;&#30828;&#32534;&#30721;&#19968;&#20123;&#29305;&#24449;&#65292;&#23601;&#36275;&#22815;&#23436;&#25104;&#35782;&#21035;&#20102;&#65292;&#20363;&#22914;&#30446;&#24405;&#25991;&#20214;&#37324;&#24635;&#26159;&#21253;&#21547;&#22823;&#37327;&#30340; &#8220;BMP&#8221; &#23383;&#31526;&#65292;&#36825;&#26159;&#25968;&#25454;&#21644; bitmap &#25991;&#20214;&#22836;&#25152;&#27809;&#26377;&#30340;&#12290;&#20320;&#19981;&#38656;&#35201;&#20570;&#24471; 100% &#20934;&#30830;&#65292;&#22240;&#20026;&#20320;&#21482;&#35201;&#24674;&#22797;&#30456;&#24403;&#19968;&#37096;&#20998;&#25991;&#20214;&#21363;&#21487;&#65307;&#20294;&#20320;&#35201;&#23567;&#24515;&#22320;&#32534;&#20889;&#20581;&#22766;&#30340;&#20195;&#30721;&#65292;&#20351;&#24471;&#20998;&#31867;&#38169;&#35823;&#21457;&#29983;&#26102;&#31243;&#24207;&#19981;&#20250;&#21457;&#29983;&#22826;&#22823;&#30340;&#38382;&#39064;&#8212;&#8212;&#20320;&#30340;&#31243;&#24207;&#21487;&#33021;&#22312;&#20998;&#31867;&#38169;&#35823;&#26102; (&#20363;&#22914;&#23558;&#20301;&#22270;&#25968;&#25454;&#35299;&#26512;&#20026;&#30446;&#24405;&#26102;) &#22240;&#20026;&#38750;&#27861;&#30340;&#36755;&#20837;&#32780; crash&#12290;</p>
<h3 id="44" class=" text-lg mt-2 pb-2 font-sans">4.4 &#22270;&#29255;&#25968;&#25454;&#24674;&#22797;</h3>
<p class=" font-serif my-1">&#25509;&#19979;&#26469;&#65292;&#20320;&#38656;&#35201;&#30340;&#26159;&#24674;&#22797;&#30446;&#24405;&#25991;&#20214;&#20013;&#30340;&#30446;&#24405;&#39033;&#65292;&#20174;&#32780;&#24471;&#21040;&#25991;&#20214;&#21517;&#12290;&#25163;&#20876;&#19978;&#23545;&#30446;&#24405;&#25991;&#20214;&#20013;&#30340;&#30446;&#24405;&#39033;&#32473;&#20986;&#20102;&#31934;&#30830;&#30340;&#23450;&#20041;&#12290;&#24403;&#20320;&#38656;&#35201;&#20889;&#20195;&#30721;&#35299;&#26512;&#25991;&#20214;&#26102;&#65292;&#25163;&#20876;&#23601;&#27604; blog posts &#38752;&#35889;&#24471;&#22810;&#20102;&#12290;&#22312;&#36825;&#37324;&#65292;&#20320;&#35201;&#23567;&#24515;&#30446;&#24405;&#39033;&#21487;&#33021;&#36328;&#36807; cluster &#30340;&#24773;&#20917;&#8212;&#8212;&#24403;&#28982;&#31616;&#21333;&#36215;&#35265;&#65292;&#20320;&#21487;&#20197;&#25918;&#24323;&#36825;&#20010;&#25991;&#20214;&#30340;&#24674;&#22797;&#65292;&#21482;&#35201;&#20320;&#30340;&#31243;&#24207;&#19981;&#20250;&#22240;&#27492; crash &#23601;&#34892;&#12290;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/fat-filename.png" width="640px"></p>
<p class=" font-serif my-1">&#24403;&#20320;&#24674;&#22797;&#20986;&#19968;&#20010;&#30446;&#24405;&#39033;&#20197;&#21518;&#65292;&#20320;&#19981;&#20165;&#24471;&#21040;&#20102;&#27491;&#30830;&#30340;&#25991;&#20214;&#21517;&#65292;&#32780;&#19988;&#24471;&#21040;&#20102;&#19968;&#20010;&#38750;&#24120;&#26377;&#29992;&#30340;&#20449;&#24687;&#65306;&#36825;&#20010;&#25991;&#20214;&#21517;&#23545;&#24212;&#30340; cluster ID&#65292;&#20320;&#26681;&#25454;&#36825;&#20010;&#22359;&#30340;&#32534;&#21495;&#23601;&#21487;&#20197;&#25214;&#21040;&#19968;&#20010;&#20445;&#35777;&#26159; BMP header &#30340; cluster&#8212;&#8212;&#20320;&#21487;&#20197;&#21644;&#20320;&#22312;&#25195;&#25551; clusters &#26102;&#30340;&#20998;&#31867;&#32467;&#26524;&#36827;&#34892;&#21305;&#37197;&#65292;&#22914;&#26524;&#36825;&#20010; cluster &#19981;&#26159;&#19968;&#20010; bitmap header&#65292;&#20320;&#21487;&#33021;&#38656;&#35201;&#25918;&#24323;&#36825;&#20010;&#25991;&#20214;&#30340;&#24674;&#22797;&#12290;</p>
<p class=" font-serif my-1">&#25509;&#19979;&#26469;&#21097;&#19979;&#30340;&#24037;&#20316;&#23601;&#26159;&#24674;&#22797;&#22270;&#29255;&#30340;&#21097;&#19979;&#37096;&#20998;&#20102;&#65281;&#26368;&#31616;&#21333;&#22320;&#65292;&#20320;&#21487;&#20197;&#20551;&#35774;&#22270;&#29255;&#21097;&#19979;&#30340;&#37096;&#20998; (clusters) &#37117;&#36830;&#32493;&#22320;&#23384;&#20648;&#22312;&#25991;&#20214;&#20013;&#12290;&#22240;&#27492;&#20320;&#21482;&#35201;&#27491;&#30830;&#30693;&#36947;&#25991;&#20214;&#30340;&#22823;&#23567; (&#36825;&#20010;&#20449;&#24687;&#22312;&#30446;&#24405;&#39033;&#20013;&#20063;&#26377;)&#65292;&#20320;&#23601;&#21487;&#20197;&#30452;&#25509;&#24674;&#22797;&#20986;&#19968;&#24352;&#22270;&#29255;&#20102;&#12290;</p>
<p class=" font-serif my-1">&#22914;&#26524;&#24819;&#35201;&#26356;&#36827;&#19968;&#27493;&#65292;&#23601;&#38656;&#35201;&#20570;&#20986;&#19968;&#20123;&#25968;&#23398;&#19978;&#30340;&#20998;&#26512;&#12290;&#25105;&#20204;&#20002;&#22833;&#30340;&#26159; FAT &#34920;&#65292;&#20063;&#23601;&#26159;&#25152;&#26377;&#30340; &#8220;&#38142;&#25509;&#8221; &#20851;&#31995;&#12290;&#20363;&#22914;&#65292;&#25105;&#20204;&#21487;&#20197;&#25226;&#25991;&#20214;&#24674;&#22797;&#24314;&#27169;&#25104;&#19968;&#20010;&#22270;&#38382;&#39064;&#65306;</p>
<ul class=" list-disc font-serif">
<li class=" ml-8">&#24314;&#31435;&#26377;&#21521;&#22270; $G$&#65292;&#20854;&#20013;&#27599;&#19968;&#20010; cluster &#26159;&#19968;&#20010;&#39030;&#28857;&#12290;</li>
<li class=" ml-8">&#23545;&#20110;&#20004;&#20010;&#39030;&#28857; $u$, $v$&#65292;&#24314;&#31435;&#19968;&#26465;&#36793; $u \to v$&#65292;&#26435;&#20540;&#26159; $u$&#12289;$v$ &#20316;&#20026;&#21516;&#19968;&#20010;&#25991;&#20214;&#36830;&#32493;&#20004;&#22359;&#30340;&#27010;&#29575;&#12290;</li>
<li class=" ml-8">&#22270;&#20013;&#27599;&#19968;&#26465; &#8220;&#27010;&#29575;&#36275;&#22815;&#22823;&#8221; &#30340;&#36335;&#24452;&#23601;&#23545;&#24212;&#20102;&#19968;&#20010;&#25991;&#20214;&#12290;</li>
</ul>
<p class=" font-serif my-1">&#22312;&#36825;&#20010;&#27169;&#22411;&#19979;&#65292;&#20320;&#21487;&#20197;&#25552;&#20986;&#24456;&#22810;&#26377;&#36259;&#30340;&#31639;&#27861;&#26469;&#23581;&#35797;&#24674;&#22797;&#25991;&#20214;&#8212;&#8212;&#27880;&#24847;&#20320;&#21487;&#20197;&#23545;&#21516;&#19968;&#20010;&#25991;&#20214;&#24674;&#22797;&#20986;&#22810;&#31181;&#21487;&#33021;&#24615;&#12290;&#21516;&#26102;&#65292;&#20320;&#20063;&#21487;&#20197;&#37319;&#21462;&#19968;&#20123;&#21551;&#21457;&#24335;&#30340;&#20248;&#21270;&#65292;&#20363;&#22914;&#20551;&#35774;&#25991;&#20214;&#30340;&#22823;&#37096;&#20998;&#37117;&#26159;&#36830;&#32493;&#23384;&#20648;&#30340;&#12290;&#22312;&#26500;&#24314;&#22270;&#30340;&#36807;&#31243;&#20013;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#38024;&#23545; bitmap &#36830;&#32493;&#23384;&#20648;&#20687;&#32032;&#30340;&#29305;&#24615;&#21435;&#21028;&#26029;&#20004;&#20010; cluster &#26159;&#21542;&#22788;&#20110;&#21516;&#19968;&#24352;&#22270;&#29255;&#65306;&#29616;&#23454;&#19990;&#30028;&#20013;&#30340;&#22270;&#29255;&#22823;&#22810;&#26159; &#8220;&#36830;&#32493;&#8221; &#21464;&#21270;&#30340;&#65292;&#21363;&#32477;&#22823;&#37096;&#20998;&#30456;&#37051;&#30340;&#20687;&#32032;&#65292;&#20687;&#32032;&#20540;&#37117;&#19981;&#20250;&#21457;&#29983;&#21095;&#28872;&#30340;&#21464;&#21270;&#12290;&#36825;&#26679;&#30340;&#24819;&#27861;&#20854;&#23454;&#23545;&#24212;&#20102;&#23545;&#22270;&#20687;&#22312;&#20108;&#32500;&#31354;&#38388;&#19978;&#36827;&#34892;&#27714;&#23548; (&#8220;gradient&#8221;)&#65292;&#32780;&#22823;&#37096;&#20998;&#20687;&#32032;&#30340;&#23548;&#25968;&#37117;&#26159;&#24456;&#23567;&#30340;&#65306;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/hog-cell-gradients.png" width="640px"></p>
<p class=" font-serif my-1">&#36825;&#26500;&#25104;&#20102; SIFT &#31639;&#27861;&#30340;&#26680;&#24515;&#65292;&#24182;&#19988;&#22312;&#35745;&#31639;&#26426;&#35270;&#35273;&#39046;&#22495;&#32479;&#39046;&#20102;&#25968;&#21313;&#24180;&#65292;&#30452;&#21040;&#28145;&#24230;&#23398;&#20064;&#25216;&#26415;&#30340;&#20986;&#29616;&#8212;&#8212;&#21367;&#31215;&#33021;&#22815;&#33258;&#21160;&#22320;&#23398;&#20064;&#20986;&#22270;&#29255;&#26799;&#24230;&#30340;&#20449;&#24687;&#65292;&#24182;&#22312;&#27492;&#22522;&#30784;&#19978;&#25552;&#21462;&#20986;&#26356;&#20026;&#26377;&#29992;&#30340;&#39640;&#23618;&#29305;&#24449;&#12290;</p>
<h3 id="45" class=" text-lg mt-2 pb-2 font-sans">4.5 &#35745;&#31639;&#26657;&#39564;&#21644;</h3>
<p class=" font-serif my-1">&#32456;&#20110;&#65292;&#20320;&#24471;&#21040;&#20102;&#25991;&#20214;&#21517;&#12289;&#25991;&#20214;&#30340;&#22823;&#23567;&#21644;&#25991;&#20214;&#30340;&#25152;&#26377;&#25968;&#25454;&#8212;&#8212;&#26159;&#26102;&#20505;&#25226;&#23427;&#30340;&#26657;&#39564;&#21644;&#36755;&#20986;&#20102;&#12290;&#22312;&#36825;&#20010;&#23454;&#39564;&#20013;&#65292;&#20320;&#38656;&#35201;&#35843;&#29992;&#22806;&#37096;&#24037;&#20855; sha1sum &#35745;&#31639;&#26657;&#39564;&#21644;&#12290;sha1sum &#30340;&#21629;&#20196;&#34892;&#24037;&#20855;&#21487;&#20197;&#20174; stdin (&#25110;&#32773;&#25991;&#20214;) &#35835;&#21462;&#25968;&#25454;&#65292;&#28982;&#21518;&#25226; hash digest &#36755;&#20986;&#21040;&#26631;&#20934;&#36755;&#20986;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code>$ echo "Hello, World" | sha1sum
4ab299c8ad6ed14f31923dd94f8b5f5cb89dfb54  -
</code></pre></div>

<p class=" font-serif my-1">sha1sum &#26159;&#19968;&#31181;&#35745;&#31639;&#23383;&#33410;&#24207;&#21015; &#8220;&#25351;&#32441;&#8221; &#30340;&#31639;&#27861;&#12290;&#25351;&#32441; (fingerprint) &#20063;&#31216;&#20026;&#26657;&#39564;&#21644; (checksum)&#65292;&#23427;&#26159;&#19968;&#20010;&#21333;&#21521;&#30340; hash function $H$&#65292;&#33021;&#25226;&#19968;&#20010;&#24456;&#22823;&#31354;&#38388;&#37324;&#30340;&#23383;&#31526;&#20018;&#26144;&#23556;&#21040;&#24456;&#23567;&#30340;&#31354;&#38388;&#20013; (&#35745;&#31639; $H(x)$)&#65292;&#24182;&#19988;&#30446;&#21069;&#32780;&#35328;&#65292;&#32473;&#23450;&#19968;&#20010; fingerprint &#21518;&#30340;&#23383;&#31526;&#20018; $t$&#65292;&#20154;&#31867;&#24456;&#38590;&#35745;&#31639;&#20986;&#19968;&#20010;&#23383;&#31526;&#20018; $x$ &#28385;&#36275; $H(x)=t$&#12290;&#25351;&#32441;&#33021;&#22312;&#19981;&#20256;&#36755;&#25972;&#20010;&#25991;&#20214;&#30340;&#21069;&#25552;&#19979;&#65292;&#24555;&#36895;&#27604;&#36739;&#20004;&#20010;&#25991;&#20214;&#26159;&#21542;&#30456;&#31561;&#12290;&#38500;&#20102;&#26657;&#39564;&#25991;&#20214;&#30340;&#23436;&#25972;&#24615;&#20043;&#22806;&#65292;&#25351;&#32441;&#36824;&#21487;&#20197;&#29992;&#26469;&#20570;&#25968;&#25454;&#30340;&#21435;&#37325;&#8212;&#8212;&#20363;&#22914;&#22823;&#23478;&#22312;&#21363;&#26102;&#36890;&#20449;&#36719;&#20214;&#20013;&#20256;&#36865;&#25991;&#20214; (&#20363;&#22914; QQ) &#26102;&#65292;&#26381;&#21153;&#22120;&#20250;&#29992;&#26657;&#39564;&#21644;&#26816;&#26597;&#26159;&#21542;&#24050;&#32463;&#23384;&#22312;&#25991;&#20214;&#30340;&#21103;&#26412;&#65292;&#22914;&#26524;&#26159;&#23601;&#21487;&#20197;&#31435;&#21363;&#32467;&#26463;&#20256;&#36755; (&#25152;&#20197;&#20320;&#20204;&#22312;&#19978;&#20256;&#19968;&#20123;&#21035;&#20154;&#21487;&#33021;&#24050;&#32463;&#19978;&#20256;&#36807;&#25991;&#20214;&#26102;&#20250;&#20986;&#29616;&#22823;&#25991;&#20214; &#8220;&#31186;&#20256;&#8221; &#30340;&#24773;&#20917;)&#12290;</p>
<p class=" font-serif my-1">&#22914;&#26524;&#20320;&#19981;&#24076;&#26395;&#22312;&#36825;&#20010;&#23454;&#39564;&#37324;&#37325;&#22797; pipe-fork-execve &#30340;&#27969;&#31243;&#65292;popen &#21487;&#20197;&#24456;&#22909;&#22320;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65306;&#25105;&#20204;&#21487;&#20197;&#25226;&#24674;&#22797;&#20986;&#30340;&#22270;&#20687;&#20889;&#20837;&#25991;&#20214;&#31995;&#32479;&#20013;&#30340;&#20219;&#20309;&#20301;&#32622; (&#24403;&#28982;&#26159;&#26576;&#20010;&#20020;&#26102;&#30446;&#24405;)&#65292;&#28982;&#21518;&#29992; popen &#35835;&#21462; sha1sum &#30340;&#36755;&#20986;&#21040;&#32531;&#20914;&#21306;&#20013;&#65292;&#28982;&#21518;&#20877;&#23558;&#23427;&#36755;&#20986;&#65306;</p>
<div class="codehilite"><pre class=" bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span></span><code><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">popen</span><span class="p">(</span><span class="s">"sha1sum /tmp/your-tmp-filename"</span><span class="p">,</span><span class="w"> </span><span class="s">"r"</span><span class="p">);</span>
<span class="n">panic_on</span><span class="p">(</span><span class="n">fp</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">"popen"</span><span class="p">);</span>
<span class="n">fscanf</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="s">"%s"</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">);</span><span class="w"> </span><span class="c1">// Get it!</span>
<span class="n">pclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
</code></pre></div>

<h3 id="46" class=" text-lg mt-2 pb-2 font-sans">4.6 &#35843;&#35797;&#20320;&#30340;&#31243;&#24207;</h3>
<p class=" font-serif my-1">&#36825;&#27425;&#30340;&#31243;&#24207;&#31245;&#24494;&#26377;&#20123;&#38271;&#12290;&#20320;&#21487;&#33021;&#38656;&#35201;&#19968;&#20123; logging &#25165;&#33021;&#27604;&#36739;&#22909;&#22320;&#24110;&#21161;&#20320;&#23436;&#25104;&#20219;&#21153;&#12290;&#35760;&#24405;&#26085;&#24535;&#26102;&#35201;&#23567;&#24515;&#24178;&#25200; Online Judge&#12290;&#27880;&#24847;&#20320;&#20381;&#28982;&#21482;&#33021;&#32534;&#20889;&#19968;&#20010; <code>.c</code> &#25991;&#20214;&#65292;&#22240;&#27492;&#27880;&#24847;&#20320;&#30340;&#20195;&#30721;&#39118;&#26684;&#65292;&#36866;&#24403;&#22320;&#20351;&#29992; IDE &#21644;&#20195;&#30721;&#25240;&#21472;&#33021;&#26368;&#22823;&#31243;&#24230;&#22320;&#25552;&#39640;&#20320;&#30340;&#32534;&#30721;&#25928;&#29575;&#12290;</p>
<p class=" font-serif my-1">&#38500;&#27492;&#20043;&#22806;&#65292;&#36825;&#20010;&#23454;&#39564;&#20013;&#19968;&#20010;&#24120;&#35265;&#30340;&#38382;&#39064;&#26159;&#20320;&#24456;&#22810;&#26102;&#20505;&#19981;&#30693;&#36947;&#20320;&#30340;&#31243;&#24207; &#8220;&#20026;&#20160;&#20040;&#8221; &#27809;&#26377;&#24674;&#22797;&#20986;&#27491;&#30830;&#30340;&#22270;&#29255;&#8212;&#8212;&#34429;&#28982;&#20320;&#30693;&#36947;&#27599;&#19968;&#20010;&#22270;&#29255;&#30340; sha1sum&#65292;&#20294;&#36825;&#20123;&#25968;&#20540;&#30475;&#36215;&#26469;&#23601;&#20687;&#26159;&#38543;&#26426;&#30340;&#25968;&#23383;&#65292;&#21482;&#35201;&#20320;&#26377;&#19968;&#20010;&#23383;&#33410;&#30340;&#24046;&#24322;&#65292;&#23427;&#20204;&#23601;&#20250;&#30475;&#36215;&#26469;&#23436;&#20840;&#19981;&#21516;&#12290;</p>
<p class=" font-serif my-1">&#19968;&#20010;&#35843;&#35797;&#30340;&#22909;&#21150;&#27861;&#26159; &#8220;visualization&#8221;: &#22312;&#35843;&#35797;&#26102;&#23558;&#24674;&#22797;&#20986;&#30340;&#22270;&#29255;&#36755;&#20986;&#21040;&#26576;&#20010;&#30446;&#24405;&#20013; (&#23567;&#24515;&#19981;&#35201;&#25226;&#22270;&#29255;&#25991;&#20214;&#25918;&#21040; Git repo &#20013;)&#65292;&#28982;&#21518;&#30452;&#25509; &#8220;&#32905;&#30524;&#8221; &#35266;&#23519;&#24674;&#22797;&#30340;&#32467;&#26524;&#65292;&#20320;&#20250;&#21457;&#29616;&#26377;&#20123;&#22270;&#29255;&#24471;&#21040;&#20102;&#27491;&#30830;&#30340;&#24674;&#22797;&#65292;&#26377;&#20123;&#21017;&#27809;&#26377;&#12290;&#20320;&#33021;&#35299;&#37322;&#20026;&#20160;&#20040;&#20250;&#30475;&#21040;&#19979;&#38754;&#37027;&#26679;&#38169;&#35823;&#30340;&#22270;&#24418;&#21527;&#65311;</p>
<p class=" font-serif my-1"><img alt="" class="center" src="../../../pages/OS/img/frecov-example.png" width="480px"></p></div>
</div>

<div class="container text-xs py-3">
  <span class="text-muted">
    <center><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../static/img/cc-4.0.png"></a>
    &#160;&#160;&#160;<a style="color:inherit" href="https://beian.miit.gov.cn/">&#33487; ICP &#22791; 2020049101 &#21495;</a>
    </center>
  </span>
</div>

</div>

<script src="../../../static/js/jquery.min.js"></script>

<script>
function get_token() {
  var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
  if (match) return match[2];
  else return "";
}
var token = get_token();
var hint = "token", box = $("#token-input");

if (token == "") { }
else { box.val(token); }

function login() {
  var token = box.val()
  if (!token) {
    document.cookie = ''
  } else {
    document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;'
  }
}
</script>


</body>

</html>