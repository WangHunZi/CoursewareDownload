# 说明
python脚本下载[jyy老师](https://jyywiki.cn/)的OS课件。尽量使用最精简、易读的代码实现。

# 使用

运行脚本后输入对应选项即可选择要下载的课件，按下回车默认下载2023年课件。

课件中包含图片、嵌入的代码等，经过测试，课件的显示都没有什么问题。

所有的课件内容都在`Courseware`这个文件夹里。

# 更新
## V2.4 2023-09-14
忘了验证其他年份课件的下载了，然后发现jupyter课件中的`href`属性中提供的链接是这样的
```html
<h3 id="Demo%EF%BC%9A%E4%BD%BF%E7%94%A8-tar-%E5%91%BD%E4%BB%A4">Demo&#65306;&#20351;&#29992; tar &#21629;&#20196;<a class="anchor-link" href="lect1.ipynb.html#Demo%EF%BC%9A%E4%BD%BF%E7%94%A8-tar-%E5%91%BD%E4%BB%A4">&#182;</a>
```
导致解析后下载出现了奇怪的文件夹，添加一行`link = urlparse(link).path`即可解决问题，这行代码直接提取出`lect1.ipn.html`

## V2.3 2023-09-14
算是比较重要的一次更新了，本次更新的代码解决了课件中文件下载不全的问题，之前下载不全是因为要猜测会有什么样类型的文件，现在不用猜测了，只需要跟着链接下载即可。

问题也随之而来，老师的`html`文件中出现了莫名其妙的路径引用比如
```html
<p class="font-serif my-1"><object alt="" class="center" src="/pages/OS/2021/labs/../../img/flame-graph.svg" width="500px" data="../../../pages/OS/img/flame-graph.svg"></object></p>
```
首先这个办法是没有问题的，确实识别到了众多文件类型，`cc`,`go`,`svg`,`pdf`等等。

但是这个问题出现的时候直接导致代码出现了`IndexError`，查了原因就是`/pages/OS/2021/labs/../../img/flame-graph.svg`惹的祸，然后识别出现问题，可我又要下载怎么办呢？难不成要进行特判？我不能接受，然后看到了后面的`data`，然后就通过`data`来下载这个文件了。~~速度我管不着，代码简洁才是真。~~


## V2.2 2023-09-13
这一版代码比V2.1要节省一个变量，其他的没有变化。优化到这里好像差不多到头了。可能还要着手解决下载速度的问题。

## V2.1 2023-09-13
这一版代码要比上一版更加精简，精简了太多，删除了V2.0中很看不爽的`file_download`中的代码，重写为`while`的一个整体，觉得很不错，还节省了一个变量。

灵光一闪好像漏了`.h`文件，添加进去后发现果然漏了，然后又试探性地下载`.txt`和`.vim`，结果却是一无所获，这个问题随缘解决吧，至少现在的文件类型是相对比较全的。

## V2.0 2023-09-10
这一版代码要比第一版要更加完善，能够下载不同年份的课件，且代码实现要比第一版更加精简。
但还是有很多要优化的地方。

## V1.0 2023-09-07
第一版代码写得略微粗糙，全是for+if，逻辑很朴实，大致思路就是从index.html开始下载，然后对下载的文件中的资源执行分析，然后对分析的链接再次下载......反复执行这个过程。
主要的限制在于只能下载2023年的课件。
